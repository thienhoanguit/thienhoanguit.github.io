"use strict";(self.webpackChunklanguage_study=self.webpackChunklanguage_study||[]).push([[792],{1076:(tn,ut,X)=>{X.d(ut,{Am:()=>yn,FA:()=>Gn,Fy:()=>Ce,Im:()=>pi,Ku:()=>at,T9:()=>He,Tj:()=>Nn,Uj:()=>ae,XA:()=>dt,ZQ:()=>Tt,bD:()=>ir,c1:()=>In,cY:()=>Te,eX:()=>be,g:()=>Ut,jZ:()=>Ft,lT:()=>Xt,lV:()=>ct,nr:()=>me,sr:()=>Wn,tD:()=>lr,u:()=>Y,yU:()=>gn,zW:()=>et});const he=function(se){const ue=[];let we=0;for(let it=0;it<se.length;it++){let Ue=se.charCodeAt(it);Ue<128?ue[we++]=Ue:Ue<2048?(ue[we++]=Ue>>6|192,ue[we++]=63&Ue|128):55296==(64512&Ue)&&it+1<se.length&&56320==(64512&se.charCodeAt(it+1))?(Ue=65536+((1023&Ue)<<10)+(1023&se.charCodeAt(++it)),ue[we++]=Ue>>18|240,ue[we++]=Ue>>12&63|128,ue[we++]=Ue>>6&63|128,ue[we++]=63&Ue|128):(ue[we++]=Ue>>12|224,ue[we++]=Ue>>6&63|128,ue[we++]=63&Ue|128)}return ue},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ue){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,it=[];for(let Ue=0;Ue<se.length;Ue+=3){const kt=se[Ue],mn=Ue+1<se.length,Jn=mn?se[Ue+1]:0,Nr=Ue+2<se.length,fr=Nr?se[Ue+2]:0;let ii=(15&Jn)<<2|fr>>6,ji=63&fr;Nr||(ji=64,mn||(ii=64)),it.push(we[kt>>2],we[(3&kt)<<4|Jn>>4],we[ii],we[ji])}return it.join("")},encodeString(se,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(se):this.encodeByteArray(he(se),ue)},decodeString(se,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(se):function(se){const ue=[];let we=0,it=0;for(;we<se.length;){const Ue=se[we++];if(Ue<128)ue[it++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const kt=se[we++];ue[it++]=String.fromCharCode((31&Ue)<<6|63&kt)}else if(Ue>239&&Ue<365){const Nr=((7&Ue)<<18|(63&se[we++])<<12|(63&se[we++])<<6|63&se[we++])-65536;ue[it++]=String.fromCharCode(55296+(Nr>>10)),ue[it++]=String.fromCharCode(56320+(1023&Nr))}else{const kt=se[we++],mn=se[we++];ue[it++]=String.fromCharCode((15&Ue)<<12|(63&kt)<<6|63&mn)}}return ue.join("")}(this.decodeStringToByteArray(se,ue))},decodeStringToByteArray(se,ue){this.init_();const we=ue?this.charToByteMapWebSafe_:this.charToByteMap_,it=[];for(let Ue=0;Ue<se.length;){const kt=we[se.charAt(Ue++)],Jn=Ue<se.length?we[se.charAt(Ue)]:0;++Ue;const fr=Ue<se.length?we[se.charAt(Ue)]:64;++Ue;const Pn=Ue<se.length?we[se.charAt(Ue)]:64;if(++Ue,null==kt||null==Jn||null==fr||null==Pn)throw new K;it.push(kt<<2|Jn>>4),64!==fr&&(it.push(Jn<<4&240|fr>>2),64!==Pn&&it.push(fr<<6&192|Pn))}return it},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(se){return function(se){const ue=he(se);return V.encodeByteArray(ue,!0)}(se).replace(/\./g,"")},Y=function(se){try{return V.decodeString(se,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null},zt=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=se&&Y(se[1]);return ue&&JSON.parse(ue)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},Nn=se=>{var ue,we;return null===(we=null===(ue=zt())||void 0===ue?void 0:ue.emulatorHosts)||void 0===we?void 0:we[se]},gn=se=>{const ue=Nn(se);if(!ue)return;const we=ue.lastIndexOf(":");if(we<=0||we+1===ue.length)throw new Error(`Invalid host ${ue} with no separate hostname and port!`);const it=parseInt(ue.substring(we+1),10);return"["===ue[0]?[ue.substring(1,we-1),it]:[ue.substring(0,we),it]},He=()=>{var se;return null===(se=zt())||void 0===se?void 0:se.config},dt=se=>{var ue;return null===(ue=zt())||void 0===ue?void 0:ue[`_${se}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,we)=>{this.resolve=ue,this.reject=we})}wrapCallback(ue){return(we,it)=>{we?this.reject(we):this.resolve(it),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(we):ue(we,it))}}}function Ce(se,ue){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const it=ue||"demo-project",Ue=se.iat||0,kt=se.sub||se.user_id;if(!kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mn=Object.assign({iss:`https://securetoken.google.com/${it}`,aud:it,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:kt,user_id:kt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(mn)),""].join(".")}function Tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function In(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Wn(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xt(){const se=Tt();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function me(){return!function Ae(){var se;const ue=null===(se=zt())||void 0===se?void 0:se.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((se,ue)=>{try{let we=!0;const it="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(it);Ue.onsuccess=()=>{Ue.result.close(),we||self.indexedDB.deleteDatabase(it),se(!0)},Ue.onupgradeneeded=()=>{we=!1},Ue.onerror=()=>{var kt;ue((null===(kt=Ue.error)||void 0===kt?void 0:kt.message)||"")}}catch(we){ue(we)}})}class Ut extends Error{constructor(ue,we,it){super(we),this.code=ue,this.customData=it,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}}class Gn{constructor(ue,we,it){this.service=ue,this.serviceName=we,this.errors=it}create(ue,...we){const it=we[0]||{},Ue=`${this.service}/${ue}`,kt=this.errors[ue],mn=kt?function Dr(se,ue){return se.replace(nn,(we,it)=>{const Ue=ue[it];return null!=Ue?String(Ue):`<${it}?>`})}(kt,it):"Error";return new Ut(Ue,`${this.serviceName}: ${mn} (${Ue}).`,it)}}const nn=/\{\$([^}]+)}/g;function pi(se){for(const ue in se)if(Object.prototype.hasOwnProperty.call(se,ue))return!1;return!0}function ir(se,ue){if(se===ue)return!0;const we=Object.keys(se),it=Object.keys(ue);for(const Ue of we){if(!it.includes(Ue))return!1;const kt=se[Ue],mn=ue[Ue];if(_t(kt)&&_t(mn)){if(!ir(kt,mn))return!1}else if(kt!==mn)return!1}for(const Ue of it)if(!we.includes(Ue))return!1;return!0}function _t(se){return null!==se&&"object"==typeof se}function yn(se){const ue=[];for(const[we,it]of Object.entries(se))Array.isArray(it)?it.forEach(Ue=>{ue.push(encodeURIComponent(we)+"="+encodeURIComponent(Ue))}):ue.push(encodeURIComponent(we)+"="+encodeURIComponent(it));return ue.length?"&"+ue.join("&"):""}function lr(se,ue){const we=new Zr(se,ue);return we.subscribe.bind(we)}class Zr{constructor(ue,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{ue(this)}).catch(it=>{this.error(it)})}next(ue){this.forEachObserver(we=>{we.next(ue)})}error(ue){this.forEachObserver(we=>{we.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,we,it){let Ue;if(void 0===ue&&void 0===we&&void 0===it)throw new Error("Missing Observer.");Ue=function Lr(se,ue){if("object"!=typeof se||null===se)return!1;for(const we of ue)if(we in se&&"function"==typeof se[we])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:we,complete:it},void 0===Ue.next&&(Ue.next=xr),void 0===Ue.error&&(Ue.error=xr),void 0===Ue.complete&&(Ue.complete=xr);const kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch{}}),this.observers.push(Ue),kt}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,ue)}sendOne(ue,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{we(this.observers[ue])}catch(it){typeof console<"u"&&console.error&&console.error(it)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function at(se){return se&&se._delegate?se._delegate:se}},4339:(tn,ut,X)=>{X.d(ut,{u:()=>K});var S=X(467),P=X(4412),Ee=X(9579),he=X(3953),F=X(2418);let V=(()=>{class te{firestore;constructor(Y){this.firestore=Y}addDocument(Y,ee){var Se=this;return(0,S.A)(function*(){const Be=(0,F.rJ)(Se.firestore,Y),Ke=(0,F.H9)(Be);return yield(0,F.BN)(Ke,ee)})()}getAllDocuments(Y){const ee=(0,F.rJ)(this.firestore,Y);return(0,F.xs)(ee,{idField:"id"})}updateDocument(Y,ee,Se){var Be=this;return(0,S.A)(function*(){const Ke=(0,F.H9)(Be.firestore,`${Y}/${ee}`);return yield(0,F.mZ)(Ke,Se)})()}deleteDocument(Y,ee){var Se=this;return(0,S.A)(function*(){const Be=(0,F.H9)(Se.firestore,`${Y}/${ee}`);return yield(0,F.kd)(Be)})()}filterDocumentsByField(Y,ee,Se){var Be=this;return(0,S.A)(function*(){const Ke=(0,F.rJ)(Be.firestore,Y),Dt=(0,F.P)(Ke,(0,F._M)(ee,"==",Se));return(yield(0,F.GG)(Dt)).docs.map(Wt=>Wt.data())})()}filterDocumentByField(Y,ee,Se){var Be=this;return(0,S.A)(function*(){const Ke=(0,F.rJ)(Be.firestore,Y),Dt=(0,F.P)(Ke,(0,F._M)(ee,"==",Se)),Lt=yield(0,F.GG)(Dt);return Lt.docs.length>0?Lt.docs[0].data():null})()}static \u0275fac=function(ee){return new(ee||te)(he.KVO(F._7))};static \u0275prov=he.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),K=(()=>{class te{_firestoreService;_user=new P.t(void 0);_credential=new P.t(void 0);userColName="/users";get user(){return this._user.value}get isLogged(){return null!=this.user}get isAdmin(){return null!=this.user&&null!=this.user.role&&this.user.role.includes("admin")}constructor(Y){this._firestoreService=Y;try{const ee=JSON.parse(String(localStorage.getItem("user")));ee&&this._user.next(ee);const Se=JSON.parse(String(localStorage.getItem("credential")));Se&&this._credential.next(Se)}catch{}}login(Y,ee){var Se=this;return(0,S.A)(function*(){let Be=yield Se._firestoreService.filterDocumentByField(Se.userColName,"email",Y.email.toLocaleLowerCase());return Be&&Be.isActive?(Se._user.next(Be),Se._credential.next(ee),localStorage.setItem("user",JSON.stringify(Be)),localStorage.setItem("credential",JSON.stringify(ee)),{status:!0,message:""}):(Be||(Y.email=Y.email.toLocaleLowerCase(),yield Se._firestoreService.addDocument(Se.userColName,Y)),{status:!1,message:"B\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n, vui l\xf2ng \u0111\u1ee3i qu\u1ea3n tr\u1ecb vi\xean duy\u1ec7t"})})()}logout(){new Ee.HF,(0,Ee.CI)((0,Ee.xI)()),this._user.next(void 0),this._credential.next(void 0),localStorage.removeItem("user"),localStorage.removeItem("credential")}static \u0275fac=function(ee){return new(ee||te)(he.KVO(V))};static \u0275prov=he.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},3517:(tn,ut,X)=>{var S=X(345),P=X(3953),Ee=X(1069),he=X(9969),F=X(177),V=X(5779),K=X(3306),te=X(461),ae=X(4420);let Y=(()=>{class U extends te.h{pathId;ngOnInit(){this.pathId="url(#"+(0,ae._Y)()+")"}static \u0275fac=(()=>{let I;return function($){return(I||(I=P.xGo(U)))($||U)}})();static \u0275cmp=P.VBU({type:U,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[P.Vt3,P.aNF],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(x,$){1&x&&(P.qSk(),P.j41(0,"svg",0)(1,"g"),P.nrm(2,"path",1)(3,"path",2)(4,"path",3),P.k0s(),P.j41(5,"defs")(6,"clipPath",4),P.nrm(7,"rect",5),P.k0s()()()),2&x&&(P.HbH($.getClassNames()),P.BMQ("aria-label",$.ariaLabel)("aria-hidden",$.ariaHidden)("role",$.role),P.R7$(),P.BMQ("clip-path",$.pathId),P.R7$(5),P.Y8G("id",$.pathId))},encapsulation:2})}return U})(),ee=(()=>{class U extends te.h{pathId;ngOnInit(){this.pathId="url(#"+(0,ae._Y)()+")"}static \u0275fac=(()=>{let I;return function($){return(I||(I=P.xGo(U)))($||U)}})();static \u0275cmp=P.VBU({type:U,selectors:[["InfoCircleIcon"]],standalone:!0,features:[P.Vt3,P.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(x,$){1&x&&(P.qSk(),P.j41(0,"svg",0)(1,"g"),P.nrm(2,"path",1),P.k0s(),P.j41(3,"defs")(4,"clipPath",2),P.nrm(5,"rect",3),P.k0s()()()),2&x&&(P.HbH($.getClassNames()),P.BMQ("aria-label",$.ariaLabel)("aria-hidden",$.ariaHidden)("role",$.role),P.R7$(),P.BMQ("clip-path",$.pathId),P.R7$(3),P.Y8G("id",$.pathId))},encapsulation:2})}return U})();var Se=X(1512);let Be=(()=>{class U extends te.h{pathId;ngOnInit(){this.pathId="url(#"+(0,ae._Y)()+")"}static \u0275fac=(()=>{let I;return function($){return(I||(I=P.xGo(U)))($||U)}})();static \u0275cmp=P.VBU({type:U,selectors:[["TimesCircleIcon"]],standalone:!0,features:[P.Vt3,P.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(x,$){1&x&&(P.qSk(),P.j41(0,"svg",0)(1,"g"),P.nrm(2,"path",1),P.k0s(),P.j41(3,"defs")(4,"clipPath",2),P.nrm(5,"rect",3),P.k0s()()()),2&x&&(P.HbH($.getClassNames()),P.BMQ("aria-label",$.ariaLabel)("aria-hidden",$.ariaHidden)("role",$.role),P.R7$(),P.BMQ("clip-path",$.pathId),P.R7$(3),P.Y8G("id",$.pathId))},encapsulation:2})}return U})();var Ke=X(563),Dt=X(1455);const Lt=["container"],Wt=U=>[U,"p-toast-message"],zt=(U,v,I,x)=>({showTransformParams:U,hideTransformParams:v,showTransitionParams:I,hideTransitionParams:x}),Nn=U=>({value:"visible",params:U}),gn=(U,v)=>({$implicit:U,closeFn:v}),He=U=>({$implicit:U});function dt(U,v){1&U&&P.eu8(0)}function Te(U,v){if(1&U&&(P.qex(0),P.DNE(1,dt,1,0,"ng-container",4),P.bVm()),2&U){const I=P.XpG();P.R7$(),P.Y8G("ngTemplateOutlet",I.headlessTemplate)("ngTemplateOutletContext",P.l_i(2,gn,I.message,I.onCloseIconClick))}}function Ce(U,v){if(1&U&&P.nrm(0,"span"),2&U){const I=P.XpG(3);P.HbH("p-toast-message-icon pi "+I.message.icon)}}function Tt(U,v){1&U&&P.nrm(0,"CheckIcon"),2&U&&P.BMQ("aria-hidden",!0)("data-pc-section","icon")}function Ft(U,v){1&U&&P.nrm(0,"InfoCircleIcon"),2&U&&P.BMQ("aria-hidden",!0)("data-pc-section","icon")}function Ae(U,v){1&U&&P.nrm(0,"TimesCircleIcon"),2&U&&P.BMQ("aria-hidden",!0)("data-pc-section","icon")}function Qe(U,v){1&U&&P.nrm(0,"ExclamationTriangleIcon"),2&U&&P.BMQ("aria-hidden",!0)("data-pc-section","icon")}function bt(U,v){if(1&U&&(P.j41(0,"span",13),P.qex(1),P.DNE(2,Tt,1,2,"CheckIcon",6)(3,Ft,1,2,"InfoCircleIcon",6)(4,Ae,1,2,"TimesCircleIcon",6)(5,Qe,1,2,"ExclamationTriangleIcon",6),P.bVm(),P.k0s()),2&U){const I=P.XpG(3);P.BMQ("aria-hidden",!0)("data-pc-section","icon"),P.R7$(2),P.Y8G("ngIf","success"===I.message.severity),P.R7$(),P.Y8G("ngIf","info"===I.message.severity),P.R7$(),P.Y8G("ngIf","error"===I.message.severity),P.R7$(),P.Y8G("ngIf","warn"===I.message.severity)}}function In(U,v){if(1&U&&(P.qex(0),P.DNE(1,Ce,1,2,"span",8)(2,bt,6,6,"span",9),P.j41(3,"div",10)(4,"div",11),P.EFF(5),P.k0s(),P.j41(6,"div",12),P.EFF(7),P.k0s()(),P.bVm()),2&U){const I=P.XpG(2);P.R7$(),P.Y8G("ngIf",I.message.icon),P.R7$(),P.Y8G("ngIf",!I.message.icon),P.R7$(),P.BMQ("data-pc-section","text"),P.R7$(),P.BMQ("data-pc-section","summary"),P.R7$(),P.JRh(I.message.summary),P.R7$(),P.BMQ("data-pc-section","detail"),P.R7$(),P.JRh(I.message.detail)}}function Wn(U,v){1&U&&P.eu8(0)}function ct(U,v){if(1&U&&P.nrm(0,"span"),2&U){const I=P.XpG(3);P.HbH("pt-1 text-base p-toast-message-icon pi "+I.message.closeIcon)}}function Mt(U,v){1&U&&P.nrm(0,"TimesIcon",16),2&U&&(P.Y8G("styleClass","p-toast-icon-close-icon"),P.BMQ("aria-hidden",!0)("data-pc-section","closeicon"))}function Xt(U,v){if(1&U){const I=P.RV6();P.j41(0,"button",14),P.bIt("click",function($){P.eBV(I);const ne=P.XpG(2);return P.Njj(ne.onCloseIconClick($))})("keydown.enter",function($){P.eBV(I);const ne=P.XpG(2);return P.Njj(ne.onCloseIconClick($))}),P.DNE(1,ct,1,2,"span",8)(2,Mt,1,3,"TimesIcon",15),P.k0s()}if(2&U){const I=P.XpG(2);P.BMQ("aria-label",I.closeAriaLabel)("data-pc-section","closebutton"),P.R7$(),P.Y8G("ngIf",I.message.closeIcon),P.R7$(),P.Y8G("ngIf",!I.message.closeIcon)}}function Yt(U,v){if(1&U&&(P.j41(0,"div",5),P.DNE(1,In,8,7,"ng-container",6)(2,Wn,1,0,"ng-container",4)(3,Xt,3,4,"button",7),P.k0s()),2&U){const I=P.XpG();P.Y8G("ngClass",null==I.message?null:I.message.contentStyleClass),P.BMQ("data-pc-section","content"),P.R7$(),P.Y8G("ngIf",!I.template),P.R7$(),P.Y8G("ngTemplateOutlet",I.template)("ngTemplateOutletContext",P.eq3(6,He,I.message)),P.R7$(),P.Y8G("ngIf",!1!==(null==I.message?null:I.message.closable))}}function pe(U,v){if(1&U){const I=P.RV6();P.j41(0,"p-toastItem",3),P.bIt("onClose",function($){P.eBV(I);const ne=P.XpG();return P.Njj(ne.onMessageClose($))})("@toastAnimation.start",function($){P.eBV(I);const ne=P.XpG();return P.Njj(ne.onAnimationStart($))})("@toastAnimation.done",function($){P.eBV(I);const ne=P.XpG();return P.Njj(ne.onAnimationEnd($))}),P.k0s()}if(2&U){const I=v.$implicit,x=v.index,$=P.XpG();P.Y8G("message",I)("index",x)("life",$.life)("template",$.template)("headlessTemplate",$.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",$.showTransformOptions)("hideTransformOptions",$.hideTransformOptions)("showTransitionOptions",$.showTransitionOptions)("hideTransitionOptions",$.hideTransitionOptions)}}let me=(()=>{class U{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new P.bkB;containerViewChild;timeout;constructor(I,x){this.zone=I,this.config=x}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=I=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),I.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(x){return new(x||U)(P.rXU(P.SKi),P.rXU(V.r1))};static \u0275cmp=P.VBU({type:U,selectors:[["p-toastItem"]],viewQuery:function(x,$){if(1&x&&P.GBs(Lt,5),2&x){let ne;P.mGM(ne=P.lsd())&&($.containerViewChild=ne.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",P.Udg],life:[2,"life","life",P.Udg],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[P.GFd],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(x,$){if(1&x){const ne=P.RV6();P.j41(0,"div",2,0),P.bIt("mouseenter",function(){return P.eBV(ne),P.Njj($.onMouseEnter())})("mouseleave",function(){return P.eBV(ne),P.Njj($.onMouseLeave())}),P.DNE(2,Te,2,5,"ng-container",3)(3,Yt,4,8,"ng-template",null,1,P.C5r),P.k0s()}if(2&x){const ne=P.sdS(4);P.HbH(null==$.message?null:$.message.styleClass),P.Y8G("ngClass",P.eq3(9,Wt,"p-toast-message-"+(null==$.message?null:$.message.severity)))("@messageState",P.eq3(16,Nn,P.ziG(11,zt,$.showTransformOptions,$.hideTransformOptions,$.showTransitionOptions,$.hideTransitionOptions))),P.BMQ("id",null==$.message?null:$.message.id)("data-pc-name","toast")("data-pc-section","root"),P.R7$(2),P.Y8G("ngIf",$.headlessTemplate)("ngIfElse",ne)}},dependencies:()=>[F.YU,F.bT,F.T3,Ke.n,K.S,ee,Be,Y,Se.A],encapsulation:2,data:{animation:[(0,he.hZ)("messageState",[(0,he.wk)("visible",(0,he.iF)({transform:"translateY(0)",opacity:1})),(0,he.kY)("void => *",[(0,he.iF)({transform:"{{showTransformParams}}",opacity:0}),(0,he.i0)("{{showTransitionParams}}")]),(0,he.kY)("* => void",[(0,he.i0)("{{hideTransitionParams}}",(0,he.iF)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return U})(),et=(()=>{class U{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(I){this._position=I,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new P.bkB;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(I,x,$,ne,Re){this.document=I,this.renderer=x,this.messageService=$,this.cd=ne,this.config=Re}styleElement;id=(0,ae._Y)();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(I=>{if(I)if(Array.isArray(I)){const x=I.filter($=>this.canAdd($));this.add(x)}else this.canAdd(I)&&this.add([I])}),this.clearSubscription=this.messageService.clearObserver.subscribe(I=>{I?this.key===I&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(I){this.messages=this.messages?[...this.messages,...I]:[...I],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...I]:[...I]),this.cd.markForCheck()}canAdd(I){let x=this.key===I.key;return x&&this.preventOpenDuplicates&&(x=!this.containsMessage(this.messages,I)),x&&this.preventDuplicates&&(x=!this.containsMessage(this.messagesArchieve,I)),x}containsMessage(I,x){return!!I&&null!=I.find($=>$.summary===x.summary&&$.detail==x.detail&&$.severity===x.severity)}ngAfterContentInit(){this.templates?.forEach(I=>{switch(I.getType()){case"message":default:this.template=I.template;break;case"headless":this.headlessTemplate=I.template}})}onMessageClose(I){this.messages?.splice(I.index,1),this.onClose.emit({message:I.message}),this.cd.detectChanges()}onAnimationStart(I){"void"===I.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&ae.Q$.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(I){"void"===I.toState&&this.autoZIndex&&ae.BF.isEmpty(this.messages)&&ae.Q$.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Dt.D.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let I="";for(let x in this.breakpoints){let $="";for(let ne in this.breakpoints[x])$+=ne+":"+this.breakpoints[x][ne]+" !important;";I+=`\n                    @media screen and (max-width: ${x}) {\n                        .p-toast[${this.id}] {\n                           ${$}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",I)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ae.Q$.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(x){return new(x||U)(P.rXU(F.qQ),P.rXU(P.sFG),P.rXU(V.bg),P.rXU(P.gRc),P.rXU(V.r1))};static \u0275cmp=P.VBU({type:U,selectors:[["p-toast"]],contentQueries:function(x,$,ne){if(1&x&&P.wni(ne,V.Ei,4),2&x){let Re;P.mGM(Re=P.lsd())&&($.templates=Re)}},viewQuery:function(x,$){if(1&x&&P.GBs(Lt,5),2&x){let ne;P.mGM(ne=P.lsd())&&($.containerViewChild=ne.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",P.L39],baseZIndex:[2,"baseZIndex","baseZIndex",P.Udg],life:[2,"life","life",P.Udg],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",P.L39],preventDuplicates:[2,"preventDuplicates","preventDuplicates",P.L39],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[P.GFd],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(x,$){1&x&&(P.j41(0,"div",1,0),P.DNE(2,pe,1,10,"p-toastItem",2),P.k0s()),2&x&&(P.HbH($.styleClass),P.Y8G("ngClass","p-toast-"+$._position)("ngStyle",$.style),P.R7$(2),P.Y8G("ngForOf",$.messages))},dependencies:[F.YU,F.Sq,F.B3,me],styles:["@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}\n"],encapsulation:2,data:{animation:[(0,he.hZ)("toastAnimation",[(0,he.kY)(":enter, :leave",[(0,he.P)("@*",(0,he.MA)())])])]},changeDetection:0})}return U})(),be=(()=>{class U{static \u0275fac=function(x){return new(x||U)};static \u0275mod=P.$C({type:U});static \u0275inj=P.G2t({imports:[F.MD,Ke.Z,K.S,ee,Be,Y,Se.A,V.Gg]})}return U})(),ce=(()=>{class U{title="pw";static \u0275fac=function(x){return new(x||U)};static \u0275cmp=P.VBU({type:U,selectors:[["app-root"]],features:[P.Jv_([])],decls:2,vars:0,template:function(x,$){1&x&&P.nrm(0,"router-outlet")(1,"p-toast")},dependencies:[Ee.n3,et]})}return U})();function Ut(U){return new P.wOt(3e3,!1)}function Me(U){switch(U.length){case 0:return new he.sf;case 1:return U[0];default:return new he.ui(U)}}function tt(U,v,I=new Map,x=new Map){const $=[],ne=[];let Re=-1,De=null;if(v.forEach(Fe=>{const lt=Fe.get("offset"),qt=lt==Re,Bt=qt&&De||new Map;Fe.forEach((Hn,Vn)=>{let dn=Vn,Tn=Hn;if("offset"!==Vn)switch(dn=U.normalizePropertyName(dn,$),Tn){case he.FX:Tn=I.get(Vn);break;case he.kp:Tn=x.get(Vn);break;default:Tn=U.normalizeStyleValue(Vn,dn,Tn,$)}Bt.set(dn,Tn)}),qt||ne.push(Bt),De=Bt,Re=lt}),$.length)throw function Ti(){return new P.wOt(3502,!1)}();return ne}function Xe(U,v,I,x){switch(v){case"start":U.onStart(()=>x(I&&fe(I,"start",U)));break;case"done":U.onDone(()=>x(I&&fe(I,"done",U)));break;case"destroy":U.onDestroy(()=>x(I&&fe(I,"destroy",U)))}}function fe(U,v,I){const ne=Le(U.element,U.triggerName,U.fromState,U.toState,v||U.phaseName,I.totalTime??U.totalTime,!!I.disabled),Re=U._data;return null!=Re&&(ne._data=Re),ne}function Le(U,v,I,x,$="",ne=0,Re){return{element:U,triggerName:v,fromState:I,toState:x,phaseName:$,totalTime:ne,disabled:!!Re}}function at(U,v,I){let x=U.get(v);return x||U.set(v,x=I),x}function se(U){const v=U.indexOf(":");return[U.substring(1,v),U.slice(v+1)]}const ue=typeof document>"u"?null:document.documentElement;function we(U){const v=U.parentNode||U.host||null;return v===ue?null:v}let Ue=null,kt=!1;function fr(U,v){for(;v;){if(v===U)return!0;v=we(v)}return!1}function ci(U,v,I){if(I)return Array.from(U.querySelectorAll(v));const x=U.querySelector(v);return x?[x]:[]}let ii=(()=>{class U{validateStyleProperty(I){return function mn(U){Ue||(Ue=function Nr(){return typeof document<"u"?document.body:null}()||{},kt=!!Ue.style&&"WebkitAppearance"in Ue.style);let v=!0;return Ue.style&&!function it(U){return"ebkit"==U.substring(1,6)}(U)&&(v=U in Ue.style,!v&&kt&&(v="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Ue.style)),v}(I)}containsElement(I,x){return fr(I,x)}getParentElement(I){return we(I)}query(I,x,$){return ci(I,x,$)}computeStyle(I,x,$){return $||""}animate(I,x,$,ne,Re,De=[],Fe){return new he.sf($,ne)}static{this.\u0275fac=function(x){return new(x||U)}}static{this.\u0275prov=P.jDH({token:U,factory:U.\u0275fac})}}return U})();class ji{static{this.NOOP=new ii}}class ei{}const rs=1e3,Xo="ng-enter",rt="ng-leave",je="ng-trigger",gt=".ng-trigger",$t="ng-animating",Sn=".ng-animating";function un(U){if("number"==typeof U)return U;const v=U.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:kn(parseFloat(v[1]),v[2])}function kn(U,v){return"s"===v?U*rs:U}function tr(U,v,I){return U.hasOwnProperty("duration")?U:function Sr(U,v,I){let $,ne=0,Re="";if("string"==typeof U){const De=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return v.push(Ut()),{duration:0,delay:0,easing:""};$=kn(parseFloat(De[1]),De[2]);const Fe=De[3];null!=Fe&&(ne=kn(parseFloat(Fe),De[4]));const lt=De[5];lt&&(Re=lt)}else $=U;if(!I){let De=!1,Fe=v.length;$<0&&(v.push(function Gn(){return new P.wOt(3100,!1)}()),De=!0),ne<0&&(v.push(function Dr(){return new P.wOt(3101,!1)}()),De=!0),De&&v.splice(Fe,0,Ut())}return{duration:$,delay:ne,easing:Re}}(U,v,I)}function _e(U,v,I){v.forEach((x,$)=>{const ne=_r($);I&&!I.has($)&&I.set($,U.style[ne]),U.style[ne]=x})}function ve(U,v){v.forEach((I,x)=>{const $=_r(x);U.style[$]=""})}function ot(U){return Array.isArray(U)?1==U.length?U[0]:(0,he.K2)(U):U}const Rt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ht(U){let v=[];if("string"==typeof U){let I;for(;I=Rt.exec(U);)v.push(I[1]);Rt.lastIndex=0}return v}function Dn(U,v,I){const x=`${U}`,$=x.replace(Rt,(ne,Re)=>{let De=v[Re];return null==De&&(I.push(function Un(){return new P.wOt(3003,!1)}()),De=""),De.toString()});return $==x?U:$}const fn=/-+([a-z0-9])/g;function _r(U){return U.replace(fn,(...v)=>v[1].toUpperCase())}function qn(U,v,I){switch(v.type){case he.If.Trigger:return U.visitTrigger(v,I);case he.If.State:return U.visitState(v,I);case he.If.Transition:return U.visitTransition(v,I);case he.If.Sequence:return U.visitSequence(v,I);case he.If.Group:return U.visitGroup(v,I);case he.If.Animate:return U.visitAnimate(v,I);case he.If.Keyframes:return U.visitKeyframes(v,I);case he.If.Style:return U.visitStyle(v,I);case he.If.Reference:return U.visitReference(v,I);case he.If.AnimateChild:return U.visitAnimateChild(v,I);case he.If.AnimateRef:return U.visitAnimateRef(v,I);case he.If.Query:return U.visitQuery(v,I);case he.If.Stagger:return U.visitStagger(v,I);default:throw function Kn(){return new P.wOt(3004,!1)}()}}function Hr(U,v){return window.getComputedStyle(U)[v]}const pr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cn extends ei{normalizePropertyName(v,I){return _r(v)}normalizeStyleValue(v,I,x,$){let ne="";const Re=x.toString().trim();if(pr.has(I)&&0!==x&&"0"!==x)if("number"==typeof x)ne="px";else{const De=x.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&$.push(function Ur(){return new P.wOt(3005,!1)}())}return Re+ne}}const Li="*";const Qi=new Set(["true","1"]),Fr=new Set(["false","0"]);function ds(U,v){const I=Qi.has(U)||Fr.has(U),x=Qi.has(v)||Fr.has(v);return($,ne)=>{let Re=U==Li||U==$,De=v==Li||v==ne;return!Re&&I&&"boolean"==typeof $&&(Re=$?Qi.has(U):Fr.has(U)),!De&&x&&"boolean"==typeof ne&&(De=ne?Qi.has(v):Fr.has(v)),Re&&De}}const Po=new RegExp("s*:selfs*,?","g");function Mo(U,v,I,x){return new No(U).build(v,I,x)}class No{constructor(v){this._driver=v}build(v,I,x){const $=new Bs(I);return this._resetContextStyleTimingState($),qn(this,ot(v),$)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,I){let x=I.queryCount=0,$=I.depCount=0;const ne=[],Re=[];return"@"==v.name.charAt(0)&&I.errors.push(function nr(){return new P.wOt(3006,!1)}()),v.definitions.forEach(De=>{if(this._resetContextStyleTimingState(I),De.type==he.If.State){const Fe=De,lt=Fe.name;lt.toString().split(/\s*,\s*/).forEach(qt=>{Fe.name=qt,ne.push(this.visitState(Fe,I))}),Fe.name=lt}else if(De.type==he.If.Transition){const Fe=this.visitTransition(De,I);x+=Fe.queryCount,$+=Fe.depCount,Re.push(Fe)}else I.errors.push(function Er(){return new P.wOt(3007,!1)}())}),{type:he.If.Trigger,name:v.name,states:ne,transitions:Re,queryCount:x,depCount:$,options:null}}visitState(v,I){const x=this.visitStyle(v.styles,I),$=v.options&&v.options.params||null;if(x.containsDynamicStyles){const ne=new Set,Re=$||{};x.styles.forEach(De=>{De instanceof Map&&De.forEach(Fe=>{Ht(Fe).forEach(lt=>{Re.hasOwnProperty(lt)||ne.add(lt)})})}),ne.size&&I.errors.push(function Gr(){return new P.wOt(3008,!1)}(0,ne.values()))}return{type:he.If.State,name:v.name,style:x,options:$?{params:$}:null}}visitTransition(v,I){I.queryCount=0,I.depCount=0;const x=qn(this,ot(v.animation),I),$=function co(U,v){const I=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(x=>function Or(U,v,I){if(":"==U[0]){const Fe=function ca(U,v){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(I,x)=>parseFloat(x)>parseFloat(I);case":decrement":return(I,x)=>parseFloat(x)<parseFloat(I);default:return v.push(function yt(){return new P.wOt(3016,!1)}()),"* => *"}}(U,I);if("function"==typeof Fe)return void v.push(Fe);U=Fe}const x=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return I.push(function zn(){return new P.wOt(3015,!1)}()),v;const $=x[1],ne=x[2],Re=x[3];v.push(ds($,Re)),"<"==ne[0]&&($!=Li||Re!=Li)&&v.push(ds(Re,$))}(x,I,v)):I.push(U),I}(v.expr,I.errors);return{type:he.If.Transition,matchers:$,animation:x,queryCount:I.queryCount,depCount:I.depCount,options:is(v.options)}}visitSequence(v,I){return{type:he.If.Sequence,steps:v.steps.map(x=>qn(this,x,I)),options:is(v.options)}}visitGroup(v,I){const x=I.currentTime;let $=0;const ne=v.steps.map(Re=>{I.currentTime=x;const De=qn(this,Re,I);return $=Math.max($,I.currentTime),De});return I.currentTime=$,{type:he.If.Group,steps:ne,options:is(v.options)}}visitAnimate(v,I){const x=function Cs(U,v){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return Yo(tr(U,v).duration,0,"");const I=U;if(I.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=Yo(0,0,"");return ne.dynamic=!0,ne.strValue=I,ne}const $=tr(I,v);return Yo($.duration,$.delay,$.easing)}(v.timings,I.errors);I.currentAnimateTimings=x;let $,ne=v.styles?v.styles:(0,he.iF)({});if(ne.type==he.If.Keyframes)$=this.visitKeyframes(ne,I);else{let Re=v.styles,De=!1;if(!Re){De=!0;const lt={};x.easing&&(lt.easing=x.easing),Re=(0,he.iF)(lt)}I.currentTime+=x.duration+x.delay;const Fe=this.visitStyle(Re,I);Fe.isEmptyStep=De,$=Fe}return I.currentAnimateTimings=null,{type:he.If.Animate,timings:x,style:$,options:null}}visitStyle(v,I){const x=this._makeStyleAst(v,I);return this._validateStyleAst(x,I),x}_makeStyleAst(v,I){const x=[],$=Array.isArray(v.styles)?v.styles:[v.styles];for(let De of $)"string"==typeof De?De===he.kp?x.push(De):I.errors.push(new P.wOt(3002,!1)):x.push(new Map(Object.entries(De)));let ne=!1,Re=null;return x.forEach(De=>{if(De instanceof Map&&(De.has("easing")&&(Re=De.get("easing"),De.delete("easing")),!ne))for(let Fe of De.values())if(Fe.toString().indexOf("{{")>=0){ne=!0;break}}),{type:he.If.Style,styles:x,easing:Re,offset:v.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(v,I){const x=I.currentAnimateTimings;let $=I.currentTime,ne=I.currentTime;x&&ne>0&&(ne-=x.duration+x.delay),v.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((De,Fe)=>{const lt=I.collectedStyles.get(I.currentQuerySelector),qt=lt.get(Fe);let Bt=!0;qt&&(ne!=$&&ne>=qt.startTime&&$<=qt.endTime&&(I.errors.push(function on(){return new P.wOt(3010,!1)}()),Bt=!1),ne=qt.startTime),Bt&&lt.set(Fe,{startTime:ne,endTime:$}),I.options&&function wt(U,v,I){const x=v.params||{},$=Ht(U);$.length&&$.forEach(ne=>{x.hasOwnProperty(ne)||I.push(function nn(){return new P.wOt(3001,!1)}())})}(De,I.options,I.errors)})})}visitKeyframes(v,I){const x={type:he.If.Keyframes,styles:[],options:null};if(!I.currentAnimateTimings)return I.errors.push(function pi(){return new P.wOt(3011,!1)}()),x;let ne=0;const Re=[];let De=!1,Fe=!1,lt=0;const qt=v.steps.map(w=>{const G=this._makeStyleAst(w,I);let N=null!=G.offset?G.offset:function hs(U){if("string"==typeof U)return null;let v=null;if(Array.isArray(U))U.forEach(I=>{if(I instanceof Map&&I.has("offset")){const x=I;v=parseFloat(x.get("offset")),x.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const I=U;v=parseFloat(I.get("offset")),I.delete("offset")}return v}(G.styles),B=0;return null!=N&&(ne++,B=G.offset=N),Fe=Fe||B<0||B>1,De=De||B<lt,lt=B,Re.push(B),G});Fe&&I.errors.push(function ls(){return new P.wOt(3012,!1)}()),De&&I.errors.push(function ir(){return new P.wOt(3200,!1)}());const Bt=v.steps.length;let Hn=0;ne>0&&ne<Bt?I.errors.push(function _t(){return new P.wOt(3202,!1)}()):0==ne&&(Hn=1/(Bt-1));const Vn=Bt-1,dn=I.currentTime,Tn=I.currentAnimateTimings,or=Tn.duration;return qt.forEach((w,G)=>{const N=Hn>0?G==Vn?1:Hn*G:Re[G],B=N*or;I.currentTime=dn+Tn.delay+B,Tn.duration=B,this._validateStyleAst(w,I),w.offset=N,x.styles.push(w)}),x}visitReference(v,I){return{type:he.If.Reference,animation:qn(this,ot(v.animation),I),options:is(v.options)}}visitAnimateChild(v,I){return I.depCount++,{type:he.If.AnimateChild,options:is(v.options)}}visitAnimateRef(v,I){return{type:he.If.AnimateRef,animation:this.visitReference(v.animation,I),options:is(v.options)}}visitQuery(v,I){const x=I.currentQuerySelector,$=v.options||{};I.queryCount++,I.currentQuery=v;const[ne,Re]=function qs(U){const v=!!U.split(/\s*,\s*/).find(I=>":self"==I);return v&&(U=U.replace(Po,"")),U=U.replace(/@\*/g,gt).replace(/@\w+/g,I=>gt+"-"+I.slice(1)).replace(/:animating/g,Sn),[U,v]}(v.selector);I.currentQuerySelector=x.length?x+" "+ne:ne,at(I.collectedStyles,I.currentQuerySelector,new Map);const De=qn(this,ot(v.animation),I);return I.currentQuery=null,I.currentQuerySelector=x,{type:he.If.Query,selector:ne,limit:$.limit||0,optional:!!$.optional,includeSelf:Re,animation:De,originalSelector:v.selector,options:is(v.options)}}visitStagger(v,I){I.currentQuery||I.errors.push(function bi(){return new P.wOt(3013,!1)}());const x="full"===v.timings?{duration:0,delay:0,easing:"full"}:tr(v.timings,I.errors,!0);return{type:he.If.Stagger,animation:qn(this,ot(v.animation),I),timings:x,options:null}}}class Bs{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function is(U){return U?(U={...U}).params&&(U.params=function Oo(U){return U?{...U}:null}(U.params)):U={},U}function Yo(U,v,I){return{duration:U,delay:v,easing:I}}function Qs(U,v,I,x,$,ne,Re=null,De=!1){return{type:1,element:U,keyframes:v,preStyleProps:I,postStyleProps:x,duration:$,delay:ne,totalTime:$+ne,easing:Re,subTimeline:De}}class Ss{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,I){let x=this._map.get(v);x||this._map.set(v,x=[]),x.push(...I)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const lo=new RegExp(":enter","g"),Zo=new RegExp(":leave","g");function Jo(U,v,I,x,$,ne=new Map,Re=new Map,De,Fe,lt=[]){return(new Fi).buildKeyframes(U,v,I,x,$,ne,Re,De,Fe,lt)}class Fi{buildKeyframes(v,I,x,$,ne,Re,De,Fe,lt,qt=[]){lt=lt||new Ss;const Bt=new js(v,I,lt,$,ne,qt,[]);Bt.options=Fe;const Hn=Fe.delay?un(Fe.delay):0;Bt.currentTimeline.delayNextStep(Hn),Bt.currentTimeline.setStyles([Re],null,Bt.errors,Fe),qn(this,x,Bt);const Vn=Bt.timelines.filter(dn=>dn.containsAnimation());if(Vn.length&&De.size){let dn;for(let Tn=Vn.length-1;Tn>=0;Tn--){const or=Vn[Tn];if(or.element===I){dn=or;break}}dn&&!dn.allowOnlyTimelineStyles()&&dn.setStyles([De],null,Bt.errors,Fe)}return Vn.length?Vn.map(dn=>dn.buildKeyframes()):[Qs(I,[],[],[],0,Hn,"",!1)]}visitTrigger(v,I){}visitState(v,I){}visitTransition(v,I){}visitAnimateChild(v,I){const x=I.subInstructions.get(I.element);if(x){const $=I.createSubContext(v.options),ne=I.currentTimeline.currentTime,Re=this._visitSubInstructions(x,$,$.options);ne!=Re&&I.transformIntoNewTimeline(Re)}I.previousNode=v}visitAnimateRef(v,I){const x=I.createSubContext(v.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],I,x),this.visitReference(v.animation,x),I.transformIntoNewTimeline(x.currentTimeline.currentTime),I.previousNode=v}_applyAnimationRefDelays(v,I,x){for(const $ of v){const ne=$?.delay;if(ne){const Re="number"==typeof ne?ne:un(Dn(ne,$?.params??{},I.errors));x.delayNextStep(Re)}}}_visitSubInstructions(v,I,x){let ne=I.currentTimeline.currentTime;const Re=null!=x.duration?un(x.duration):null,De=null!=x.delay?un(x.delay):null;return 0!==Re&&v.forEach(Fe=>{const lt=I.appendInstructionToTimeline(Fe,Re,De);ne=Math.max(ne,lt.duration+lt.delay)}),ne}visitReference(v,I){I.updateOptions(v.options,!0),qn(this,v.animation,I),I.previousNode=v}visitSequence(v,I){const x=I.subContextCount;let $=I;const ne=v.options;if(ne&&(ne.params||ne.delay)&&($=I.createSubContext(ne),$.transformIntoNewTimeline(),null!=ne.delay)){$.previousNode.type==he.If.Style&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=Xi);const Re=un(ne.delay);$.delayNextStep(Re)}v.steps.length&&(v.steps.forEach(Re=>qn(this,Re,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>x&&$.transformIntoNewTimeline()),I.previousNode=v}visitGroup(v,I){const x=[];let $=I.currentTimeline.currentTime;const ne=v.options&&v.options.delay?un(v.options.delay):0;v.steps.forEach(Re=>{const De=I.createSubContext(v.options);ne&&De.delayNextStep(ne),qn(this,Re,De),$=Math.max($,De.currentTimeline.currentTime),x.push(De.currentTimeline)}),x.forEach(Re=>I.currentTimeline.mergeTimelineCollectedStyles(Re)),I.transformIntoNewTimeline($),I.previousNode=v}_visitTiming(v,I){if(v.dynamic){const x=v.strValue;return tr(I.params?Dn(x,I.params,I.errors):x,I.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,I){const x=I.currentAnimateTimings=this._visitTiming(v.timings,I),$=I.currentTimeline;x.delay&&(I.incrementTime(x.delay),$.snapshotCurrentStyles());const ne=v.style;ne.type==he.If.Keyframes?this.visitKeyframes(ne,I):(I.incrementTime(x.duration),this.visitStyle(ne,I),$.applyStylesToKeyframe()),I.currentAnimateTimings=null,I.previousNode=v}visitStyle(v,I){const x=I.currentTimeline,$=I.currentAnimateTimings;!$&&x.hasCurrentStyleProperties()&&x.forwardFrame();const ne=$&&$.easing||v.easing;v.isEmptyStep?x.applyEmptyStep(ne):x.setStyles(v.styles,ne,I.errors,I.options),I.previousNode=v}visitKeyframes(v,I){const x=I.currentAnimateTimings,$=I.currentTimeline.duration,ne=x.duration,De=I.createSubContext().currentTimeline;De.easing=x.easing,v.styles.forEach(Fe=>{De.forwardTime((Fe.offset||0)*ne),De.setStyles(Fe.styles,Fe.easing,I.errors,I.options),De.applyStylesToKeyframe()}),I.currentTimeline.mergeTimelineCollectedStyles(De),I.transformIntoNewTimeline($+ne),I.previousNode=v}visitQuery(v,I){const x=I.currentTimeline.currentTime,$=v.options||{},ne=$.delay?un($.delay):0;ne&&(I.previousNode.type===he.If.Style||0==x&&I.currentTimeline.hasCurrentStyleProperties())&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Xi);let Re=x;const De=I.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!$.optional,I.errors);I.currentQueryTotal=De.length;let Fe=null;De.forEach((lt,qt)=>{I.currentQueryIndex=qt;const Bt=I.createSubContext(v.options,lt);ne&&Bt.delayNextStep(ne),lt===I.element&&(Fe=Bt.currentTimeline),qn(this,v.animation,Bt),Bt.currentTimeline.applyStylesToKeyframe(),Re=Math.max(Re,Bt.currentTimeline.currentTime)}),I.currentQueryIndex=0,I.currentQueryTotal=0,I.transformIntoNewTimeline(Re),Fe&&(I.currentTimeline.mergeTimelineCollectedStyles(Fe),I.currentTimeline.snapshotCurrentStyles()),I.previousNode=v}visitStagger(v,I){const x=I.parentContext,$=I.currentTimeline,ne=v.timings,Re=Math.abs(ne.duration),De=Re*(I.currentQueryTotal-1);let Fe=Re*I.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Fe=De-Fe;break;case"full":Fe=x.currentStaggerTime}const qt=I.currentTimeline;Fe&&qt.delayNextStep(Fe);const Bt=qt.currentTime;qn(this,v.animation,I),I.previousNode=v,x.currentStaggerTime=$.currentTime-Bt+($.startTime-x.currentTimeline.startTime)}}const Xi={};class js{constructor(v,I,x,$,ne,Re,De,Fe){this._driver=v,this.element=I,this.subInstructions=x,this._enterClassName=$,this._leaveClassName=ne,this.errors=Re,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fe||new xo(this._driver,I,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,I){if(!v)return;const x=v;let $=this.options;null!=x.duration&&($.duration=un(x.duration)),null!=x.delay&&($.delay=un(x.delay));const ne=x.params;if(ne){let Re=$.params;Re||(Re=this.options.params={}),Object.keys(ne).forEach(De=>{(!I||!Re.hasOwnProperty(De))&&(Re[De]=Dn(ne[De],Re,this.errors))})}}_copyOptions(){const v={};if(this.options){const I=this.options.params;if(I){const x=v.params={};Object.keys(I).forEach($=>{x[$]=I[$]})}}return v}createSubContext(v=null,I,x){const $=I||this.element,ne=new js(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,x||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(v),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(v){return this.previousNode=Xi,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,I,x){const $={duration:I??v.duration,delay:this.currentTimeline.currentTime+(x??0)+v.delay,easing:""},ne=new $s(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,$,v.stretchStartingKeyframe);return this.timelines.push(ne),$}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,I,x,$,ne,Re){let De=[];if($&&De.push(this.element),v.length>0){v=(v=v.replace(lo,"."+this._enterClassName)).replace(Zo,"."+this._leaveClassName);let lt=this._driver.query(this.element,v,1!=x);0!==x&&(lt=x<0?lt.slice(lt.length+x,lt.length):lt.slice(0,x)),De.push(...lt)}return!ne&&0==De.length&&Re.push(function yn(){return new P.wOt(3014,!1)}()),De}}class xo{constructor(v,I,x,$){this._driver=v,this.element=I,this.startTime=x,this._elementTimelineStylesLookup=$,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(I),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(I,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const I=1===this._keyframes.size&&this._pendingStyles.size;this.duration||I?(this.forwardTime(this.currentTime+v),I&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,I){return this.applyStylesToKeyframe(),new xo(this._driver,v,I||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,I){this._localTimelineStyles.set(v,I),this._globalTimelineStyles.set(v,I),this._styleSummary.set(v,{time:this.currentTime,value:I})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[I,x]of this._globalTimelineStyles)this._backFill.set(I,x||he.kp),this._currentKeyframe.set(I,he.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,I,x,$){I&&this._previousKeyframe.set("easing",I);const ne=$&&$.params||{},Re=function Ta(U,v){const I=new Map;let x;return U.forEach($=>{if("*"===$){x??=v.keys();for(let ne of x)I.set(ne,he.kp)}else for(let[ne,Re]of $)I.set(ne,Re)}),I}(v,this._globalTimelineStyles);for(let[De,Fe]of Re){const lt=Dn(Fe,ne,x);this._pendingStyles.set(De,lt),this._localTimelineStyles.has(De)||this._backFill.set(De,this._globalTimelineStyles.get(De)??he.kp),this._updateStyle(De,lt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,I)=>{this._currentKeyframe.set(I,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,I)=>{this._currentKeyframe.has(I)||this._currentKeyframe.set(I,v)}))}snapshotCurrentStyles(){for(let[v,I]of this._localTimelineStyles)this._pendingStyles.set(v,I),this._updateStyle(v,I)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let I in this._currentKeyframe)v.push(I);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((I,x)=>{const $=this._styleSummary.get(x);(!$||I.time>$.time)&&this._updateStyle(x,I.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,I=new Set,x=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((De,Fe)=>{const lt=new Map([...this._backFill,...De]);lt.forEach((qt,Bt)=>{qt===he.FX?v.add(Bt):qt===he.kp&&I.add(Bt)}),x||lt.set("offset",Fe/this.duration),$.push(lt)});const ne=[...v.values()],Re=[...I.values()];if(x){const De=$[0],Fe=new Map(De);De.set("offset",0),Fe.set("offset",1),$=[De,Fe]}return Qs(this.element,$,ne,Re,this.duration,this.startTime,this.easing,!1)}}class $s extends xo{constructor(v,I,x,$,ne,Re,De=!1){super(v,I,Re.delay),this.keyframes=x,this.preStyleProps=$,this.postStyleProps=ne,this._stretchStartingKeyframe=De,this.timings={duration:Re.duration,delay:Re.delay,easing:Re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:I,duration:x,easing:$}=this.timings;if(this._stretchStartingKeyframe&&I){const ne=[],Re=x+I,De=I/Re,Fe=new Map(v[0]);Fe.set("offset",0),ne.push(Fe);const lt=new Map(v[0]);lt.set("offset",Ka(De)),ne.push(lt);const qt=v.length-1;for(let Bt=1;Bt<=qt;Bt++){let Hn=new Map(v[Bt]);const Vn=Hn.get("offset");Hn.set("offset",Ka((I+Vn*x)/Re)),ne.push(Hn)}x=Re,I=0,$="",v=ne}return Qs(this.element,v,this.preStyleProps,this.postStyleProps,x,I,$,!0)}}function Ka(U,v=3){const I=Math.pow(10,v-1);return Math.round(U*I)/I}function qa(U,v,I,x,$,ne,Re,De,Fe,lt,qt,Bt,Hn){return{type:0,element:U,triggerName:v,isRemovalTransition:$,fromState:I,fromStyles:ne,toState:x,toStyles:Re,timelines:De,queriedElements:Fe,preStyleProps:lt,postStyleProps:qt,totalTime:Bt,errors:Hn}}const wi={};class ho{constructor(v,I,x){this._triggerName=v,this.ast=I,this._stateStyles=x}match(v,I,x,$){return function fo(U,v,I,x,$){return U.some(ne=>ne(v,I,x,$))}(this.ast.matchers,v,I,x,$)}buildStyles(v,I,x){let $=this._stateStyles.get("*");return void 0!==v&&($=this._stateStyles.get(v?.toString())||$),$?$.buildStyles(I,x):new Map}build(v,I,x,$,ne,Re,De,Fe,lt,qt){const Bt=[],Hn=this.ast.options&&this.ast.options.params||wi,dn=this.buildStyles(x,De&&De.params||wi,Bt),Tn=Fe&&Fe.params||wi,or=this.buildStyles($,Tn,Bt),w=new Set,G=new Map,N=new Map,B="void"===$,de={params:Ir(Tn,Hn),delay:this.ast.options?.delay},Ge=qt?[]:Jo(v,I,this.ast.animation,ne,Re,dn,or,de,lt,Bt);let ft=0;return Ge.forEach(xt=>{ft=Math.max(xt.duration+xt.delay,ft)}),Bt.length?qa(I,this._triggerName,x,$,B,dn,or,[],[],G,N,ft,Bt):(Ge.forEach(xt=>{const gr=xt.element,xn=at(G,gr,new Set);xt.preStyleProps.forEach(ht=>xn.add(ht));const Mn=at(N,gr,new Set);xt.postStyleProps.forEach(ht=>Mn.add(ht)),gr!==I&&w.add(gr)}),qa(I,this._triggerName,x,$,B,dn,or,Ge,[...w.values()],G,N,ft))}}function Ir(U,v){const I={...v};return Object.entries(U).forEach(([x,$])=>{null!=$&&(I[x]=$)}),I}class Ni{constructor(v,I,x){this.styles=v,this.defaultParams=I,this.normalizer=x}buildStyles(v,I){const x=new Map,$=Ir(v,this.defaultParams);return this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Re,De)=>{Re&&(Re=Dn(Re,$,I));const Fe=this.normalizer.normalizePropertyName(De,I);Re=this.normalizer.normalizeStyleValue(De,Fe,Re,I),x.set(De,Re)})}),x}}class go{constructor(v,I,x){this.name=v,this.ast=I,this._normalizer=x,this.transitionFactories=[],this.states=new Map,I.states.forEach($=>{this.states.set($.name,new Ni($.style,$.options&&$.options.params||{},x))}),Yi(this.states,"true","1"),Yi(this.states,"false","0"),I.transitions.forEach($=>{this.transitionFactories.push(new ho(v,$,this.states))}),this.fallbackTransition=function mo(U,v){return new ho(U,{type:he.If.Transition,animation:{type:he.If.Sequence,steps:[],options:null},matchers:[(Re,De)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,I,x,$){return this.transitionFactories.find(Re=>Re.match(v,I,x,$))||null}matchStyles(v,I,x){return this.fallbackTransition.buildStyles(v,I,x)}}function Yi(U,v,I){U.has(v)?U.has(I)||U.set(I,U.get(v)):U.has(I)&&U.set(v,U.get(I))}const ko=new Ss;class jn{constructor(v,I,x){this.bodyNode=v,this._driver=I,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,I){const x=[],ne=Mo(this._driver,I,x,[]);if(x.length)throw function Lr(){return new P.wOt(3503,!1)}();this._animations.set(v,ne)}_buildPlayer(v,I,x){const $=v.element,ne=tt(this._normalizer,v.keyframes,I,x);return this._driver.animate($,ne,v.duration,v.delay,v.easing,[],!0)}create(v,I,x={}){const $=[],ne=this._animations.get(v);let Re;const De=new Map;if(ne?(Re=Jo(this._driver,I,ne,Xo,rt,new Map,new Map,x,ko,$),Re.forEach(qt=>{const Bt=at(De,qt.element,new Map);qt.postStyleProps.forEach(Hn=>Bt.set(Hn,null))})):($.push(function xr(){return new P.wOt(3300,!1)}()),Re=[]),$.length)throw function kr(){return new P.wOt(3504,!1)}();De.forEach((qt,Bt)=>{qt.forEach((Hn,Vn)=>{qt.set(Vn,this._driver.computeStyle(Bt,Vn,he.kp))})});const lt=Me(Re.map(qt=>{const Bt=De.get(qt.element);return this._buildPlayer(qt,new Map,Bt)}));return this._playersById.set(v,lt),lt.onDestroy(()=>this.destroy(v)),this.players.push(lt),lt}destroy(v){const I=this._getPlayer(v);I.destroy(),this._playersById.delete(v);const x=this.players.indexOf(I);x>=0&&this.players.splice(x,1)}_getPlayer(v){const I=this._playersById.get(v);if(!I)throw function Ri(){return new P.wOt(3301,!1)}();return I}listen(v,I,x,$){const ne=Le(I,"","","");return Xe(this._getPlayer(v),x,ne,$),()=>{}}command(v,I,x,$){if("register"==x)return void this.register(v,$[0]);if("create"==x)return void this.create(v,I,$[0]||{});const ne=this._getPlayer(v);switch(x){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(v)}}}const $n="ng-animate-queued",fs="ng-animate-disabled",vc=[],Hs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class si{get params(){return this.options.params}constructor(v,I=""){this.namespaceId=I;const x=v&&v.hasOwnProperty("value");if(this.value=function Vi(U){return U??null}(x?v.value:v),x){const{value:ne,...Re}=v;this.options=Re}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const I=v.params;if(I){const x=this.options.params;Object.keys(I).forEach($=>{null==x[$]&&(x[$]=I[$])})}}}const _o="void",vo=new si(_o);class os{constructor(v,I,x){this.id=v,this.hostElement=I,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Fn(I,this._hostClassName)}listen(v,I,x,$){if(!this._triggers.has(I))throw function Rn(){return new P.wOt(3302,!1)}();if(null==x||0==x.length)throw function ur(){return new P.wOt(3303,!1)}();if(!function Ys(U){return"start"==U||"done"==U}(x))throw function Br(){return new P.wOt(3400,!1)}();const ne=at(this._elementListeners,v,[]),Re={name:I,phase:x,callback:$};ne.push(Re);const De=at(this._engine.statesByElement,v,new Map);return De.has(I)||(Fn(v,je),Fn(v,je+"-"+I),De.set(I,vo)),()=>{this._engine.afterFlush(()=>{const Fe=ne.indexOf(Re);Fe>=0&&ne.splice(Fe,1),this._triggers.has(I)||De.delete(I)})}}register(v,I){return!this._triggers.has(v)&&(this._triggers.set(v,I),!0)}_getTrigger(v){const I=this._triggers.get(v);if(!I)throw function Cr(){return new P.wOt(3401,!1)}();return I}trigger(v,I,x,$=!0){const ne=this._getTrigger(I),Re=new bn(this.id,I,v);let De=this._engine.statesByElement.get(v);De||(Fn(v,je),Fn(v,je+"-"+I),this._engine.statesByElement.set(v,De=new Map));let Fe=De.get(I);const lt=new si(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Fe&&lt.absorbOptions(Fe.options),De.set(I,lt),Fe||(Fe=vo),lt.value!==_o&&Fe.value===lt.value){if(!function ia(U,v){const I=Object.keys(U),x=Object.keys(v);if(I.length!=x.length)return!1;for(let $=0;$<I.length;$++){const ne=I[$];if(!v.hasOwnProperty(ne)||U[ne]!==v[ne])return!1}return!0}(Fe.params,lt.params)){const Tn=[],or=ne.matchStyles(Fe.value,Fe.params,Tn),w=ne.matchStyles(lt.value,lt.params,Tn);Tn.length?this._engine.reportError(Tn):this._engine.afterFlush(()=>{ve(v,or),_e(v,w)})}return}const Hn=at(this._engine.playersByElement,v,[]);Hn.forEach(Tn=>{Tn.namespaceId==this.id&&Tn.triggerName==I&&Tn.queued&&Tn.destroy()});let Vn=ne.matchTransition(Fe.value,lt.value,v,lt.params),dn=!1;if(!Vn){if(!$)return;Vn=ne.fallbackTransition,dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:I,transition:Vn,fromState:Fe,toState:lt,player:Re,isFallbackTransition:dn}),dn||(Fn(v,$n),Re.onStart(()=>{ps(v,$n)})),Re.onDone(()=>{let Tn=this.players.indexOf(Re);Tn>=0&&this.players.splice(Tn,1);const or=this._engine.playersByElement.get(v);if(or){let w=or.indexOf(Re);w>=0&&or.splice(w,1)}}),this.players.push(Re),Hn.push(Re),Re}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(I=>I.delete(v)),this._elementListeners.forEach((I,x)=>{this._elementListeners.set(x,I.filter($=>$.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const I=this._engine.playersByElement.get(v);I&&(I.forEach(x=>x.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,I){const x=this._engine.driver.query(v,gt,!0);x.forEach($=>{if($[ss])return;const ne=this._engine.fetchNamespacesByElement($);ne.size?ne.forEach(Re=>Re.triggerLeaveAnimation($,I,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>x.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(v,I,x,$){const ne=this._engine.statesByElement.get(v),Re=new Map;if(ne){const De=[];if(ne.forEach((Fe,lt)=>{if(Re.set(lt,Fe.value),this._triggers.has(lt)){const qt=this.trigger(v,lt,_o,$);qt&&De.push(qt)}}),De.length)return this._engine.markElementAsRemoved(this.id,v,!0,I,Re),x&&Me(De).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const I=this._elementListeners.get(v),x=this._engine.statesByElement.get(v);if(I&&x){const $=new Set;I.forEach(ne=>{const Re=ne.name;if($.has(Re))return;$.add(Re);const Fe=this._triggers.get(Re).fallbackTransition,lt=x.get(Re)||vo,qt=new si(_o),Bt=new bn(this.id,Re,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Re,transition:Fe,fromState:lt,toState:qt,player:Bt,isFallbackTransition:!0})})}}removeNode(v,I){const x=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,I),this.triggerLeaveAnimation(v,I,!0))return;let $=!1;if(x.totalAnimations){const ne=x.players.length?x.playersByQueriedElement.get(v):[];if(ne&&ne.length)$=!0;else{let Re=v;for(;Re=Re.parentNode;)if(x.statesByElement.get(Re)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(v),$)x.markElementAsRemoved(this.id,v,!1,I);else{const ne=v[ss];(!ne||ne===Hs)&&(x.afterFlush(()=>this.clearElementCache(v)),x.destroyInnerAnimations(v),x._onRemovalComplete(v,I))}}insertNode(v,I){Fn(v,this._hostClassName)}drainQueuedTransitions(v){const I=[];return this._queue.forEach(x=>{const $=x.player;if($.destroyed)return;const ne=x.element,Re=this._elementListeners.get(ne);Re&&Re.forEach(De=>{if(De.name==x.triggerName){const Fe=Le(ne,x.triggerName,x.fromState.value,x.toState.value);Fe._data=v,Xe(x.player,De.phase,Fe,De.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):I.push(x)}),this._queue=[],I.sort((x,$)=>{const ne=x.transition.ast.depCount,Re=$.transition.ast.depCount;return 0==ne||0==Re?ne-Re:this._engine.driver.containsElement(x.element,$.element)?1:-1})}destroy(v){this.players.forEach(I=>I.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class ea{_onRemovalComplete(v,I){this.onRemovalComplete(v,I)}constructor(v,I,x){this.bodyNode=v,this.driver=I,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,ne)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(I=>{I.players.forEach(x=>{x.queued&&v.push(x)})}),v}createNamespace(v,I){const x=new os(v,I,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,I)?this._balanceNamespaceList(x,I):(this.newHostElements.set(I,x),this.collectEnterElement(I)),this._namespaceLookup[v]=x}_balanceNamespaceList(v,I){const x=this._namespaceList,$=this.namespacesByHostElement;if(x.length-1>=0){let Re=!1,De=this.driver.getParentElement(I);for(;De;){const Fe=$.get(De);if(Fe){const lt=x.indexOf(Fe);x.splice(lt+1,0,v),Re=!0;break}De=this.driver.getParentElement(De)}Re||x.unshift(v)}else x.push(v);return $.set(I,v),v}register(v,I){let x=this._namespaceLookup[v];return x||(x=this.createNamespace(v,I)),x}registerTrigger(v,I,x){let $=this._namespaceLookup[v];$&&$.register(I,x)&&this.totalAnimations++}destroy(v,I){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(v);this.namespacesByHostElement.delete(x.hostElement);const $=this._namespaceList.indexOf(x);$>=0&&this._namespaceList.splice($,1),x.destroy(I),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const I=new Set,x=this.statesByElement.get(v);if(x)for(let $ of x.values())if($.namespaceId){const ne=this._fetchNamespace($.namespaceId);ne&&I.add(ne)}return I}trigger(v,I,x,$){if(ta(I)){const ne=this._fetchNamespace(v);if(ne)return ne.trigger(I,x,$),!0}return!1}insertNode(v,I,x,$){if(!ta(I))return;const ne=I[ss];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Re=this.collectedLeaveElements.indexOf(I);Re>=0&&this.collectedLeaveElements.splice(Re,1)}if(v){const Re=this._fetchNamespace(v);Re&&Re.insertNode(I,x)}$&&this.collectEnterElement(I)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,I){I?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Fn(v,fs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),ps(v,fs))}removeNode(v,I,x){if(ta(I)){const $=v?this._fetchNamespace(v):null;$?$.removeNode(I,x):this.markElementAsRemoved(v,I,!1,x);const ne=this.namespacesByHostElement.get(I);ne&&ne.id!==v&&ne.removeNode(I,x)}else this._onRemovalComplete(I,x)}markElementAsRemoved(v,I,x,$,ne){this.collectedLeaveElements.push(I),I[ss]={namespaceId:v,setForRemoval:$,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(v,I,x,$,ne){return ta(I)?this._fetchNamespace(v).listen(I,x,$,ne):()=>{}}_buildInstruction(v,I,x,$,ne){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,x,$,v.fromState.options,v.toState.options,I,ne)}destroyInnerAnimations(v){let I=this.driver.query(v,gt,!0);I.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(I=this.driver.query(v,Sn,!0),I.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(v){const I=this.playersByElement.get(v);I&&I.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(v){const I=this.playersByQueriedElement.get(v);I&&I.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Me(this.players).onDone(()=>v());v()})}processLeaveNode(v){const I=v[ss];if(I&&I.setForRemoval){if(v[ss]=Hs,I.namespaceId){this.destroyInnerAnimations(v);const x=this._fetchNamespace(I.namespaceId);x&&x.clearElementCache(v)}this._onRemovalComplete(v,I.setForRemoval)}v.classList?.contains(fs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(v=-1){let I=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,$)=>this._balanceNamespaceList(x,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Fn(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{I=this._flushAnimations(x,v)}finally{for(let $=0;$<x.length;$++)x[$]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],I.length?Me(I).onDone(()=>{x.forEach($=>$())}):x.forEach($=>$())}}reportError(v){throw function jr(){return new P.wOt(3402,!1)}()}_flushAnimations(v,I){const x=new Ss,$=[],ne=new Map,Re=[],De=new Map,Fe=new Map,lt=new Map,qt=new Set;this.disabledNodes.forEach(Qt=>{qt.add(Qt);const Zt=this.driver.query(Qt,".ng-animate-queued",!0);for(let an=0;an<Zt.length;an++)qt.add(Zt[an])});const Bt=this.bodyNode,Hn=Array.from(this.statesByElement.keys()),Vn=ra(Hn,this.collectedEnterElements),dn=new Map;let Tn=0;Vn.forEach((Qt,Zt)=>{const an=Xo+Tn++;dn.set(Zt,an),Qt.forEach(Xn=>Fn(Xn,an))});const or=[],w=new Set,G=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const Zt=this.collectedLeaveElements[Qt],an=Zt[ss];an&&an.setForRemoval&&(or.push(Zt),w.add(Zt),an.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(Xn=>w.add(Xn)):G.add(Zt))}const N=new Map,B=ra(Hn,Array.from(w));B.forEach((Qt,Zt)=>{const an=rt+Tn++;N.set(Zt,an),Qt.forEach(Xn=>Fn(Xn,an))}),v.push(()=>{Vn.forEach((Qt,Zt)=>{const an=dn.get(Zt);Qt.forEach(Xn=>ps(Xn,an))}),B.forEach((Qt,Zt)=>{const an=N.get(Zt);Qt.forEach(Xn=>ps(Xn,an))}),or.forEach(Qt=>{this.processLeaveNode(Qt)})});const de=[],Ge=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(I).forEach(an=>{const Xn=an.player,Rr=an.element;if(de.push(Xn),this.collectedEnterElements.length){const gi=Rr[ss];if(gi&&gi.setForMove){if(gi.previousTriggersValues&&gi.previousTriggersValues.has(an.triggerName)){const eo=gi.previousTriggersValues.get(an.triggerName),zi=this.statesByElement.get(an.element);if(zi&&zi.has(an.triggerName)){const Bi=zi.get(an.triggerName);Bi.value=eo,zi.set(an.triggerName,Bi)}}return void Xn.destroy()}}const oi=!Bt||!this.driver.containsElement(Bt,Rr),Qr=N.get(Rr),Hi=dn.get(Rr),wr=this._buildInstruction(an,x,Hi,Qr,oi);if(wr.errors&&wr.errors.length)return void Ge.push(wr);if(oi)return Xn.onStart(()=>ve(Rr,wr.fromStyles)),Xn.onDestroy(()=>_e(Rr,wr.toStyles)),void $.push(Xn);if(an.isFallbackTransition)return Xn.onStart(()=>ve(Rr,wr.fromStyles)),Xn.onDestroy(()=>_e(Rr,wr.toStyles)),void $.push(Xn);const jo=[];wr.timelines.forEach(gi=>{gi.stretchStartingKeyframe=!0,this.disabledNodes.has(gi.element)||jo.push(gi)}),wr.timelines=jo,x.append(Rr,wr.timelines),Re.push({instruction:wr,player:Xn,element:Rr}),wr.queriedElements.forEach(gi=>at(De,gi,[]).push(Xn)),wr.preStyleProps.forEach((gi,eo)=>{if(gi.size){let zi=Fe.get(eo);zi||Fe.set(eo,zi=new Set),gi.forEach((Bi,Ya)=>zi.add(Ya))}}),wr.postStyleProps.forEach((gi,eo)=>{let zi=lt.get(eo);zi||lt.set(eo,zi=new Set),gi.forEach((Bi,Ya)=>zi.add(Ya))})});if(Ge.length){const Qt=[];Ge.forEach(Zt=>{Qt.push(function $r(){return new P.wOt(3505,!1)}())}),de.forEach(Zt=>Zt.destroy()),this.reportError(Qt)}const ft=new Map,xt=new Map;Re.forEach(Qt=>{const Zt=Qt.element;x.has(Zt)&&(xt.set(Zt,Zt),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,ft))}),$.forEach(Qt=>{const Zt=Qt.element;this._getPreviousPlayers(Zt,!1,Qt.namespaceId,Qt.triggerName,null).forEach(Xn=>{at(ft,Zt,[]).push(Xn),Xn.destroy()})});const gr=or.filter(Qt=>Da(Qt,Fe,lt)),xn=new Map;$i(xn,this.driver,G,lt,he.kp).forEach(Qt=>{Da(Qt,Fe,lt)&&gr.push(Qt)});const ht=new Map;Vn.forEach((Qt,Zt)=>{$i(ht,this.driver,new Set(Qt),Fe,he.FX)}),gr.forEach(Qt=>{const Zt=xn.get(Qt),an=ht.get(Qt);xn.set(Qt,new Map([...Zt?.entries()??[],...an?.entries()??[]]))});const br=[],mr=[],zr={};Re.forEach(Qt=>{const{element:Zt,player:an,instruction:Xn}=Qt;if(x.has(Zt)){if(qt.has(Zt))return an.onDestroy(()=>_e(Zt,Xn.toStyles)),an.disabled=!0,an.overrideTotalTime(Xn.totalTime),void $.push(an);let Rr=zr;if(xt.size>1){let Qr=Zt;const Hi=[];for(;Qr=Qr.parentNode;){const wr=xt.get(Qr);if(wr){Rr=wr;break}Hi.push(Qr)}Hi.forEach(wr=>xt.set(wr,Rr))}const oi=this._buildAnimation(an.namespaceId,Xn,ft,ne,ht,xn);if(an.setRealPlayer(oi),Rr===zr)br.push(an);else{const Qr=this.playersByElement.get(Rr);Qr&&Qr.length&&(an.parentPlayer=Me(Qr)),$.push(an)}}else ve(Zt,Xn.fromStyles),an.onDestroy(()=>_e(Zt,Xn.toStyles)),mr.push(an),qt.has(Zt)&&$.push(an)}),mr.forEach(Qt=>{const Zt=ne.get(Qt.element);if(Zt&&Zt.length){const an=Me(Zt);Qt.setRealPlayer(an)}}),$.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<or.length;Qt++){const Zt=or[Qt],an=Zt[ss];if(ps(Zt,rt),an&&an.hasAnimation)continue;let Xn=[];if(De.size){let oi=De.get(Zt);oi&&oi.length&&Xn.push(...oi);let Qr=this.driver.query(Zt,Sn,!0);for(let Hi=0;Hi<Qr.length;Hi++){let wr=De.get(Qr[Hi]);wr&&wr.length&&Xn.push(...wr)}}const Rr=Xn.filter(oi=>!oi.destroyed);Rr.length?Zs(this,Zt,Rr):this.processLeaveNode(Zt)}return or.length=0,br.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const Zt=this.players.indexOf(Qt);this.players.splice(Zt,1)}),Qt.play()}),br}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,I,x,$,ne){let Re=[];if(I){const De=this.playersByQueriedElement.get(v);De&&(Re=De)}else{const De=this.playersByElement.get(v);if(De){const Fe=!ne||ne==_o;De.forEach(lt=>{lt.queued||!Fe&&lt.triggerName!=$||Re.push(lt)})}}return(x||$)&&(Re=Re.filter(De=>!(x&&x!=De.namespaceId||$&&$!=De.triggerName))),Re}_beforeAnimationBuild(v,I,x){const ne=I.element,Re=I.isRemovalTransition?void 0:v,De=I.isRemovalTransition?void 0:I.triggerName;for(const Fe of I.timelines){const lt=Fe.element,qt=lt!==ne,Bt=at(x,lt,[]);this._getPreviousPlayers(lt,qt,Re,De,I.toState).forEach(Vn=>{const dn=Vn.getRealPlayer();dn.beforeDestroy&&dn.beforeDestroy(),Vn.destroy(),Bt.push(Vn)})}ve(ne,I.fromStyles)}_buildAnimation(v,I,x,$,ne,Re){const De=I.triggerName,Fe=I.element,lt=[],qt=new Set,Bt=new Set,Hn=I.timelines.map(dn=>{const Tn=dn.element;qt.add(Tn);const or=Tn[ss];if(or&&or.removedBeforeQueried)return new he.sf(dn.duration,dn.delay);const w=Tn!==Fe,G=function hu(U){const v=[];return bs(U,v),v}((x.get(Tn)||vc).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===Tn),N=ne.get(Tn),B=Re.get(Tn),de=tt(this._normalizer,dn.keyframes,N,B),Ge=this._buildPlayer(dn,de,G);if(dn.subTimeline&&$&&Bt.add(Tn),w){const ft=new bn(v,De,Tn);ft.setRealPlayer(Ge),lt.push(ft)}return Ge});lt.forEach(dn=>{at(this.playersByQueriedElement,dn.element,[]).push(dn),dn.onDone(()=>function Aa(U,v,I){let x=U.get(v);if(x){if(x.length){const $=x.indexOf(I);x.splice($,1)}0==x.length&&U.delete(v)}return x}(this.playersByQueriedElement,dn.element,dn))}),qt.forEach(dn=>Fn(dn,$t));const Vn=Me(Hn);return Vn.onDestroy(()=>{qt.forEach(dn=>ps(dn,$t)),_e(Fe,I.toStyles)}),Bt.forEach(dn=>{at($,dn,[]).push(Vn)}),Vn}_buildPlayer(v,I,x){return I.length>0?this.driver.animate(v.element,I,v.duration,v.delay,v.easing,x):new he.sf(v.duration,v.delay)}}class bn{constructor(v,I,x){this.namespaceId=v,this.triggerName=I,this.element=x,this._player=new he.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((I,x)=>{I.forEach($=>Xe(v,x,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const I=this._player;I.triggerCallback&&v.onStart(()=>I.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,I){at(this._queuedCallbacks,v,[]).push(I)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const I=this._player;I.triggerCallback&&I.triggerCallback(v)}}function ta(U){return U&&1===U.nodeType}function na(U,v){const I=U.style.display;return U.style.display=v??"none",I}function $i(U,v,I,x,$){const ne=[];I.forEach(Fe=>ne.push(na(Fe)));const Re=[];x.forEach((Fe,lt)=>{const qt=new Map;Fe.forEach(Bt=>{const Hn=v.computeStyle(lt,Bt,$);qt.set(Bt,Hn),(!Hn||0==Hn.length)&&(lt[ss]=Tr,Re.push(lt))}),U.set(lt,qt)});let De=0;return I.forEach(Fe=>na(Fe,ne[De++])),Re}function ra(U,v){const I=new Map;if(U.forEach(De=>I.set(De,[])),0==v.length)return I;const $=new Set(v),ne=new Map;function Re(De){if(!De)return 1;let Fe=ne.get(De);if(Fe)return Fe;const lt=De.parentNode;return Fe=I.has(lt)?lt:$.has(lt)?1:Re(lt),ne.set(De,Fe),Fe}return v.forEach(De=>{const Fe=Re(De);1!==Fe&&I.get(Fe).push(De)}),I}function Fn(U,v){U.classList?.add(v)}function ps(U,v){U.classList?.remove(v)}function Zs(U,v,I){Me(I).onDone(()=>U.processLeaveNode(v))}function bs(U,v){for(let I=0;I<U.length;I++){const x=U[I];x instanceof he.ui?bs(x.players,v):v.push(x)}}function Da(U,v,I){const x=I.get(U);if(!x)return!1;let $=v.get(U);return $?x.forEach(ne=>$.add(ne)):v.set(U,x),I.delete(U),!0}class Xr{constructor(v,I,x){this._driver=I,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=($,ne)=>{},this._transitionEngine=new ea(v.body,I,x),this._timelineEngine=new jn(v.body,I,x),this._transitionEngine.onRemovalComplete=($,ne)=>this.onRemovalComplete($,ne)}registerTrigger(v,I,x,$,ne){const Re=v+"-"+$;let De=this._triggerCache[Re];if(!De){const Fe=[],qt=Mo(this._driver,ne,Fe,[]);if(Fe.length)throw function Zr(){return new P.wOt(3404,!1)}();De=function po(U,v,I){return new go(U,v,I)}($,qt,this._normalizer),this._triggerCache[Re]=De}this._transitionEngine.registerTrigger(I,$,De)}register(v,I){this._transitionEngine.register(v,I)}destroy(v,I){this._transitionEngine.destroy(v,I)}onInsert(v,I,x,$){this._transitionEngine.insertNode(v,I,x,$)}onRemove(v,I,x){this._transitionEngine.removeNode(v,I,x)}disableAnimations(v,I){this._transitionEngine.markElementAsDisabled(v,I)}process(v,I,x,$){if("@"==x.charAt(0)){const[ne,Re]=se(x);this._timelineEngine.command(ne,I,Re,$)}else this._transitionEngine.trigger(v,I,x,$)}listen(v,I,x,$,ne){if("@"==x.charAt(0)){const[Re,De]=se(x);return this._timelineEngine.listen(Re,I,De,ne)}return this._transitionEngine.listen(v,I,x,$,ne)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}class Ca{static{this.initialStylesByElement=new WeakMap}constructor(v,I,x){this._element=v,this._startStyles=I,this._endStyles=x,this._state=0;let $=Ca.initialStylesByElement.get(v);$||Ca.initialStylesByElement.set(v,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&_e(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_e(this._element,this._initialStyles),this._endStyles&&(_e(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ca.initialStylesByElement.delete(this._element),this._startStyles&&(ve(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ve(this._element,this._endStyles),this._endStyles=null),_e(this._element,this._initialStyles),this._state=3)}}function Sa(U){let v=null;return U.forEach((I,x)=>{(function Hu(U){return"display"===U||"position"===U})(x)&&(v=v||new Map,v.set(x,I))}),v}class Eo{constructor(v,I,x,$){this.element=v,this.keyframes=I,this.options=x,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map;const I=()=>this._onFinish();this.domPlayer.addEventListener("finish",I),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",I)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const I=[];return v.forEach(x=>{I.push(Object.fromEntries(x))}),I}_triggerWebAnimation(v,I,x){return v.animate(this._convertKeyframesToObject(I),x)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,$)=>{"offset"!==$&&v.set($,this._finished?x:Hr(this.element,$))}),this.currentSnapshot=v}triggerCallback(v){const I="start"===v?this._onStartFns:this._onDoneFns;I.forEach(x=>x()),I.length=0}}class Io{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}containsElement(v,I){return fr(v,I)}getParentElement(v){return we(v)}query(v,I,x){return ci(v,I,x)}computeStyle(v,I,x){return Hr(v,I)}animate(v,I,x,$,ne,Re=[]){const Fe={duration:x,delay:$,fill:0==$?"both":"forwards"};ne&&(Fe.easing=ne);const lt=new Map,qt=Re.filter(Vn=>Vn instanceof Eo);(function Bn(U,v){return 0===U||0===v})(x,$)&&qt.forEach(Vn=>{Vn.currentSnapshot.forEach((dn,Tn)=>lt.set(Tn,dn))});let Bt=function li(U){return U.length?U[0]instanceof Map?U:U.map(v=>new Map(Object.entries(v))):[]}(I).map(Vn=>new Map(Vn));Bt=function ni(U,v,I){if(I.size&&v.length){let x=v[0],$=[];if(I.forEach((ne,Re)=>{x.has(Re)||$.push(Re),x.set(Re,ne)}),$.length)for(let ne=1;ne<v.length;ne++){let Re=v[ne];$.forEach(De=>Re.set(De,Hr(U,De)))}}return v}(v,Bt,lt);const Hn=function Jt(U,v){let I=null,x=null;return Array.isArray(v)&&v.length?(I=Sa(v[0]),v.length>1&&(x=Sa(v[v.length-1]))):v instanceof Map&&(I=Sa(v)),I||x?new Ca(U,I,x):null}(v,Bt);return new Eo(v,Bt,Fe,Hn)}}const Js="@.disabled";class ba{constructor(v,I,x,$){this.namespaceId=v,this.delegate=I,this.engine=x,this._onDestroy=$,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,I){return this.delegate.createElement(v,I)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,I){this.delegate.appendChild(v,I),this.engine.onInsert(this.namespaceId,I,v,!1)}insertBefore(v,I,x,$=!0){this.delegate.insertBefore(v,I,x),this.engine.onInsert(this.namespaceId,I,v,$)}removeChild(v,I,x){this.parentNode(I)&&this.engine.onRemove(this.namespaceId,I,this.delegate)}selectRootElement(v,I){return this.delegate.selectRootElement(v,I)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,I,x,$){this.delegate.setAttribute(v,I,x,$)}removeAttribute(v,I,x){this.delegate.removeAttribute(v,I,x)}addClass(v,I){this.delegate.addClass(v,I)}removeClass(v,I){this.delegate.removeClass(v,I)}setStyle(v,I,x,$){this.delegate.setStyle(v,I,x,$)}removeStyle(v,I,x){this.delegate.removeStyle(v,I,x)}setProperty(v,I,x){"@"==I.charAt(0)&&I==Js?this.disableAnimations(v,!!x):this.delegate.setProperty(v,I,x)}setValue(v,I){this.delegate.setValue(v,I)}listen(v,I,x){return this.delegate.listen(v,I,x)}disableAnimations(v,I){this.engine.disableAnimations(v,I)}}class ha extends ba{constructor(v,I,x,$,ne){super(I,x,$,ne),this.factory=v,this.namespaceId=I}setProperty(v,I,x){"@"==I.charAt(0)?"."==I.charAt(1)&&I==Js?this.disableAnimations(v,x=void 0===x||!!x):this.engine.process(this.namespaceId,v,I.slice(1),x):this.delegate.setProperty(v,I,x)}listen(v,I,x){if("@"==I.charAt(0)){const $=function as(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(v);let ne=I.slice(1),Re="";return"@"!=ne.charAt(0)&&([ne,Re]=function fa(U){const v=U.indexOf(".");return[U.substring(0,v),U.slice(v+1)]}(ne)),this.engine.listen(this.namespaceId,$,ne,Re,De=>{this.factory.scheduleListenerCallback(De._data||-1,x,De)})}return this.delegate.listen(v,I,x)}}class Ai{constructor(v,I,x){this.delegate=v,this.engine=I,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,I.onRemovalComplete=($,ne)=>{ne?.removeChild(null,$)}}createRenderer(v,I){const $=this.delegate.createRenderer(v,I);if(!v||!I?.data?.animation){const lt=this._rendererCache;let qt=lt.get($);return qt||(qt=new ba("",$,this.engine,()=>lt.delete($)),lt.set($,qt)),qt}const ne=I.id,Re=I.id+"-"+this._currentId;this._currentId++,this.engine.register(Re,v);const De=lt=>{Array.isArray(lt)?lt.forEach(De):this.engine.registerTrigger(ne,Re,v,lt.name,lt)};return I.data.animation.forEach(De),new ha(this,Re,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(v,I,x){if(v>=0&&v<this._microtaskId)return void this._zone.run(()=>I(x));const $=this._animationCallbacksBuffer;0==$.length&&queueMicrotask(()=>{this._zone.run(()=>{$.forEach(ne=>{const[Re,De]=ne;Re(De)}),this._animationCallbacksBuffer=[]})}),$.push([I,x])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const ln=[{provide:ei,useFactory:function zs(){return new cn}},{provide:Xr,useClass:(()=>{class U extends Xr{constructor(I,x,$){super(I,x,$)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(x){return new(x||U)(P.KVO(F.qQ),P.KVO(ji),P.KVO(ei))}}static{this.\u0275prov=P.jDH({token:U,factory:U.\u0275fac})}}return U})()},{provide:P._9s,useFactory:function Qa(U,v,I){return new Ai(U,v,I)},deps:[S.B7,Xr,P.SKi]}],Lo=[{provide:ji,useFactory:()=>new Io},{provide:P.bc$,useValue:"BrowserAnimations"},...ln],Zi=[{provide:ji,useClass:ii},{provide:P.bc$,useValue:"NoopAnimations"},...ln];let gs=(()=>{class U{static withConfig(I){return{ngModule:U,providers:I.disableAnimations?Zi:Lo}}static{this.\u0275fac=function(x){return new(x||U)}}static{this.\u0275mod=P.$C({type:U})}static{this.\u0275inj=P.G2t({providers:Lo,imports:[S.Bb]})}}return U})();var zu=X(4339);const Ec=[{path:"",canMatch:[()=>(0,P.WQX)(zu.u).isLogged],loadChildren:()=>Promise.all([X.e(341),X.e(141),X.e(414)]).then(X.bind(X,8414)).then(U=>U.HomeModule)},{path:"",canMatch:[()=>!(0,P.WQX)(zu.u).isLogged],loadChildren:()=>Promise.all([X.e(341),X.e(642)]).then(X.bind(X,9642)).then(U=>U.PublishModule)}];let Fo=(()=>{class U{static \u0275fac=function(x){return new(x||U)};static \u0275mod=P.$C({type:U});static \u0275inj=P.G2t({imports:[Ee.iI.forRoot(Ec),Ee.iI]})}return U})();var sa=X(1626);const gu_firebaseConfig={apiKey:"AIzaSyDomFWYvzoPrTLrP2GrJHtfx-zAcGUieOQ",authDomain:"language-36c6f.firebaseapp.com",databaseURL:"https://language-36c6f-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"language-36c6f",storageBucket:"language-36c6f.appspot.com",messagingSenderId:"83614807032",appId:"1:83614807032:web:dbc34637cc1b80a4191c0d"};var Vo=X(7440),Uo=X(5621),Di=X(2418);const Bo=[be];let Ws=(()=>{class U{static \u0275fac=function(x){return new(x||U)};static \u0275mod=P.$C({type:U,bootstrap:[ce]});static \u0275inj=P.G2t({providers:[(0,sa.$R)((0,sa.Sx)()),(0,Vo.MW)(()=>(0,Vo.Wp)(gu_firebaseConfig)),(0,Uo._q)(()=>(0,Uo.xI)()),(0,Di.hV)(()=>(0,Di.aU)()),V.bg],imports:[S.Bb,Fo,gs,Bo]})}return U})();S.sG().bootstrapModule(Ws).catch(U=>console.error(U))},4412:(tn,ut,X)=>{X.d(ut,{t:()=>P});var S=X(1413);class P extends S.B{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const F=super._subscribe(he);return!F.closed&&he.next(this._value),F}getValue(){const{hasError:he,thrownError:F,_value:V}=this;if(he)throw F;return this._throwIfClosed(),V}next(he){super.next(this._value=he)}}},1985:(tn,ut,X)=>{X.d(ut,{c:()=>te});var S=X(7707),P=X(8359),Ee=X(3494),he=X(1203),F=X(1026),V=X(8071),K=X(9786);let te=(()=>{class Se{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const Dt=new Se;return Dt.source=this,Dt.operator=Ke,Dt}subscribe(Ke,Dt,Lt){const Wt=function ee(Se){return Se&&Se instanceof S.vU||function Y(Se){return Se&&(0,V.T)(Se.next)&&(0,V.T)(Se.error)&&(0,V.T)(Se.complete)}(Se)&&(0,P.Uv)(Se)}(Ke)?Ke:new S.Ms(Ke,Dt,Lt);return(0,K.Y)(()=>{const{operator:zt,source:Nn}=this;Wt.add(zt?zt.call(Wt,Nn):Nn?this._subscribe(Wt):this._trySubscribe(Wt))}),Wt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(Dt){Ke.error(Dt)}}forEach(Ke,Dt){return new(Dt=ae(Dt))((Lt,Wt)=>{const zt=new S.Ms({next:Nn=>{try{Ke(Nn)}catch(gn){Wt(gn),zt.unsubscribe()}},error:Wt,complete:Lt});this.subscribe(zt)})}_subscribe(Ke){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(Ke)}[Ee.s](){return this}pipe(...Ke){return(0,he.m)(Ke)(this)}toPromise(Ke){return new(Ke=ae(Ke))((Dt,Lt)=>{let Wt;this.subscribe(zt=>Wt=zt,zt=>Lt(zt),()=>Dt(Wt))})}}return Se.create=Be=>new Se(Be),Se})();function ae(Se){var Be;return null!==(Be=Se??F.$.Promise)&&void 0!==Be?Be:Promise}},1413:(tn,ut,X)=>{X.d(ut,{B:()=>K});var S=X(1985),P=X(8359);const he=(0,X(1853).L)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=X(7908),V=X(9786);let K=(()=>{class ae extends S.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Se=new te(this,this);return Se.operator=ee,Se}_throwIfClosed(){if(this.closed)throw new he}next(ee){(0,V.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ee)}})}error(ee){(0,V.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ee)}})}complete(){(0,V.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Se,isStopped:Be,observers:Ke}=this;return Se||Be?P.Kn:(this.currentObservers=null,Ke.push(ee),new P.yU(()=>{this.currentObservers=null,(0,F.o)(Ke,ee)}))}_checkFinalizedStatuses(ee){const{hasError:Se,thrownError:Be,isStopped:Ke}=this;Se?ee.error(Be):Ke&&ee.complete()}asObservable(){const ee=new S.c;return ee.source=this,ee}}return ae.create=(Y,ee)=>new te(Y,ee),ae})();class te extends K{constructor(Y,ee){super(),this.destination=Y,this.source=ee}next(Y){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Se||Se.call(ee,Y)}error(Y){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Se||Se.call(ee,Y)}complete(){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===ee||ee.call(Y)}_subscribe(Y){var ee,Se;return null!==(Se=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(Y))&&void 0!==Se?Se:P.Kn}}},7707:(tn,ut,X)=>{X.d(ut,{Ms:()=>Lt,vU:()=>Se});var S=X(8071),P=X(8359),Ee=X(1026),he=X(5334),F=X(5343);const V=ae("C",void 0,void 0);function ae(He,dt,Te){return{kind:He,value:dt,error:Te}}var Y=X(9270),ee=X(9786);class Se extends P.yU{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,P.Uv)(dt)&&dt.add(this)):this.destination=gn}static create(dt,Te,Ce){return new Lt(dt,Te,Ce)}next(dt){this.isStopped?Nn(function te(He){return ae("N",He,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?Nn(function K(He){return ae("E",void 0,He)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?Nn(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ke(He,dt){return Be.call(He,dt)}class Dt{constructor(dt){this.partialObserver=dt}next(dt){const{partialObserver:Te}=this;if(Te.next)try{Te.next(dt)}catch(Ce){Wt(Ce)}}error(dt){const{partialObserver:Te}=this;if(Te.error)try{Te.error(dt)}catch(Ce){Wt(Ce)}else Wt(dt)}complete(){const{partialObserver:dt}=this;if(dt.complete)try{dt.complete()}catch(Te){Wt(Te)}}}class Lt extends Se{constructor(dt,Te,Ce){let Tt;if(super(),(0,S.T)(dt)||!dt)Tt={next:dt??void 0,error:Te??void 0,complete:Ce??void 0};else{let Ft;this&&Ee.$.useDeprecatedNextContext?(Ft=Object.create(dt),Ft.unsubscribe=()=>this.unsubscribe(),Tt={next:dt.next&&Ke(dt.next,Ft),error:dt.error&&Ke(dt.error,Ft),complete:dt.complete&&Ke(dt.complete,Ft)}):Tt=dt}this.destination=new Dt(Tt)}}function Wt(He){Ee.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(He):(0,he.m)(He)}function Nn(He,dt){const{onStoppedNotification:Te}=Ee.$;Te&&Y.f.setTimeout(()=>Te(He,dt))}const gn={closed:!0,next:F.l,error:function zt(He){throw He},complete:F.l}},8359:(tn,ut,X)=>{X.d(ut,{Kn:()=>V,yU:()=>F,Uv:()=>K});var S=X(8071);const Ee=(0,X(1853).L)(ae=>function(ee){ae(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Se,Be)=>`${Be+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var he=X(7908);class F{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ke of ee)Ke.remove(this);else ee.remove(this);const{initialTeardown:Se}=this;if((0,S.T)(Se))try{Se()}catch(Ke){Y=Ke instanceof Ee?Ke.errors:[Ke]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ke of Be)try{te(Ke)}catch(Dt){Y=Y??[],Dt instanceof Ee?Y=[...Y,...Dt.errors]:Y.push(Dt)}}if(Y)throw new Ee(Y)}}add(Y){var ee;if(Y&&Y!==this)if(this.closed)te(Y);else{if(Y instanceof F){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(Y)}}_hasParent(Y){const{_parentage:ee}=this;return ee===Y||Array.isArray(ee)&&ee.includes(Y)}_addParent(Y){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(Y),ee):ee?[ee,Y]:Y}_removeParent(Y){const{_parentage:ee}=this;ee===Y?this._parentage=null:Array.isArray(ee)&&(0,he.o)(ee,Y)}remove(Y){const{_finalizers:ee}=this;ee&&(0,he.o)(ee,Y),Y instanceof F&&Y._removeParent(this)}}F.EMPTY=(()=>{const ae=new F;return ae.closed=!0,ae})();const V=F.EMPTY;function K(ae){return ae instanceof F||ae&&"closed"in ae&&(0,S.T)(ae.remove)&&(0,S.T)(ae.add)&&(0,S.T)(ae.unsubscribe)}function te(ae){(0,S.T)(ae)?ae():ae.unsubscribe()}},1026:(tn,ut,X)=>{X.d(ut,{$:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8455:(tn,ut,X)=>{X.d(ut,{H:()=>dt});var S=X(8750),P=X(941),Ee=X(6745),V=X(1985),te=X(4761),ae=X(8071),Y=X(5225);function Se(Te,Ce){if(!Te)throw new Error("Iterable cannot be null");return new V.c(Tt=>{(0,Y.N)(Tt,Ce,()=>{const Ft=Te[Symbol.asyncIterator]();(0,Y.N)(Tt,Ce,()=>{Ft.next().then(Ae=>{Ae.done?Tt.complete():Tt.next(Ae.value)})},0,!0)})})}var Be=X(5055),Ke=X(9858),Dt=X(7441),Lt=X(5397),Wt=X(7953),zt=X(591),Nn=X(5196);function dt(Te,Ce){return Ce?function He(Te,Ce){if(null!=Te){if((0,Be.l)(Te))return function he(Te,Ce){return(0,S.Tg)(Te).pipe((0,Ee._)(Ce),(0,P.Q)(Ce))}(Te,Ce);if((0,Dt.X)(Te))return function K(Te,Ce){return new V.c(Tt=>{let Ft=0;return Ce.schedule(function(){Ft===Te.length?Tt.complete():(Tt.next(Te[Ft++]),Tt.closed||this.schedule())})})}(Te,Ce);if((0,Ke.y)(Te))return function F(Te,Ce){return(0,S.Tg)(Te).pipe((0,Ee._)(Ce),(0,P.Q)(Ce))}(Te,Ce);if((0,Wt.T)(Te))return Se(Te,Ce);if((0,Lt.x)(Te))return function ee(Te,Ce){return new V.c(Tt=>{let Ft;return(0,Y.N)(Tt,Ce,()=>{Ft=Te[te.l](),(0,Y.N)(Tt,Ce,()=>{let Ae,Qe;try{({value:Ae,done:Qe}=Ft.next())}catch(bt){return void Tt.error(bt)}Qe?Tt.complete():Tt.next(Ae)},0,!0)}),()=>(0,ae.T)(Ft?.return)&&Ft.return()})}(Te,Ce);if((0,Nn.U)(Te))return function gn(Te,Ce){return Se((0,Nn.C)(Te),Ce)}(Te,Ce)}throw(0,zt.L)(Te)}(Te,Ce):(0,S.Tg)(Te)}},8750:(tn,ut,X)=>{X.d(ut,{Tg:()=>Be});var S=X(1635),P=X(7441),Ee=X(9858),he=X(1985),F=X(5055),V=X(7953),K=X(591),te=X(5397),ae=X(5196),Y=X(8071),ee=X(5334),Se=X(3494);function Be(He){if(He instanceof he.c)return He;if(null!=He){if((0,F.l)(He))return function Ke(He){return new he.c(dt=>{const Te=He[Se.s]();if((0,Y.T)(Te.subscribe))return Te.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,P.X)(He))return function Dt(He){return new he.c(dt=>{for(let Te=0;Te<He.length&&!dt.closed;Te++)dt.next(He[Te]);dt.complete()})}(He);if((0,Ee.y)(He))return function Lt(He){return new he.c(dt=>{He.then(Te=>{dt.closed||(dt.next(Te),dt.complete())},Te=>dt.error(Te)).then(null,ee.m)})}(He);if((0,V.T)(He))return zt(He);if((0,te.x)(He))return function Wt(He){return new he.c(dt=>{for(const Te of He)if(dt.next(Te),dt.closed)return;dt.complete()})}(He);if((0,ae.U)(He))return function Nn(He){return zt((0,ae.C)(He))}(He)}throw(0,K.L)(He)}function zt(He){return new he.c(dt=>{(function gn(He,dt){var Te,Ce,Tt,Ft;return(0,S.sH)(this,void 0,void 0,function*(){try{for(Te=(0,S.xN)(He);!(Ce=yield Te.next()).done;)if(dt.next(Ce.value),dt.closed)return}catch(Ae){Tt={error:Ae}}finally{try{Ce&&!Ce.done&&(Ft=Te.return)&&(yield Ft.call(Te))}finally{if(Tt)throw Tt.error}}dt.complete()})})(He,dt).catch(Te=>dt.error(Te))})}},7673:(tn,ut,X)=>{X.d(ut,{of:()=>Ee});var S=X(9326),P=X(8455);function Ee(...he){const F=(0,S.lI)(he);return(0,P.H)(he,F)}},4360:(tn,ut,X)=>{X.d(ut,{_:()=>P});var S=X(7707);function P(he,F,V,K,te){return new Ee(he,F,V,K,te)}class Ee extends S.vU{constructor(F,V,K,te,ae,Y){super(F),this.onFinalize=ae,this.shouldUnsubscribe=Y,this._next=V?function(ee){try{V(ee)}catch(Se){F.error(Se)}}:super._next,this._error=te?function(ee){try{te(ee)}catch(Se){F.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=K?function(){try{K()}catch(ee){F.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}},274:(tn,ut,X)=>{X.d(ut,{H:()=>Ee});var S=X(1397),P=X(8071);function Ee(he,F){return(0,P.T)(F)?(0,S.Z)(he,F,1):(0,S.Z)(he,1)}},5964:(tn,ut,X)=>{X.d(ut,{p:()=>Ee});var S=X(9974),P=X(4360);function Ee(he,F){return(0,S.N)((V,K)=>{let te=0;V.subscribe((0,P._)(K,ae=>he.call(F,ae,te++)&&K.next(ae)))})}},980:(tn,ut,X)=>{X.d(ut,{j:()=>P});var S=X(9974);function P(Ee){return(0,S.N)((he,F)=>{try{he.subscribe(F)}finally{F.add(Ee)}})}},6354:(tn,ut,X)=>{X.d(ut,{T:()=>Ee});var S=X(9974),P=X(4360);function Ee(he,F){return(0,S.N)((V,K)=>{let te=0;V.subscribe((0,P._)(K,ae=>{K.next(he.call(F,ae,te++))}))})}},1397:(tn,ut,X)=>{X.d(ut,{Z:()=>te});var S=X(6354),P=X(8750),Ee=X(9974),he=X(5225),F=X(4360),K=X(8071);function te(ae,Y,ee=1/0){return(0,K.T)(Y)?te((Se,Be)=>(0,S.T)((Ke,Dt)=>Y(Se,Ke,Be,Dt))((0,P.Tg)(ae(Se,Be))),ee):("number"==typeof Y&&(ee=Y),(0,Ee.N)((Se,Be)=>function V(ae,Y,ee,Se,Be,Ke,Dt,Lt){const Wt=[];let zt=0,Nn=0,gn=!1;const He=()=>{gn&&!Wt.length&&!zt&&Y.complete()},dt=Ce=>zt<Se?Te(Ce):Wt.push(Ce),Te=Ce=>{Ke&&Y.next(Ce),zt++;let Tt=!1;(0,P.Tg)(ee(Ce,Nn++)).subscribe((0,F._)(Y,Ft=>{Be?.(Ft),Ke?dt(Ft):Y.next(Ft)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(zt--;Wt.length&&zt<Se;){const Ft=Wt.shift();Dt?(0,he.N)(Y,Dt,()=>Te(Ft)):Te(Ft)}He()}catch(Ft){Y.error(Ft)}}))};return ae.subscribe((0,F._)(Y,dt,()=>{gn=!0,He()})),()=>{Lt?.()}}(Se,Be,ae,ee)))}},941:(tn,ut,X)=>{X.d(ut,{Q:()=>he});var S=X(5225),P=X(9974),Ee=X(4360);function he(F,V=0){return(0,P.N)((K,te)=>{K.subscribe((0,Ee._)(te,ae=>(0,S.N)(te,F,()=>te.next(ae),V),()=>(0,S.N)(te,F,()=>te.complete(),V),ae=>(0,S.N)(te,F,()=>te.error(ae),V)))})}},6745:(tn,ut,X)=>{X.d(ut,{_:()=>P});var S=X(9974);function P(Ee,he=0){return(0,S.N)((F,V)=>{V.add(Ee.schedule(()=>F.subscribe(V),he))})}},5558:(tn,ut,X)=>{X.d(ut,{n:()=>he});var S=X(8750),P=X(9974),Ee=X(4360);function he(F,V){return(0,P.N)((K,te)=>{let ae=null,Y=0,ee=!1;const Se=()=>ee&&!ae&&te.complete();K.subscribe((0,Ee._)(te,Be=>{ae?.unsubscribe();let Ke=0;const Dt=Y++;(0,S.Tg)(F(Be,Dt)).subscribe(ae=(0,Ee._)(te,Lt=>te.next(V?V(Be,Lt,Dt,Ke++):Lt),()=>{ae=null,Se()}))},()=>{ee=!0,Se()}))})}},8141:(tn,ut,X)=>{X.d(ut,{M:()=>F});var S=X(8071),P=X(9974),Ee=X(4360),he=X(3669);function F(V,K,te){const ae=(0,S.T)(V)||K||te?{next:V,error:K,complete:te}:V;return ae?(0,P.N)((Y,ee)=>{var Se;null===(Se=ae.subscribe)||void 0===Se||Se.call(ae);let Be=!0;Y.subscribe((0,Ee._)(ee,Ke=>{var Dt;null===(Dt=ae.next)||void 0===Dt||Dt.call(ae,Ke),ee.next(Ke)},()=>{var Ke;Be=!1,null===(Ke=ae.complete)||void 0===Ke||Ke.call(ae),ee.complete()},Ke=>{var Dt;Be=!1,null===(Dt=ae.error)||void 0===Dt||Dt.call(ae,Ke),ee.error(Ke)},()=>{var Ke,Dt;Be&&(null===(Ke=ae.unsubscribe)||void 0===Ke||Ke.call(ae)),null===(Dt=ae.finalize)||void 0===Dt||Dt.call(ae)}))}):he.D}},6780:(tn,ut,X)=>{X.d(ut,{R:()=>F});var S=X(8359);class P extends S.yU{constructor(K,te){super()}schedule(K,te=0){return this}}const Ee={setInterval(V,K,...te){const{delegate:ae}=Ee;return ae?.setInterval?ae.setInterval(V,K,...te):setInterval(V,K,...te)},clearInterval(V){const{delegate:K}=Ee;return(K?.clearInterval||clearInterval)(V)},delegate:void 0};var he=X(7908);class F extends P{constructor(K,te){super(K,te),this.scheduler=K,this.work=te,this.pending=!1}schedule(K,te=0){var ae;if(this.closed)return this;this.state=K;const Y=this.id,ee=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(ee,Y,te)),this.pending=!0,this.delay=te,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(ee,this.id,te),this}requestAsyncId(K,te,ae=0){return Ee.setInterval(K.flush.bind(K,this),ae)}recycleAsyncId(K,te,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return te;null!=te&&Ee.clearInterval(te)}execute(K,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(K,te);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,te){let Y,ae=!1;try{this.work(K)}catch(ee){ae=!0,Y=ee||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:K,scheduler:te}=this,{actions:ae}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.o)(ae,this),null!=K&&(this.id=this.recycleAsyncId(te,K,null)),this.delay=null,super.unsubscribe()}}}},3604:(tn,ut,X)=>{X.d(ut,{q:()=>Ee});const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class P{constructor(F,V=P.now){this.schedulerActionCtor=F,this.now=V}schedule(F,V=0,K){return new this.schedulerActionCtor(this,F).schedule(K,V)}}P.now=S.now;class Ee extends P{constructor(F,V=P.now){super(F,V),this.actions=[],this._active=!1}flush(F){const{actions:V}=this;if(this._active)return void V.push(F);let K;this._active=!0;do{if(K=F.execute(F.state,F.delay))break}while(F=V.shift());if(this._active=!1,K){for(;F=V.shift();)F.unsubscribe();throw K}}}},3236:(tn,ut,X)=>{X.d(ut,{E:()=>Ee,b:()=>he});var S=X(6780);const Ee=new(X(3604).q)(S.R),he=Ee},9270:(tn,ut,X)=>{X.d(ut,{f:()=>S});const S={setTimeout(P,Ee,...he){const{delegate:F}=S;return F?.setTimeout?F.setTimeout(P,Ee,...he):setTimeout(P,Ee,...he)},clearTimeout(P){const{delegate:Ee}=S;return(Ee?.clearTimeout||clearTimeout)(P)},delegate:void 0}},4761:(tn,ut,X)=>{X.d(ut,{l:()=>P});const P=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,ut,X)=>{X.d(ut,{s:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(tn,ut,X)=>{X.d(ut,{lI:()=>F,ms:()=>he});var S=X(8071),P=X(9470);function Ee(K){return K[K.length-1]}function he(K){return(0,S.T)(Ee(K))?K.pop():void 0}function F(K){return(0,P.m)(Ee(K))?K.pop():void 0}},3073:(tn,ut,X)=>{X.d(ut,{D:()=>F});const{isArray:S}=Array,{getPrototypeOf:P,prototype:Ee,keys:he}=Object;function F(K){if(1===K.length){const te=K[0];if(S(te))return{args:te,keys:null};if(function V(K){return K&&"object"==typeof K&&P(K)===Ee}(te)){const ae=he(te);return{args:ae.map(Y=>te[Y]),keys:ae}}}return{args:K,keys:null}}},7908:(tn,ut,X)=>{function S(P,Ee){if(P){const he=P.indexOf(Ee);0<=he&&P.splice(he,1)}}X.d(ut,{o:()=>S})},1853:(tn,ut,X)=>{function S(P){const he=P(F=>{Error.call(F),F.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}X.d(ut,{L:()=>S})},8496:(tn,ut,X)=>{function S(P,Ee){return P.reduce((he,F,V)=>(he[F]=Ee[V],he),{})}X.d(ut,{e:()=>S})},9786:(tn,ut,X)=>{X.d(ut,{Y:()=>Ee,l:()=>he});var S=X(1026);let P=null;function Ee(F){if(S.$.useDeprecatedSynchronousErrorHandling){const V=!P;if(V&&(P={errorThrown:!1,error:null}),F(),V){const{errorThrown:K,error:te}=P;if(P=null,K)throw te}}else F()}function he(F){S.$.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=F)}},5225:(tn,ut,X)=>{function S(P,Ee,he,F=0,V=!1){const K=Ee.schedule(function(){he(),V?P.add(this.schedule(null,F)):this.unsubscribe()},F);if(P.add(K),!V)return K}X.d(ut,{N:()=>S})},3669:(tn,ut,X)=>{function S(P){return P}X.d(ut,{D:()=>S})},7441:(tn,ut,X)=>{X.d(ut,{X:()=>S});const S=P=>P&&"number"==typeof P.length&&"function"!=typeof P},7953:(tn,ut,X)=>{X.d(ut,{T:()=>P});var S=X(8071);function P(Ee){return Symbol.asyncIterator&&(0,S.T)(Ee?.[Symbol.asyncIterator])}},8071:(tn,ut,X)=>{function S(P){return"function"==typeof P}X.d(ut,{T:()=>S})},5055:(tn,ut,X)=>{X.d(ut,{l:()=>Ee});var S=X(3494),P=X(8071);function Ee(he){return(0,P.T)(he[S.s])}},5397:(tn,ut,X)=>{X.d(ut,{x:()=>Ee});var S=X(4761),P=X(8071);function Ee(he){return(0,P.T)(he?.[S.l])}},9858:(tn,ut,X)=>{X.d(ut,{y:()=>P});var S=X(8071);function P(Ee){return(0,S.T)(Ee?.then)}},5196:(tn,ut,X)=>{X.d(ut,{C:()=>Ee,U:()=>he});var S=X(1635),P=X(8071);function Ee(F){return(0,S.AQ)(this,arguments,function*(){const K=F.getReader();try{for(;;){const{value:te,done:ae}=yield(0,S.N3)(K.read());if(ae)return yield(0,S.N3)(void 0);yield yield(0,S.N3)(te)}}finally{K.releaseLock()}})}function he(F){return(0,P.T)(F?.getReader)}},9470:(tn,ut,X)=>{X.d(ut,{m:()=>P});var S=X(8071);function P(Ee){return Ee&&(0,S.T)(Ee.schedule)}},9974:(tn,ut,X)=>{X.d(ut,{N:()=>Ee,S:()=>P});var S=X(8071);function P(he){return(0,S.T)(he?.lift)}function Ee(he){return F=>{if(P(F))return F.lift(function(V){try{return he(V,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,ut,X)=>{X.d(ut,{I:()=>he});var S=X(6354);const{isArray:P}=Array;function he(F){return(0,S.T)(V=>function Ee(F,V){return P(V)?F(...V):F(V)}(F,V))}},5343:(tn,ut,X)=>{function S(){}X.d(ut,{l:()=>S})},1203:(tn,ut,X)=>{X.d(ut,{F:()=>P,m:()=>Ee});var S=X(3669);function P(...he){return Ee(he)}function Ee(he){return 0===he.length?S.D:1===he.length?he[0]:function(V){return he.reduce((K,te)=>te(K),V)}}},5334:(tn,ut,X)=>{X.d(ut,{m:()=>Ee});var S=X(1026),P=X(9270);function Ee(he){P.f.setTimeout(()=>{const{onUnhandledError:F}=S.$;if(!F)throw he;F(he)})}},591:(tn,ut,X)=>{function S(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(ut,{L:()=>S})},9969:(tn,ut,X)=>{X.d(ut,{FX:()=>Ft,If:()=>S,K2:()=>V,MA:()=>Se,P:()=>Ke,hZ:()=>Ee,i0:()=>he,iF:()=>K,kY:()=>Y,kp:()=>P,lY:()=>ee,sM:()=>Be,sf:()=>Ce,ui:()=>Tt,wk:()=>te});var S=function(Ae){return Ae[Ae.State=0]="State",Ae[Ae.Transition=1]="Transition",Ae[Ae.Sequence=2]="Sequence",Ae[Ae.Group=3]="Group",Ae[Ae.Animate=4]="Animate",Ae[Ae.Keyframes=5]="Keyframes",Ae[Ae.Style=6]="Style",Ae[Ae.Trigger=7]="Trigger",Ae[Ae.Reference=8]="Reference",Ae[Ae.AnimateChild=9]="AnimateChild",Ae[Ae.AnimateRef=10]="AnimateRef",Ae[Ae.Query=11]="Query",Ae[Ae.Stagger=12]="Stagger",Ae}(S||{});const P="*";function Ee(Ae,Qe){return{type:S.Trigger,name:Ae,definitions:Qe,options:{}}}function he(Ae,Qe=null){return{type:S.Animate,styles:Qe,timings:Ae}}function V(Ae,Qe=null){return{type:S.Sequence,steps:Ae,options:Qe}}function K(Ae){return{type:S.Style,styles:Ae,offset:null}}function te(Ae,Qe,bt){return{type:S.State,name:Ae,styles:Qe,options:bt}}function Y(Ae,Qe,bt=null){return{type:S.Transition,expr:Ae,animation:Qe,options:bt}}function ee(Ae,Qe=null){return{type:S.Reference,animation:Ae,options:Qe}}function Se(Ae=null){return{type:S.AnimateChild,options:Ae}}function Be(Ae,Qe=null){return{type:S.AnimateRef,animation:Ae,options:Qe}}function Ke(Ae,Qe,bt=null){return{type:S.Query,selector:Ae,animation:Qe,options:bt}}class Ce{constructor(Qe=0,bt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Qe+bt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}onStart(Qe){this._originalOnStartFns.push(Qe),this._onStartFns.push(Qe)}onDone(Qe){this._originalOnDoneFns.push(Qe),this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Qe){this._position=this.totalTime?Qe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Qe){const bt="start"==Qe?this._onStartFns:this._onDoneFns;bt.forEach(In=>In()),bt.length=0}}class Tt{constructor(Qe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Qe;let bt=0,In=0,Wn=0;const ct=this.players.length;0==ct?queueMicrotask(()=>this._onFinish()):this.players.forEach(Mt=>{Mt.onDone(()=>{++bt==ct&&this._onFinish()}),Mt.onDestroy(()=>{++In==ct&&this._onDestroy()}),Mt.onStart(()=>{++Wn==ct&&this._onStart()})}),this.totalTime=this.players.reduce((Mt,Xt)=>Math.max(Mt,Xt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}init(){this.players.forEach(Qe=>Qe.init())}onStart(Qe){this._onStartFns.push(Qe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[])}onDone(Qe){this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Qe=>Qe.play())}pause(){this.players.forEach(Qe=>Qe.pause())}restart(){this.players.forEach(Qe=>Qe.restart())}finish(){this._onFinish(),this.players.forEach(Qe=>Qe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Qe=>Qe.destroy()),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this.players.forEach(Qe=>Qe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Qe){const bt=Qe*this.totalTime;this.players.forEach(In=>{const Wn=In.totalTime?Math.min(1,bt/In.totalTime):1;In.setPosition(Wn)})}getPosition(){const Qe=this.players.reduce((bt,In)=>null===bt||In.totalTime>bt.totalTime?In:bt,null);return null!=Qe?Qe.getPosition():0}beforeDestroy(){this.players.forEach(Qe=>{Qe.beforeDestroy&&Qe.beforeDestroy()})}triggerCallback(Qe){const bt="start"==Qe?this._onStartFns:this._onDoneFns;bt.forEach(In=>In()),bt.length=0}}const Ft="!"},177:(tn,ut,X)=>{X.d(ut,{AJ:()=>Zo,B3:()=>cn,MD:()=>Ia,N0:()=>qa,QT:()=>Ee,Sm:()=>Lt,Sq:()=>ve,T3:()=>_n,UE:()=>Fi,VF:()=>F,Vy:()=>Xi,Xr:()=>xo,YU:()=>Sr,ZD:()=>he,_b:()=>un,aZ:()=>zt,bT:()=>Rt,fw:()=>Wt,hb:()=>Ke,hj:()=>ae,qQ:()=>K});var S=X(3953);let P=null;function Ee(){return P}function he(w){P??=w}class F{}const K=new S.nKC("");let te=(()=>{class w{historyGo(N){throw new Error("")}static{this.\u0275fac=function(B){return new(B||w)}}static{this.\u0275prov=S.jDH({token:w,factory:()=>(0,S.WQX)(Y),providedIn:"platform"})}}return w})();const ae=new S.nKC("");let Y=(()=>{class w extends te{constructor(){super(),this._doc=(0,S.WQX)(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState(N){const B=Ee().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",N,!1),()=>B.removeEventListener("popstate",N)}onHashChange(N){const B=Ee().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",N,!1),()=>B.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,B,de){this._history.pushState(N,B,de)}replaceState(N,B,de){this._history.replaceState(N,B,de)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static{this.\u0275fac=function(B){return new(B||w)}}static{this.\u0275prov=S.jDH({token:w,factory:()=>new w,providedIn:"platform"})}}return w})();function ee(w,G){if(0==w.length)return G;if(0==G.length)return w;let N=0;return w.endsWith("/")&&N++,G.startsWith("/")&&N++,2==N?w+G.substring(1):1==N?w+G:w+"/"+G}function Se(w){const G=w.match(/#|\?|$/),N=G&&G.index||w.length;return w.slice(0,N-("/"===w[N-1]?1:0))+w.slice(N)}function Be(w){return w&&"?"!==w[0]?"?"+w:w}let Ke=(()=>{class w{historyGo(N){throw new Error("")}static{this.\u0275fac=function(B){return new(B||w)}}static{this.\u0275prov=S.jDH({token:w,factory:()=>(0,S.WQX)(Lt),providedIn:"root"})}}return w})();const Dt=new S.nKC("");let Lt=(()=>{class w extends Ke{constructor(N,B){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,S.WQX)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ee(this._baseHref,N)}path(N=!1){const B=this._platformLocation.pathname+Be(this._platformLocation.search),de=this._platformLocation.hash;return de&&N?`${B}${de}`:B}pushState(N,B,de,Ge){const ft=this.prepareExternalUrl(de+Be(Ge));this._platformLocation.pushState(N,B,ft)}replaceState(N,B,de,Ge){const ft=this.prepareExternalUrl(de+Be(Ge));this._platformLocation.replaceState(N,B,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(B){return new(B||w)(S.KVO(te),S.KVO(Dt,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Wt=(()=>{class w extends Ke{constructor(N,B){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(N){const B=ee(this._baseHref,N);return B.length>0?"#"+B:B}pushState(N,B,de,Ge){let ft=this.prepareExternalUrl(de+Be(Ge));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(N,B,ft)}replaceState(N,B,de,Ge){let ft=this.prepareExternalUrl(de+Be(Ge));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(N,B,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(B){return new(B||w)(S.KVO(te),S.KVO(Dt,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac})}}return w})(),zt=(()=>{class w{constructor(N){this._subject=new S.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const B=this._locationStrategy.getBaseHref();this._basePath=function dt(w){if(new RegExp("^(https?:)?//").test(w)){const[,N]=w.split(/\/\/[^\/]+/);return N}return w}(Se(He(B))),this._locationStrategy.onPopState(de=>{this._subject.emit({url:this.path(!0),pop:!0,state:de.state,type:de.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,B=""){return this.path()==this.normalize(N+Be(B))}normalize(N){return w.stripTrailingSlash(function gn(w,G){if(!w||!G.startsWith(w))return G;const N=G.substring(w.length);return""===N||["/",";","?","#"].includes(N[0])?N:G}(this._basePath,He(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,B="",de=null){this._locationStrategy.pushState(de,"",N,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Be(B)),de)}replaceState(N,B="",de=null){this._locationStrategy.replaceState(de,"",N,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Be(B)),de)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription??=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}),()=>{const B=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",B){this._urlChangeListeners.forEach(de=>de(N,B))}subscribe(N,B,de){return this._subject.subscribe({next:N,error:B,complete:de})}static{this.normalizeQueryParams=Be}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=Se}static{this.\u0275fac=function(B){return new(B||w)(S.KVO(Ke))}}static{this.\u0275prov=S.jDH({token:w,factory:()=>function Nn(){return new zt((0,S.KVO)(Ke))}(),providedIn:"root"})}}return w})();function He(w){return w.replace(/\/index.html$/,"")}function un(w,G){G=encodeURIComponent(G);for(const N of w.split(";")){const B=N.indexOf("="),[de,Ge]=-1==B?[N,""]:[N.slice(0,B),N.slice(B+1)];if(de.trim()===G)return decodeURIComponent(Ge)}return null}const kn=/\s+/,tr=[];let Sr=(()=>{class w{constructor(N,B){this._ngEl=N,this._renderer=B,this.initialClasses=tr,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(kn):tr}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(kn):N}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const B of N)this._updateState(B,!0);else if(null!=N)for(const B of Object.keys(N))this._updateState(B,!!N[B]);this._applyStateDiff()}_updateState(N,B){const de=this.stateMap.get(N);void 0!==de?(de.enabled!==B&&(de.changed=!0,de.enabled=B),de.touched=!0):this.stateMap.set(N,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const B=N[0],de=N[1];de.changed?(this._toggleClass(B,de.enabled),de.changed=!1):de.touched||(de.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),de.touched=!1}}_toggleClass(N,B){(N=N.trim()).length>0&&N.split(kn).forEach(de=>{B?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}static{this.\u0275fac=function(B){return new(B||w)(S.rXU(S.aKT),S.rXU(S.sFG))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return w})();class _e{constructor(G,N,B,de){this.$implicit=G,this.ngForOf=N,this.index=B,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ve=(()=>{class w{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,B,de){this._viewContainer=N,this._template=B,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const B=this._viewContainer;N.forEachOperation((de,Ge,ft)=>{if(null==de.previousIndex)B.createEmbeddedView(this._template,new _e(de.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)B.remove(null===Ge?void 0:Ge);else if(null!==Ge){const xt=B.get(Ge);B.move(xt,ft),ot(xt,de)}});for(let de=0,Ge=B.length;de<Ge;de++){const xt=B.get(de).context;xt.index=de,xt.count=Ge,xt.ngForOf=this._ngForOf}N.forEachIdentityChange(de=>{ot(B.get(de.currentIndex),de)})}static ngTemplateContextGuard(N,B){return!0}static{this.\u0275fac=function(B){return new(B||w)(S.rXU(S.c1b),S.rXU(S.C4Q),S.rXU(S._q3))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function ot(w,G){w.context.$implicit=G.item}let Rt=(()=>{class w{constructor(N,B){this._viewContainer=N,this._context=new Ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Dn("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Dn("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,B){return!0}static{this.\u0275fac=function(B){return new(B||w)(S.rXU(S.c1b),S.rXU(S.C4Q))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class Ht{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(w,G){if(G&&!G.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,S.Tbb)(G)}'.`)}let cn=(()=>{class w{constructor(N,B,de){this._ngEl=N,this._differs=B,this._renderer=de,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,B){const[de,Ge]=N.split("."),ft=-1===de.indexOf("-")?void 0:S.czy.DashCase;null!=B?this._renderer.setStyle(this._ngEl.nativeElement,de,Ge?`${B}${Ge}`:B,ft):this._renderer.removeStyle(this._ngEl.nativeElement,de,ft)}_applyChanges(N){N.forEachRemovedItem(B=>this._setStyle(B.key,null)),N.forEachAddedItem(B=>this._setStyle(B.key,B.currentValue)),N.forEachChangedItem(B=>this._setStyle(B.key,B.currentValue))}static{this.\u0275fac=function(B){return new(B||w)(S.rXU(S.aKT),S.rXU(S.MKu),S.rXU(S.sFG))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return w})(),_n=(()=>{class w{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(this._shouldRecreateView(N)){const B=this._viewContainerRef;if(this._viewRef&&B.remove(B.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const de=this._createContextForwardProxy();this._viewRef=B.createEmbeddedView(this.ngTemplateOutlet,de,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(N){return!!N.ngTemplateOutlet||!!N.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(N,B,de)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,B,de),get:(N,B,de)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,B,de)}})}static{this.\u0275fac=function(B){return new(B||w)(S.rXU(S.c1b))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[S.OA$]})}}return w})(),Ia=(()=>{class w{static{this.\u0275fac=function(B){return new(B||w)}}static{this.\u0275mod=S.$C({type:w})}static{this.\u0275inj=S.G2t({})}}return w})();const Zo="browser",Jo="server";function Fi(w){return w===Zo}function Xi(w){return w===Jo}let xo=(()=>{class w{static{this.\u0275prov=(0,S.jDH)({token:w,providedIn:"root",factory:()=>Fi((0,S.WQX)(S.Agw))?new $s((0,S.WQX)(K),window):new Ta})}}return w})();class $s{constructor(G,N){this.document=G,this.window=N,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(G){this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){const N=function Ka(w,G){const N=w.getElementById(G)||w.getElementsByName(G)[0];if(N)return N;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const B=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let de=B.currentNode;for(;de;){const Ge=de.shadowRoot;if(Ge){const ft=Ge.getElementById(G)||Ge.querySelector(`[name="${G}"]`);if(ft)return ft}de=B.nextNode()}}return null}(this.document,G);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(G){this.window.history.scrollRestoration=G}scrollToElement(G){const N=G.getBoundingClientRect(),B=N.left+this.window.pageXOffset,de=N.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(B-Ge[0],de-Ge[1])}}class Ta{setOffset(G){}getScrollPosition(){return[0,0]}scrollToPosition(G){}scrollToAnchor(G){}setHistoryScrollRestoration(G){}}class qa{}},1626:(tn,ut,X)=>{X.d(ut,{$R:()=>at,Qq:()=>ce,Sx:()=>we});var S=X(467),P=X(3953),Ee=X(7673),he=X(1985),F=X(8455),V=X(274),K=X(5964),te=X(6354),ae=X(980),Y=X(5558),ee=X(177);class Se{}class Be{}class Ke{constructor(_e){this.normalizedNames=new Map,this.lazyUpdate=null,_e?"string"==typeof _e?this.lazyInit=()=>{this.headers=new Map,_e.split("\n").forEach(ve=>{const ot=ve.indexOf(":");if(ot>0){const wt=ve.slice(0,ot),Rt=wt.toLowerCase(),Ht=ve.slice(ot+1).trim();this.maybeSetNormalizedName(wt,Rt),this.headers.has(Rt)?this.headers.get(Rt).push(Ht):this.headers.set(Rt,[Ht])}})}:typeof Headers<"u"&&_e instanceof Headers?(this.headers=new Map,_e.forEach((ve,ot)=>{this.setHeaderEntries(ot,ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_e).forEach(([ve,ot])=>{this.setHeaderEntries(ve,ot)})}:this.headers=new Map}has(_e){return this.init(),this.headers.has(_e.toLowerCase())}get(_e){this.init();const ve=this.headers.get(_e.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_e){return this.init(),this.headers.get(_e.toLowerCase())||null}append(_e,ve){return this.clone({name:_e,value:ve,op:"a"})}set(_e,ve){return this.clone({name:_e,value:ve,op:"s"})}delete(_e,ve){return this.clone({name:_e,value:ve,op:"d"})}maybeSetNormalizedName(_e,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,_e)}init(){this.lazyInit&&(this.lazyInit instanceof Ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_e=>this.applyUpdate(_e)),this.lazyUpdate=null))}copyFrom(_e){_e.init(),Array.from(_e.headers.keys()).forEach(ve=>{this.headers.set(ve,_e.headers.get(ve)),this.normalizedNames.set(ve,_e.normalizedNames.get(ve))})}clone(_e){const ve=new Ke;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Ke?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([_e]),ve}applyUpdate(_e){const ve=_e.name.toLowerCase();switch(_e.op){case"a":case"s":let ot=_e.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(_e.name,ve);const wt=("a"===_e.op?this.headers.get(ve):void 0)||[];wt.push(...ot),this.headers.set(ve,wt);break;case"d":const Rt=_e.value;if(Rt){let Ht=this.headers.get(ve);if(!Ht)return;Ht=Ht.filter(Dn=>-1===Rt.indexOf(Dn)),0===Ht.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,Ht)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}setHeaderEntries(_e,ve){const ot=(Array.isArray(ve)?ve:[ve]).map(Rt=>Rt.toString()),wt=_e.toLowerCase();this.headers.set(wt,ot),this.maybeSetNormalizedName(_e,wt)}forEach(_e){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>_e(this.normalizedNames.get(ve),this.headers.get(ve)))}}class Lt{encodeKey(_e){return gn(_e)}encodeValue(_e){return gn(_e)}decodeKey(_e){return decodeURIComponent(_e)}decodeValue(_e){return decodeURIComponent(_e)}}const zt=/%(\d[a-f0-9])/gi,Nn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gn(J){return encodeURIComponent(J).replace(zt,(_e,ve)=>Nn[ve]??_e)}function He(J){return`${J}`}class dt{constructor(_e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_e.encoder||new Lt,_e.fromString){if(_e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wt(J,_e){const ve=new Map;return J.length>0&&J.replace(/^\?/,"").split("&").forEach(wt=>{const Rt=wt.indexOf("="),[Ht,Dn]=-1==Rt?[_e.decodeKey(wt),""]:[_e.decodeKey(wt.slice(0,Rt)),_e.decodeValue(wt.slice(Rt+1))],fn=ve.get(Ht)||[];fn.push(Dn),ve.set(Ht,fn)}),ve}(_e.fromString,this.encoder)}else _e.fromObject?(this.map=new Map,Object.keys(_e.fromObject).forEach(ve=>{const ot=_e.fromObject[ve],wt=Array.isArray(ot)?ot.map(He):[He(ot)];this.map.set(ve,wt)})):this.map=null}has(_e){return this.init(),this.map.has(_e)}get(_e){this.init();const ve=this.map.get(_e);return ve?ve[0]:null}getAll(_e){return this.init(),this.map.get(_e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_e,ve){return this.clone({param:_e,value:ve,op:"a"})}appendAll(_e){const ve=[];return Object.keys(_e).forEach(ot=>{const wt=_e[ot];Array.isArray(wt)?wt.forEach(Rt=>{ve.push({param:ot,value:Rt,op:"a"})}):ve.push({param:ot,value:wt,op:"a"})}),this.clone(ve)}set(_e,ve){return this.clone({param:_e,value:ve,op:"s"})}delete(_e,ve){return this.clone({param:_e,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(_e=>{const ve=this.encoder.encodeKey(_e);return this.map.get(_e).map(ot=>ve+"="+this.encoder.encodeValue(ot)).join("&")}).filter(_e=>""!==_e).join("&")}clone(_e){const ve=new dt({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(_e),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_e=>this.map.set(_e,this.cloneFrom.map.get(_e))),this.updates.forEach(_e=>{switch(_e.op){case"a":case"s":const ve=("a"===_e.op?this.map.get(_e.param):void 0)||[];ve.push(He(_e.value)),this.map.set(_e.param,ve);break;case"d":if(void 0===_e.value){this.map.delete(_e.param);break}{let ot=this.map.get(_e.param)||[];const wt=ot.indexOf(He(_e.value));-1!==wt&&ot.splice(wt,1),ot.length>0?this.map.set(_e.param,ot):this.map.delete(_e.param)}}}),this.cloneFrom=this.updates=null)}}class Ce{constructor(){this.map=new Map}set(_e,ve){return this.map.set(_e,ve),this}get(_e){return this.map.has(_e)||this.map.set(_e,_e.defaultValue()),this.map.get(_e)}delete(_e){return this.map.delete(_e),this}has(_e){return this.map.has(_e)}keys(){return this.map.keys()}}function Ft(J){return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer}function Ae(J){return typeof Blob<"u"&&J instanceof Blob}function Qe(J){return typeof FormData<"u"&&J instanceof FormData}class In{constructor(_e,ve,ot,wt){let Rt;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_e.toUpperCase(),function Tt(J){switch(J){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==ot?ot:null,Rt=wt):Rt=ot,Rt&&(this.reportProgress=!!Rt.reportProgress,this.withCredentials=!!Rt.withCredentials,Rt.responseType&&(this.responseType=Rt.responseType),Rt.headers&&(this.headers=Rt.headers),Rt.context&&(this.context=Rt.context),Rt.params&&(this.params=Rt.params),this.transferCache=Rt.transferCache),this.headers??=new Ke,this.context??=new Ce,this.params){const Ht=this.params.toString();if(0===Ht.length)this.urlWithParams=ve;else{const Dn=ve.indexOf("?");this.urlWithParams=ve+(-1===Dn?"?":Dn<ve.length-1?"&":"")+Ht}}else this.params=new dt,this.urlWithParams=ve}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ft(this.body)||Ae(this.body)||Qe(this.body)||function bt(J){return typeof URLSearchParams<"u"&&J instanceof URLSearchParams}(this.body)?this.body:this.body instanceof dt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Ae(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_e={}){const ve=_e.method||this.method,ot=_e.url||this.url,wt=_e.responseType||this.responseType,Rt=_e.transferCache??this.transferCache,Ht=void 0!==_e.body?_e.body:this.body,Dn=_e.withCredentials??this.withCredentials,fn=_e.reportProgress??this.reportProgress;let _r=_e.headers||this.headers,ti=_e.params||this.params;const Bn=_e.context??this.context;return void 0!==_e.setHeaders&&(_r=Object.keys(_e.setHeaders).reduce((ni,qn)=>ni.set(qn,_e.setHeaders[qn]),_r)),_e.setParams&&(ti=Object.keys(_e.setParams).reduce((ni,qn)=>ni.set(qn,_e.setParams[qn]),ti)),new In(ve,ot,Ht,{params:ti,headers:_r,context:Bn,reportProgress:fn,responseType:wt,withCredentials:Dn,transferCache:Rt})}}var Wn=function(J){return J[J.Sent=0]="Sent",J[J.UploadProgress=1]="UploadProgress",J[J.ResponseHeader=2]="ResponseHeader",J[J.DownloadProgress=3]="DownloadProgress",J[J.Response=4]="Response",J[J.User=5]="User",J}(Wn||{});class ct{constructor(_e,ve=200,ot="OK"){this.headers=_e.headers||new Ke,this.status=void 0!==_e.status?_e.status:ve,this.statusText=_e.statusText||ot,this.url=_e.url||null,this.ok=this.status>=200&&this.status<300}}class Mt extends ct{constructor(_e={}){super(_e),this.type=Wn.ResponseHeader}clone(_e={}){return new Mt({headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Xt extends ct{constructor(_e={}){super(_e),this.type=Wn.Response,this.body=void 0!==_e.body?_e.body:null}clone(_e={}){return new Xt({body:void 0!==_e.body?_e.body:this.body,headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Yt extends ct{constructor(_e){super(_e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_e.url||"(unknown url)"}`:`Http failure response for ${_e.url||"(unknown url)"}: ${_e.status} ${_e.statusText}`,this.error=_e.error||null}}function be(J,_e){return{body:_e,headers:J.headers,context:J.context,observe:J.observe,params:J.params,reportProgress:J.reportProgress,responseType:J.responseType,withCredentials:J.withCredentials,transferCache:J.transferCache}}let ce=(()=>{class J{constructor(ve){this.handler=ve}request(ve,ot,wt={}){let Rt;if(ve instanceof In)Rt=ve;else{let fn,_r;fn=wt.headers instanceof Ke?wt.headers:new Ke(wt.headers),wt.params&&(_r=wt.params instanceof dt?wt.params:new dt({fromObject:wt.params})),Rt=new In(ve,ot,void 0!==wt.body?wt.body:null,{headers:fn,context:wt.context,params:_r,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials,transferCache:wt.transferCache})}const Ht=(0,Ee.of)(Rt).pipe((0,V.H)(fn=>this.handler.handle(fn)));if(ve instanceof In||"events"===wt.observe)return Ht;const Dn=Ht.pipe((0,K.p)(fn=>fn instanceof Xt));switch(wt.observe||"body"){case"body":switch(Rt.responseType){case"arraybuffer":return Dn.pipe((0,te.T)(fn=>{if(null!==fn.body&&!(fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fn.body}));case"blob":return Dn.pipe((0,te.T)(fn=>{if(null!==fn.body&&!(fn.body instanceof Blob))throw new Error("Response is not a Blob.");return fn.body}));case"text":return Dn.pipe((0,te.T)(fn=>{if(null!==fn.body&&"string"!=typeof fn.body)throw new Error("Response is not a string.");return fn.body}));default:return Dn.pipe((0,te.T)(fn=>fn.body))}case"response":return Dn;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete(ve,ot={}){return this.request("DELETE",ve,ot)}get(ve,ot={}){return this.request("GET",ve,ot)}head(ve,ot={}){return this.request("HEAD",ve,ot)}jsonp(ve,ot){return this.request("JSONP",ve,{params:(new dt).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,ot={}){return this.request("OPTIONS",ve,ot)}patch(ve,ot,wt={}){return this.request("PATCH",ve,be(wt,ot))}post(ve,ot,wt={}){return this.request("POST",ve,be(wt,ot))}put(ve,ot,wt={}){return this.request("PUT",ve,be(wt,ot))}static{this.\u0275fac=function(ot){return new(ot||J)(P.KVO(Se))}}static{this.\u0275prov=P.jDH({token:J,factory:J.\u0275fac})}}return J})();const ge=/^\)\]\}',?\n/;function Gn(J){if(J.url)return J.url;const _e="X-Request-URL".toLocaleLowerCase();return J.headers.get(_e)}let Dr=(()=>{class J{constructor(){this.fetchImpl=(0,P.WQX)(nn,{optional:!0})?.fetch??((...ve)=>globalThis.fetch(...ve)),this.ngZone=(0,P.WQX)(P.SKi)}handle(ve){return new he.c(ot=>{const wt=new AbortController;return this.doRequest(ve,wt.signal,ot).then(Un,Rt=>ot.error(new Yt({error:Rt}))),()=>wt.abort()})}doRequest(ve,ot,wt){var Rt=this;return(0,S.A)(function*(){const Ht=Rt.createRequestInit(ve);let Dn;try{const Hr=Rt.ngZone.runOutsideAngular(()=>Rt.fetchImpl(ve.urlWithParams,{signal:ot,...Ht}));(function Kn(J){J.then(Un,Un)})(Hr),wt.next({type:Wn.Sent}),Dn=yield Hr}catch(Hr){return void wt.error(new Yt({error:Hr,status:Hr.status??0,statusText:Hr.statusText,url:ve.urlWithParams,headers:Hr.headers}))}const fn=new Ke(Dn.headers),_r=Dn.statusText,ti=Gn(Dn)??ve.urlWithParams;let Bn=Dn.status,ni=null;if(ve.reportProgress&&wt.next(new Mt({headers:fn,status:Bn,statusText:_r,url:ti})),Dn.body){const Hr=Dn.headers.get("content-length"),pr=[],cn=Dn.body.getReader();let vr,sn,_n=0;const Mi=typeof Zone<"u"&&Zone.current;yield Rt.ngZone.runOutsideAngular((0,S.A)(function*(){for(;;){const{done:qr,value:Li}=yield cn.read();if(qr)break;if(pr.push(Li),_n+=Li.length,ve.reportProgress){sn="text"===ve.responseType?(sn??"")+(vr??=new TextDecoder).decode(Li,{stream:!0}):void 0;const co=()=>wt.next({type:Wn.DownloadProgress,total:Hr?+Hr:void 0,loaded:_n,partialText:sn});Mi?Mi.run(co):co()}}}));const Kr=Rt.concatChunks(pr,_n);try{const qr=Dn.headers.get("Content-Type")??"";ni=Rt.parseBody(ve,Kr,qr)}catch(qr){return void wt.error(new Yt({error:qr,headers:new Ke(Dn.headers),status:Dn.status,statusText:Dn.statusText,url:Gn(Dn)??ve.urlWithParams}))}}0===Bn&&(Bn=ni?200:0),Bn>=200&&Bn<300?(wt.next(new Xt({body:ni,headers:fn,status:Bn,statusText:_r,url:ti})),wt.complete()):wt.error(new Yt({error:ni,headers:fn,status:Bn,statusText:_r,url:ti}))})()}parseBody(ve,ot,wt){switch(ve.responseType){case"json":const Rt=(new TextDecoder).decode(ot).replace(ge,"");return""===Rt?null:JSON.parse(Rt);case"text":return(new TextDecoder).decode(ot);case"blob":return new Blob([ot],{type:wt});case"arraybuffer":return ot.buffer}}createRequestInit(ve){const ot={},wt=ve.withCredentials?"include":void 0;if(ve.headers.forEach((Rt,Ht)=>ot[Rt]=Ht.join(",")),ve.headers.has("Accept")||(ot.Accept="application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const Rt=ve.detectContentTypeHeader();null!==Rt&&(ot["Content-Type"]=Rt)}return{body:ve.serializeBody(),method:ve.method,headers:ot,credentials:wt}}concatChunks(ve,ot){const wt=new Uint8Array(ot);let Rt=0;for(const Ht of ve)wt.set(Ht,Rt),Rt+=Ht.length;return wt}static{this.\u0275fac=function(ot){return new(ot||J)}}static{this.\u0275prov=P.jDH({token:J,factory:J.\u0275fac})}}return J})();class nn{}function Un(){}function Ur(J,_e){return _e(J)}function nr(J,_e){return(ve,ot)=>_e.intercept(ve,{handle:wt=>J(wt,ot)})}const Gr=new P.nKC(""),ar=new P.nKC(""),ui=new P.nKC(""),on=new P.nKC("",{providedIn:"root",factory:()=>!0});function pi(){let J=null;return(_e,ve)=>{null===J&&(J=((0,P.WQX)(Gr,{optional:!0})??[]).reduceRight(nr,Ur));const ot=(0,P.WQX)(P.TgB);if((0,P.WQX)(on)){const Rt=ot.add();return J(_e,ve).pipe((0,ae.j)(()=>ot.remove(Rt)))}return J(_e,ve)}}let _t=(()=>{class J extends Se{constructor(ve,ot){super(),this.backend=ve,this.injector=ot,this.chain=null,this.pendingTasks=(0,P.WQX)(P.TgB),this.contributeToStability=(0,P.WQX)(on)}handle(ve){if(null===this.chain){const ot=Array.from(new Set([...this.injector.get(ar),...this.injector.get(ui,[])]));this.chain=ot.reduceRight((wt,Rt)=>function Er(J,_e,ve){return(ot,wt)=>(0,P.N4e)(ve,()=>_e(ot,Rt=>J(Rt,wt)))}(wt,Rt,this.injector),Ur)}if(this.contributeToStability){const ot=this.pendingTasks.add();return this.chain(ve,wt=>this.backend.handle(wt)).pipe((0,ae.j)(()=>this.pendingTasks.remove(ot)))}return this.chain(ve,ot=>this.backend.handle(ot))}static{this.\u0275fac=function(ot){return new(ot||J)(P.KVO(Be),P.KVO(P.uvJ))}}static{this.\u0275prov=P.jDH({token:J,factory:J.\u0275fac})}}return J})();const Ri=/^\)\]\}',?\n/;let ur=(()=>{class J{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new P.wOt(-2800,!1);const ot=this.xhrFactory;return(ot.\u0275loadImpl?(0,F.H)(ot.\u0275loadImpl()):(0,Ee.of)(null)).pipe((0,Y.n)(()=>new he.c(Rt=>{const Ht=ot.build();if(Ht.open(ve.method,ve.urlWithParams),ve.withCredentials&&(Ht.withCredentials=!0),ve.headers.forEach((pr,cn)=>Ht.setRequestHeader(pr,cn.join(","))),ve.headers.has("Accept")||Ht.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const pr=ve.detectContentTypeHeader();null!==pr&&Ht.setRequestHeader("Content-Type",pr)}if(ve.responseType){const pr=ve.responseType.toLowerCase();Ht.responseType="json"!==pr?pr:"text"}const Dn=ve.serializeBody();let fn=null;const _r=()=>{if(null!==fn)return fn;const pr=Ht.statusText||"OK",cn=new Ke(Ht.getAllResponseHeaders()),_n=function Rn(J){return"responseURL"in J&&J.responseURL?J.responseURL:/^X-Request-URL:/m.test(J.getAllResponseHeaders())?J.getResponseHeader("X-Request-URL"):null}(Ht)||ve.url;return fn=new Mt({headers:cn,status:Ht.status,statusText:pr,url:_n}),fn},ti=()=>{let{headers:pr,status:cn,statusText:_n,url:vr}=_r(),sn=null;204!==cn&&(sn=typeof Ht.response>"u"?Ht.responseText:Ht.response),0===cn&&(cn=sn?200:0);let Mi=cn>=200&&cn<300;if("json"===ve.responseType&&"string"==typeof sn){const Kr=sn;sn=sn.replace(Ri,"");try{sn=""!==sn?JSON.parse(sn):null}catch(qr){sn=Kr,Mi&&(Mi=!1,sn={error:qr,text:sn})}}Mi?(Rt.next(new Xt({body:sn,headers:pr,status:cn,statusText:_n,url:vr||void 0})),Rt.complete()):Rt.error(new Yt({error:sn,headers:pr,status:cn,statusText:_n,url:vr||void 0}))},Bn=pr=>{const{url:cn}=_r(),_n=new Yt({error:pr,status:Ht.status||0,statusText:Ht.statusText||"Unknown Error",url:cn||void 0});Rt.error(_n)};let ni=!1;const qn=pr=>{ni||(Rt.next(_r()),ni=!0);let cn={type:Wn.DownloadProgress,loaded:pr.loaded};pr.lengthComputable&&(cn.total=pr.total),"text"===ve.responseType&&Ht.responseText&&(cn.partialText=Ht.responseText),Rt.next(cn)},Hr=pr=>{let cn={type:Wn.UploadProgress,loaded:pr.loaded};pr.lengthComputable&&(cn.total=pr.total),Rt.next(cn)};return Ht.addEventListener("load",ti),Ht.addEventListener("error",Bn),Ht.addEventListener("timeout",Bn),Ht.addEventListener("abort",Bn),ve.reportProgress&&(Ht.addEventListener("progress",qn),null!==Dn&&Ht.upload&&Ht.upload.addEventListener("progress",Hr)),Ht.send(Dn),Rt.next({type:Wn.Sent}),()=>{Ht.removeEventListener("error",Bn),Ht.removeEventListener("abort",Bn),Ht.removeEventListener("load",ti),Ht.removeEventListener("timeout",Bn),ve.reportProgress&&(Ht.removeEventListener("progress",qn),null!==Dn&&Ht.upload&&Ht.upload.removeEventListener("progress",Hr)),Ht.readyState!==Ht.DONE&&Ht.abort()}})))}static{this.\u0275fac=function(ot){return new(ot||J)(P.KVO(ee.N0))}}static{this.\u0275prov=P.jDH({token:J,factory:J.\u0275fac})}}return J})();const Br=new P.nKC(""),jr=new P.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$r=new P.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Jr{}let Me=(()=>{class J{constructor(ve,ot,wt){this.doc=ve,this.platform=ot,this.cookieName=wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee._b)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}static{this.\u0275fac=function(ot){return new(ot||J)(P.KVO(ee.qQ),P.KVO(P.Agw),P.KVO(jr))}}static{this.\u0275prov=P.jDH({token:J,factory:J.\u0275fac})}}return J})();function tt(J,_e){const ve=J.url.toLowerCase();if(!(0,P.WQX)(Br)||"GET"===J.method||"HEAD"===J.method||ve.startsWith("http://")||ve.startsWith("https://"))return _e(J);const ot=(0,P.WQX)(Jr).getToken(),wt=(0,P.WQX)($r);return null!=ot&&!J.headers.has(wt)&&(J=J.clone({headers:J.headers.set(wt,ot)})),_e(J)}var fe=function(J){return J[J.Interceptors=0]="Interceptors",J[J.LegacyInterceptors=1]="LegacyInterceptors",J[J.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",J[J.NoXsrfProtection=3]="NoXsrfProtection",J[J.JsonpSupport=4]="JsonpSupport",J[J.RequestsMadeViaParent=5]="RequestsMadeViaParent",J[J.Fetch=6]="Fetch",J}(fe||{});function at(...J){const _e=[ce,ur,_t,{provide:Se,useExisting:_t},{provide:Be,useFactory:()=>(0,P.WQX)(Dr,{optional:!0})??(0,P.WQX)(ur)},{provide:ar,useValue:tt,multi:!0},{provide:Br,useValue:!0},{provide:Jr,useClass:Me}];for(const ve of J)_e.push(...ve.\u0275providers);return(0,P.EmA)(_e)}const ue=new P.nKC("");function we(){return function Le(J,_e){return{\u0275kind:J,\u0275providers:_e}}(fe.LegacyInterceptors,[{provide:ue,useFactory:pi},{provide:ar,useExisting:ue,multi:!0}])}},3953:(tn,ut,X)=>{function S(e,t){return Object.is(e,t)}X.d(ut,{bc$:()=>Pw,iLQ:()=>aE,sZ2:()=>wl,hnV:()=>fS,Hbi:()=>c1,o8S:()=>el,BIS:()=>ep,gRc:()=>RS,Ql9:()=>OO,Ocv:()=>BO,Z63:()=>to,aKT:()=>Ei,uvJ:()=>zo,zcH:()=>Ou,bkB:()=>Mu,$GK:()=>Fe,nKC:()=>ln,zZn:()=>Ks,_q3:()=>dw,MKu:()=>hw,xe9:()=>iw,Co$:()=>cA,Vns:()=>sf,SKi:()=>ki,Xx1:()=>Rr,Agw:()=>Al,PLl:()=>WE,sFG:()=>Nb,_9s:()=>WI,czy:()=>um,kdw:()=>Qr,C4Q:()=>Md,NYb:()=>CO,giA:()=>dS,xvI:()=>eO,RxE:()=>rS,c1b:()=>Ov,gXe:()=>oa,mal:()=>jv,L39:()=>B1,EWP:()=>H1,Ol2:()=>aT,w6W:()=>wR,oH4:()=>DS,QZP:()=>lb,Rfq:()=>ea,WQX:()=>ht,QuC:()=>E,EmA:()=>Pt,Udg:()=>j1,fpN:()=>u1,HJs:()=>Q1,N4e:()=>Sc,vPA:()=>W0,O8t:()=>z1,H3F:()=>iS,zAP:()=>eb,H8p:()=>Hl,KH2:()=>ag,TgB:()=>Il,wOt:()=>St,WHO:()=>cS,e01:()=>lS,H5H:()=>xT,Zy3:()=>fo,mq5:()=>pD,JZv:()=>di,LfX:()=>ba,plB:()=>jd,jNT:()=>ew,zjR:()=>hS,TL$:()=>qg,Tbb:()=>si,Vt3:()=>iT,GFd:()=>uA,OA$:()=>Z,Jv_:()=>AC,aNF:()=>DC,R7$:()=>hr,BMQ:()=>ET,HbH:()=>JA,AVh:()=>ST,wni:()=>YD,VBU:()=>Ac,FsC:()=>eu,jDH:()=>sr,G2t:()=>Oi,$C:()=>Yu,EJ8:()=>tu,rXU:()=>Ie,nrm:()=>NT,eu8:()=>OT,bVm:()=>Xv,qex:()=>Qv,k0s:()=>qv,j41:()=>Kv,RV6:()=>dD,xGo:()=>Ny,KVO:()=>xn,kS0:()=>Dh,QTQ:()=>ke,bIt:()=>FT,lsd:()=>eC,qSk:()=>wg,XpG:()=>UD,SdG:()=>jD,NAR:()=>BD,Y8G:()=>AT,Mz_:()=>tE,lJ4:()=>bC,eq3:()=>RC,l_i:()=>PC,sMw:()=>MC,ziG:()=>NC,s1E:()=>OC,l4e:()=>xC,zJS:()=>kC,mGM:()=>JD,sdS:()=>tC,Njj:()=>py,EBC:()=>II,eBV:()=>Eg,npT:()=>pI,B4B:()=>R_,n$t:()=>gI,Aen:()=>mc,xc7:()=>CT,DNE:()=>cT,C5r:()=>jC,EFF:()=>dC,JRh:()=>BT,SpI:()=>nE,Lme:()=>jT,DH7:()=>EC,mxI:()=>HT,R50:()=>$T,GBs:()=>ZD});let P=null,Ee=!1,he=1;const F=Symbol("SIGNAL");function V(e){const t=P;return P=e,t}const Y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ee(e){if(Ee)throw new Error("");if(null===P)return;P.consumerOnSignalRead(e);const t=P.nextProducerIndex++;Ce(P),t<P.producerNode.length&&P.producerNode[t]!==e&&Te(P)&&dt(P.producerNode[t],P.producerIndexOfThis[t]),P.producerNode[t]!==e&&(P.producerNode[t]=e,P.producerIndexOfThis[t]=Te(P)?He(e,P,t):0),P.producerLastReadVersion[t]=e.version}function Be(e){if((!Te(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==he)){if(!e.producerMustRecompute(e)&&!Nn(e))return e.dirty=!1,void(e.lastCleanEpoch=he);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=he}}function Ke(e){if(void 0===e.liveConsumerNode)return;const t=Ee;Ee=!0;try{for(const r of e.liveConsumerNode)r.dirty||Lt(r)}finally{Ee=t}}function Dt(){return!1!==P?.consumerAllowSignalWrites}function Lt(e){e.dirty=!0,Ke(e),e.consumerMarkedDirty?.(e)}function Wt(e){return e&&(e.nextProducerIndex=0),V(e)}function zt(e,t){if(V(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Te(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)dt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Nn(e){Ce(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(Be(r),s!==r.version))return!0}return!1}function gn(e){if(Ce(e),Te(e))for(let t=0;t<e.producerNode.length;t++)dt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function He(e,t,r){if(Tt(e),0===e.liveConsumerNode.length&&Ft(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=He(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function dt(e,t){if(Tt(e),1===e.liveConsumerNode.length&&Ft(e))for(let s=0;s<e.producerNode.length;s++)dt(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Ce(a),a.producerIndexOfThis[s]=t}}function Te(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ce(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Tt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ft(e){return void 0!==e.producerNode}const Qe=Symbol("UNSET"),bt=Symbol("COMPUTING"),In=Symbol("ERRORED"),Wn={...Y,value:Qe,dirty:!0,error:null,equal:S,producerMustRecompute:e=>e.value===Qe||e.value===bt,producerRecomputeValue(e){if(e.value===bt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=bt;const r=Wt(e);let s;try{s=e.computation()}catch(a){s=In,e.error=a}finally{zt(e,r)}t!==Qe&&t!==In&&s!==In&&e.equal(t,s)?e.value=t:(e.value=s,e.version++)}};let Mt=function ct(){throw new Error};function Xt(){Mt()}let pe=null;function ce(e,t){Dt()||Xt(),e.equal(e.value,t)||(e.value=t,function Dr(e){e.version++,function Se(){he++}(),Ke(e),pe?.()}(e))}const Gn={...Y,equal:S,value:void 0};const Un=()=>{},Kn={...Y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Un};var nr=X(4412),Er=X(1413),Gr=X(8359),ar=X(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const ho="https://g.co/ng/security#xss";class St extends Error{constructor(t,r){super(fo(t,r)),this.code=t}}function fo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Yi(e){return{toString:e}.toString()}const jn="__parameters__";function Xs(e,t,r){return Yi(()=>{const s=function fs(e){return function(...r){if(e){const s=e(...r);for(const a in s)this[a]=s[a]}}}(t);function a(...l){if(this instanceof a)return s.apply(this,l),this;const f=new a(...l);return _.annotation=f,_;function _(D,k,H){const re=D.hasOwnProperty(jn)?D[jn]:Object.defineProperty(D,jn,{value:[]})[jn];for(;re.length<=H;)re.push(null);return(re[H]=re[H]||[]).push(f),D}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const di=globalThis;function Tr(e){for(let t in e)if(e[t]===Tr)return t;throw Error("Could not find renamed property on target object.")}function ss(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function si(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(si).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function _o(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const os=Tr({__forward_ref__:Tr});function ea(e){return e.__forward_ref__=ea,e.toString=function(){return si(this())},e}function bn(e){return Aa(e)?e():e}function Aa(e){return"function"==typeof e&&e.hasOwnProperty(os)&&e.__forward_ref__===ea}function sr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Oi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Js(e){return ha(e,Ai)||ha(e,zs)}function ba(e){return null!==Js(e)}function ha(e,t){return e.hasOwnProperty(t)?e[t]:null}function fa(e){return e&&(e.hasOwnProperty(fu)||e.hasOwnProperty(Qa))?e[fu]:null}const Ai=Tr({\u0275prov:Tr}),fu=Tr({\u0275inj:Tr}),zs=Tr({ngInjectableDef:Tr}),Qa=Tr({ngInjectorDef:Tr});class ln{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=sr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fo(e){return e&&!!e.\u0275providers}const sa=Tr({\u0275cmp:Tr}),gu=Tr({\u0275dir:Tr}),Vo=Tr({\u0275pipe:Tr}),Uo=Tr({\u0275mod:Tr}),Di=Tr({\u0275fac:Tr}),Bo=Tr({__NG_ELEMENT_ID__:Tr}),Ws=Tr({__NG_ENV_ID__:Tr});function U(e){return"string"==typeof e?e:null==e?"":String(e)}function De(e,t){throw new St(-201,!1)}var Fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Fe||{});let lt;function qt(){return lt}function Bt(e){const t=lt;return lt=e,t}function Hn(e,t,r){const s=Js(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Fe.Optional?null:void 0!==t?t:void De()}const Tn={},or="__NG_DI_FLAG__",w="ngTempTokenPath",N=/\n/gm,de="__source";let Ge;function xt(e){const t=Ge;return Ge=e,t}function gr(e,t=Fe.Default){if(void 0===Ge)throw new St(-203,!1);return null===Ge?Hn(e,void 0,t):Ge.get(e,t&Fe.Optional?null:void 0,t)}function xn(e,t=Fe.Default){return(qt()||gr)(bn(e),t)}function ht(e,t=Fe.Default){return xn(e,br(t))}function br(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function mr(e){const t=[];for(let r=0;r<e.length;r++){const s=bn(e[r]);if(Array.isArray(s)){if(0===s.length)throw new St(900,!1);let a,l=Fe.Default;for(let f=0;f<s.length;f++){const _=s[f],D=Qt(_);"number"==typeof D?-1===D?a=_.token:l|=D:a=_}t.push(xn(a,l))}else t.push(xn(s))}return t}function zr(e,t){return e[or]=t,e.prototype[or]=t,e}function Qt(e){return e[or]}const Rr=zr(Xs("Optional"),8),Qr=zr(Xs("SkipSelf"),4);function wr(e,t){return e.hasOwnProperty(Di)?e[Di]:null}function gi(e,t){e.forEach(r=>Array.isArray(r)?gi(r,t):t(r))}function eo(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function zi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ms(e,t,r){let s=mu(e,t);return s>=0?e[1|s]=r:(s=~s,function Wu(e,t,r,s){let a=e.length;if(a==t)e.push(r,s);else if(1===a)e.push(s,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function pa(e,t){const r=mu(e,t);if(r>=0)return e[1|r]}function mu(e,t){return function Ci(e,t,r){let s=0,a=e.length>>r;for(;a!==s;){const l=s+(a-s>>1),f=e[l<<r];if(t===f)return l<<r;f>t?a=l:s=l+1}return~(a<<r)}(e,t,1)}const Pr={},yr=[],to=new ln(""),Za=new ln("",-1),mi=new ln("");class Gu{get(t,r=Tn){if(r===Tn){const s=new Error(`NullInjectorError: No provider for ${si(t)}!`);throw s.name="NullInjectorError",s}return r}}var Ic=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ic||{}),oa=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(oa||{}),Pa=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pa||{});function yu(e,t,r){let s=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===s||e.charCodeAt(a+l)<=32)return a}r=a+1}}function _u(e,t,r){let s=0;for(;s<r.length;){const a=r[s];if("number"==typeof a){if(0!==a)break;s++;const l=r[s++],f=r[s++],_=r[s++];e.setAttribute(t,f,_,l)}else{const l=a,f=r[++s];Ku(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),s++}}return s}function Ma(e){return 3===e||4===e||6===e}function Ku(e){return 64===e.charCodeAt(0)}function ga(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:0===r||qu(e,r,a,null,-1===r||2===r?t[++s]:null)}}return e}function qu(e,t,r,s,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const _=e[l++];if("number"==typeof _){if(_===t){f=-1;break}if(_>t){f=l-1;break}}}for(;l<e.length;){const _=e[l];if("number"==typeof _)break;if(_===r){if(null===s)return void(null!==a&&(e[l+1]=a));if(s===e[l+1])return void(e[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,r),null!==s&&e.splice(l++,0,s),null!==a&&e.splice(l++,0,a)}const Tc="ng-template";function wc(e,t,r,s){let a=0;if(s){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==yu(t[a+1].toLowerCase(),r,0))return!0}else if(Qu(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Qu(e){return 4===e.type&&e.value!==Tc}function tl(e,t,r){return t===(4!==e.type||r?e.value:Tc)}function Bl(e,t,r){let s=4;const a=e.attrs,l=null!==a?function Gd(e){for(let t=0;t<e.length;t++)if(Ma(e[t]))return t;return e.length}(a):0;let f=!1;for(let _=0;_<t.length;_++){const D=t[_];if("number"!=typeof D){if(!f)if(4&s){if(s=2|1&s,""!==D&&!tl(e,D,r)||""===D&&1===t.length){if($o(s))return!1;f=!0}}else if(8&s){if(null===a||!wc(e,a,D,r)){if($o(s))return!1;f=!0}}else{const k=t[++_],H=jl(D,a,Qu(e),r);if(-1===H){if($o(s))return!1;f=!0;continue}if(""!==k){let re;if(re=H>l?"":a[H+1].toLowerCase(),2&s&&k!==re){if($o(s))return!1;f=!0}}}}else{if(!f&&!$o(s)&&!$o(D))return!1;if(f&&$o(D))continue;f=!1,s=D|1&s}}return $o(s)||f}function $o(e){return!(1&e)}function jl(e,t,r,s){if(null===t)return-1;let a=0;if(s||!r){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let _=t[++a];for(;"string"==typeof _;)_=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function Na(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function ff(e,t,r=!1){for(let s=0;s<t.length;s++)if(Bl(e,t[s],r))return!0;return!1}function vu(e,t){e:for(let r=0;r<t.length;r++){const s=t[r];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function nl(e,t){return e?":not("+t.trim()+")":t}function Kd(e){let t=e[0],r=1,s=2,a="",l=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&s){const _=e[++r];a+="["+f+(_.length>0?'="'+_+'"':"")+"]"}else 8&s?a+="."+f:4&s&&(a+=" "+f);else""!==a&&!$o(f)&&(t+=nl(l,a),a=""),s=f,l=l||!$o(s);r++}return""!==a&&(t+=nl(l,a)),t}function Ac(e){return Yi(()=>{const t=L(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ic.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||oa.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};Q(r);const s=e.dependencies;return r.directiveDefs=le(s,!1),r.pipeDefs=le(s,!0),r.id=function Ve(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function qd(e){return Zn(e)||y(e)}function rl(e){return null!==e}function Yu(e){return Yi(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ja(e,t){if(null==e)return Pr;const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];let l,f,_=Pa.None;Array.isArray(a)?(_=a[0],l=a[1],f=a[2]??l):(l=a,f=a),t?(r[l]=_!==Pa.None?[s,_]:s,t[l]=f):r[l]=s}return r}function eu(e){return Yi(()=>{const t=L(e);return Q(t),t})}function tu(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Zn(e){return e[sa]||null}function y(e){return e[gu]||null}function b(e){return e[Vo]||null}function E(e){const t=Zn(e)||y(e)||b(e);return null!==t&&t.standalone}function R(e,t){const r=e[Uo]||null;if(!r&&!0===t)throw new Error(`Type ${si(e)} does not have '\u0275mod' property.`);return r}function L(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Pr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ja(e.inputs,t),outputs:Ja(e.outputs),debugInfo:null}}function Q(e){e.features?.forEach(t=>t(e))}function le(e,t){if(!e)return null;const r=t?b:qd;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(rl)}function Pt(e){return{\u0275providers:e}}function wn(...e){return{\u0275providers:vn(0,e),\u0275fromNgModule:!0}}function vn(e,...t){const r=[],s=new Set;let a;const l=f=>{r.push(f)};return gi(t,f=>{const _=f;ys(_,l,[],s)&&(a||=[],a.push(_))}),void 0!==a&&ai(a,l),r}function ai(e,t){for(let r=0;r<e.length;r++){const{ngModule:s,providers:a}=e[r];_s(a,l=>{t(l,s)})}}function ys(e,t,r,s){if(!(e=bn(e)))return!1;let a=null,l=fa(e);const f=!l&&Zn(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const D=e.ngModule;if(l=fa(D),!l)return!1;a=D}const _=s.has(a);if(f){if(_)return!1;if(s.add(a),f.dependencies){const D="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const k of D)ys(k,t,r,s)}}else{if(!l)return!1;{if(null!=l.imports&&!_){let k;s.add(a);try{gi(l.imports,H=>{ys(H,t,r,s)&&(k||=[],k.push(H))})}finally{}void 0!==k&&ai(k,t)}if(!_){const k=wr(a)||(()=>new a);t({provide:a,useFactory:k,deps:yr},a),t({provide:mi,useValue:a,multi:!0},a),t({provide:to,useValue:()=>xn(a),multi:!0},a)}const D=l.providers;if(null!=D&&!_){const k=e;_s(D,H=>{t(H,k)})}}}return a!==e&&void 0!==e.providers}function _s(e,t){for(let r of e)Fo(r)&&(r=r.\u0275providers),Array.isArray(r)?_s(r,t):t(r)}const ro=Tr({provide:String,useValue:Tr});function Ho(e){return null!==e&&"object"==typeof e&&ro in e}function xa(e){return"function"==typeof e}const Hl=new ln(""),zl={},il={};let Wl;function Zu(){return void 0===Wl&&(Wl=new Gu),Wl}class zo{}class ka extends zo{get destroyed(){return this._destroyed}constructor(t,r,s,a){super(),this.parent=r,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cc(t,f=>this.processProvider(f)),this.records.set(Za,nu(void 0,this)),a.has("environment")&&this.records.set(zo,nu(void 0,this));const l=this.records.get(Hl);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(mi,yr,Fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=V(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=xt(this),s=Bt(void 0);try{return t()}finally{xt(r),Bt(s)}}get(t,r=Tn,s=Fe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ws))return t[Ws](this);s=br(s);const l=xt(this),f=Bt(void 0);try{if(!(s&Fe.SkipSelf)){let D=this.records.get(t);if(void 0===D){const k=function Eu(e){return"function"==typeof e||"object"==typeof e&&e instanceof ln}(t)&&Js(t);D=k&&this.injectableDefInScope(k)?nu(Dc(t),zl):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(s&Fe.Self?Zu():this.parent).get(t,r=s&Fe.Optional&&r===Tn?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[w]=_[w]||[]).unshift(si(t)),l)throw _;return function Zt(e,t,r,s){const a=e[w];throw t[de]&&a.unshift(t[de]),e.message=function an(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=si(t);if(Array.isArray(t))a=t.map(si).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let _=t[f];l.push(f+":"+("string"==typeof _?JSON.stringify(_):si(_)))}a=`{${l.join(", ")}}`}return`${r}${s?"("+s+")":""}[${a}]: ${e.replace(N,"\n  ")}`}("\n"+e.message,a,r,s),e.ngTokenPath=a,e[w]=null,e}(_,t,"R3InjectorError",this.source)}throw _}finally{Bt(f),xt(l)}}resolveInjectorInitializers(){const t=V(null),r=xt(this),s=Bt(void 0);try{const l=this.get(to,yr,Fe.Self);for(const f of l)f()}finally{xt(r),Bt(s),V(t)}}toString(){const t=[],r=this.records;for(const s of r.keys())t.push(si(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new St(205,!1)}processProvider(t){let r=xa(t=bn(t))?t:bn(t&&t.provide);const s=function sl(e){return Ho(e)?nu(void 0,e.useValue):nu(Kl(e),zl)}(t);if(!xa(t)&&!0===t.multi){let a=this.records.get(r);a||(a=nu(void 0,zl,!0),a.factory=()=>mr(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,r){const s=V(null);try{return r.value===zl&&(r.value=il,r.value=r.factory()),"object"==typeof r.value&&r.value&&function ql(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{V(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=bn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Dc(e){const t=Js(e),r=null!==t?t.factory:wr(e);if(null!==r)return r;if(e instanceof ln)throw new St(204,!1);if(e instanceof Function)return function Gl(e){if(e.length>0)throw new St(204,!1);const r=function as(e){return e&&(e[Ai]||e[zs])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new St(204,!1)}function Kl(e,t,r){let s;if(xa(e)){const a=bn(e);return wr(a)||Dc(a)}if(Ho(e))s=()=>bn(e.useValue);else if(function To(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...mr(e.deps||[]));else if(function Oa(e){return!(!e||!e.useExisting)}(e))s=()=>xn(bn(e.useExisting));else{const a=bn(e&&(e.useClass||e.provide));if(!function Xd(e){return!!e.deps}(e))return wr(a)||Dc(a);s=()=>new a(...mr(e.deps))}return s}function nu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Cc(e,t){for(const r of e)Array.isArray(r)?Cc(r,t):r&&Fo(r)?Cc(r.\u0275providers,t):t(r)}function Sc(e,t){e instanceof ka&&e.assertNotDestroyed();const s=xt(e),a=Bt(void 0);try{return t()}finally{xt(s),Bt(a)}}function Ql(){return void 0!==qt()||null!=function ft(){return Ge}()}function ol(e){if(!Ql())throw new St(-203,!1)}const yi=0,Vt=1,Cn=2,Gi=3,wo=4,vs=5,Rs=6,Ju=7,hi=8,Ki=9,Es=10,Ln=11,Pc=12,Xl=13,Mc=14,ri=15,ec=16,Nc=17,su=18,Tu=19,us=20,wu=21,Yl=22,aa=23,hn=25,ul=1,Wo=7,Oc=9,xi=10;var xc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(xc||{});function qi(e){return Array.isArray(e)&&"object"==typeof e[ul]}function es(e){return Array.isArray(e)&&!0===e[ul]}function kc(e){return!!(4&e.flags)}function ou(e){return e.componentOffset>-1}function nc(e){return!(1&~e.flags)}function Go(e){return!!e.template}function Lc(e){return!!(512&e[Cn])}class A{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function W(e,t,r,s){null!==t?t.applyValueToInputSignal(t,s):e[r]=s}function Z(){return xe}function xe(e){return e.type.prototype.ngOnChanges&&(e.setInput=At),st}function st(){const e=An(this),t=e?.current;if(t){const r=e.previous;if(r===Pr)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function At(e,t,r,s,a){const l=this.declaredInputs[s],f=An(e)||function cr(e,t){return e[rn]=t}(e,{previous:Pr,current:null}),_=f.current||(f.current={}),D=f.previous,k=D[l];_[l]=new A(k&&k.currentValue,r,D===Pr),W(e,t,a,r)}Z.ngInherit=!0;const rn="__ngSimpleChanges__";function An(e){return e[rn]||null}const Ko=function(e,t,r){},Ts="svg";function Mr(e){for(;Array.isArray(e);)e=e[yi];return e}function ya(e,t){return Mr(t[e])}function ws(e,t){return Mr(t[e.index])}function ic(e,t){return e.data[t]}function qo(e,t){const r=t[e];return qi(r)?r:r[yi]}function oh(e){return!(128&~e[Cn])}function ua(e,t){return null==t?null:e[t]}function dl(e){e[Nc]=0}function vf(e){1024&e[Cn]||(e[Cn]|=1024,oh(e)&&lh(e))}function sc(e){return!!(9216&e[Cn]||e[aa]?.dirty)}function ch(e){e[Es].changeDetectionScheduler?.notify(8),64&e[Cn]&&(e[Cn]|=1024),sc(e)&&lh(e)}function lh(e){e[Es].changeDetectionScheduler?.notify(0);let t=Ao(e);for(;null!==t&&!(8192&t[Cn])&&(t[Cn]|=8192,oh(t));)t=Ao(t)}function nd(e,t){if(!(256&~e[Cn]))throw new St(911,!1);null===e[wu]&&(e[wu]=[]),e[wu].push(t)}function Ao(e){const t=e[Gi];return es(t)?t[Gi]:t}const Qn={lFrame:Tg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let dy=!1;function If(){return Qn.bindingsEnabled}function Su(){return null!==Qn.skipHydrationRootTNode}function mt(){return Qn.lFrame.lView}function dr(){return Qn.lFrame.tView}function Eg(e){return Qn.lFrame.contextLView=e,e[hi]}function py(e){return Qn.lFrame.contextLView=null,e}function Yr(){let e=gy();for(;null!==e&&64===e.type;)e=e.parent;return e}function gy(){return Qn.lFrame.currentTNode}function au(e,t){const r=Qn.lFrame;r.currentTNode=e,r.isParent=t}function fh(){return Qn.lFrame.isParent}function Ig(){Qn.lFrame.isParent=!1}function Af(){return dy}function fl(e){dy=e}function ts(){const e=Qn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Do(){return Qn.lFrame.bindingIndex++}function bu(e){const t=Qn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function AE(e,t){const r=Qn.lFrame;r.bindingIndex=r.bindingRootIndex=e,ph(t)}function ph(e){Qn.lFrame.currentDirectiveIndex=e}function mh(){return Qn.lFrame.currentQueryIndex}function sd(e){Qn.lFrame.currentQueryIndex=e}function DE(e){const t=e[Vt];return 2===t.type?t.declTNode:1===t.type?e[vs]:null}function vy(e,t,r){if(r&Fe.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Fe.Host||(a=DE(l),null===a||(l=l[Mc],10&a.type))););if(null===a)return!1;t=a,e=l}const s=Qn.lFrame=Df();return s.currentTNode=t,s.lView=e,!0}function yh(e){const t=Df(),r=e[Vt];Qn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Df(){const e=Qn.lFrame,t=null===e?null:e.child;return null===t?Tg(e):t}function Tg(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Cf(){const e=Qn.lFrame;return Qn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ey=Cf;function Sf(){const e=Cf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gs(){return Qn.lFrame.selectedIndex}function Vc(e){Qn.lFrame.selectedIndex=e}function _i(){const e=Qn.lFrame;return ic(e.tView,e.selectedIndex)}function wg(){Qn.lFrame.currentNamespace=Ts}let bf=!0;function _h(){return bf}function Va(e){bf=e}function od(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:k,ngOnDestroy:H}=l;f&&(e.contentHooks??=[]).push(-r,f),_&&((e.contentHooks??=[]).push(r,_),(e.contentCheckHooks??=[]).push(r,_)),D&&(e.viewHooks??=[]).push(-r,D),k&&((e.viewHooks??=[]).push(r,k),(e.viewCheckHooks??=[]).push(r,k)),null!=H&&(e.destroyHooks??=[]).push(r,H)}}function ad(e,t,r){Rf(e,t,3,r)}function ud(e,t,r,s){(3&e[Cn])===r&&Rf(e,t,r,s)}function Ag(e,t){let r=e[Cn];(3&r)===t&&(r&=16383,r+=1,e[Cn]=r)}function Rf(e,t,r,s){const l=s??-1,f=t.length-1;let _=0;for(let D=void 0!==s?65535&e[Nc]:0;D<f;D++)if("number"==typeof t[D+1]){if(_=t[D],null!=s&&_>=s)break}else t[D]<0&&(e[Nc]+=65536),(_<l||-1==l)&&(Dg(e,r,t,D),e[Nc]=(4294901760&e[Nc])+D+2),D++}function wy(e,t){Ko(4,e,t);const r=V(null);try{t.call(e)}finally{V(r),Ko(5,e,t)}}function Dg(e,t,r,s){const a=r[s]<0,l=r[s+1],_=e[a?-r[s]:r[s]];a?e[Cn]>>14<e[Nc]>>16&&(3&e[Cn])===t&&(e[Cn]+=16384,wy(_,l)):wy(_,l)}const cd=-1;class gl{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}const Eh={};class ml{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=br(s);const a=this.injector.get(t,Eh,s);return a!==Eh||r===Eh?a:this.parentInjector.get(t,r,s)}}function Ih(e){return e!==cd}function yl(e){return 32767&e}function Ru(e,t){let r=function bg(e){return e>>16}(e),s=t;for(;r>0;)s=s[Mc],r--;return s}let Th=!0;function Pf(e){const t=Th;return Th=e,t}const Pu=255,Mf=5;let NE=0;const Ua={};function Nf(e,t){const r=by(e,t);if(-1!==r)return r;const s=t[Vt];s.firstCreatePass&&(e.injectorIndex=t.length,wh(s.data,e),wh(t,null),wh(s.blueprint,null));const a=ld(e,t),l=e.injectorIndex;if(Ih(a)){const f=yl(a),_=Ru(a,t),D=_[Vt].data;for(let k=0;k<8;k++)t[l+k]=_[f+k]|D[f+k]}return t[l+8]=a,l}function wh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function by(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ld(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,a=t;for(;null!==a;){if(s=vl(a),null===s)return cd;if(r++,a=a[Mc],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return cd}function Rg(e,t,r){!function OE(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Bo)&&(s=r[Bo]),null==s&&(s=r[Bo]=NE++);const a=s&Pu;t.data[e+(a>>Mf)]|=1<<a}(e,t,r)}function Ry(e,t,r){if(r&Fe.Optional||void 0!==e)return e;De()}function Of(e,t,r,s){if(r&Fe.Optional&&void 0===s&&(s=null),!(r&(Fe.Self|Fe.Host))){const a=e[Ki],l=Bt(void 0);try{return a?a.get(t,s,r&Fe.Optional):Hn(t,s,r&Fe.Optional)}finally{Bt(l)}}return Ry(s,0,r)}function Mg(e,t,r,s=Fe.Default,a){if(null!==e){if(2048&t[Cn]&&!(s&Fe.Self)){const f=function Oy(e,t,r,s,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[Cn]&&!(512&f[Cn]);){const _=xf(l,f,r,s|Fe.Self,Ua);if(_!==Ua)return _;let D=l.parent;if(!D){const k=f[us];if(k){const H=k.get(r,Ua,s);if(H!==Ua)return H}D=vl(f),f=f[Mc]}l=D}return a}(e,t,r,s,Ua);if(f!==Ua)return f}const l=xf(e,t,r,s,Ua);if(l!==Ua)return l}return Of(t,r,s,a)}function xf(e,t,r,s,a){const l=function Ng(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Bo)?e[Bo]:void 0;return"number"==typeof t?t>=0?t&Pu:dd:t}(r);if("function"==typeof l){if(!vy(t,e,s))return s&Fe.Host?Ry(a,0,s):Of(t,r,s,a);try{let f;if(f=l(s),null!=f||s&Fe.Optional)return f;De()}finally{Ey()}}else if("number"==typeof l){let f=null,_=by(e,t),D=cd,k=s&Fe.Host?t[ri][vs]:null;for((-1===_||s&Fe.SkipSelf)&&(D=-1===_?ld(e,t):t[_+8],D!==cd&&Lf(s,!1)?(f=t[Vt],_=yl(D),t=Ru(D,t)):_=-1);-1!==_;){const H=t[Vt];if(My(l,_,H.data)){const re=Py(_,t,r,f,s,k);if(re!==Ua)return re}D=t[_+8],D!==cd&&Lf(s,t[Vt].data[_+8]===k)&&My(l,_,t)?(f=H,_=yl(D),t=Ru(D,t)):_=-1}}return a}function Py(e,t,r,s,a,l){const f=t[Vt],_=f.data[e+8],H=kf(_,f,r,null==s?ou(_)&&Th:s!=f&&!!(3&_.type),a&Fe.Host&&l===_);return null!==H?_l(t,f,H,_):Ua}function kf(e,t,r,s,a){const l=e.providerIndexes,f=t.data,_=1048575&l,D=e.directiveStart,H=l>>20,ye=a?_+H:e.directiveEnd;for(let Ne=s?_:_+H;Ne<ye;Ne++){const We=f[Ne];if(Ne<D&&r===We||Ne>=D&&We.type===r)return Ne}if(a){const Ne=f[D];if(Ne&&Go(Ne)&&Ne.type===r)return D}return null}function _l(e,t,r,s){let a=e[r];const l=t.data;if(function Ay(e){return e instanceof gl}(a)){const f=a;f.resolving&&function $(e,t){throw t&&t.join(" > "),new St(-200,e)}(function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():U(e)}(l[r]));const _=Pf(f.canSeeViewProviders);f.resolving=!0;const k=f.injectImpl?Bt(f.injectImpl):null;vy(e,s,Fe.Default);try{a=e[r]=f.factory(void 0,l,e,s),t.firstCreatePass&&r>=s.directiveStart&&function Ty(e,t,r){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(s){const f=xe(t);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,l[r],t)}finally{null!==k&&Bt(k),Pf(_),f.resolving=!1,Ey()}}return a}function My(e,t,r){return!!(r[t+(e>>Mf)]&1<<e)}function Lf(e,t){return!(e&Fe.Self||e&Fe.Host&&t)}class Ps{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return Mg(this._tNode,this._lView,t,br(s),r)}}function dd(){return new Ps(Yr(),mt())}function Ny(e){return Yi(()=>{const t=e.prototype.constructor,r=t[Di]||Ah(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const l=a[Di]||Ah(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Ah(e){return Aa(e)?()=>{const t=Ah(bn(e));return t&&t()}:wr(e)}function vl(e){const t=e[Vt],r=t.type;return 2===r?t.declTNode:1===r?e[vs]:null}function Dh(e){return function Pg(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let a=0;for(;a<s;){const l=r[a];if(Ma(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<s&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}(Yr(),e)}function Fg(e,t=null,r=null,s){const a=El(e,t,r,s);return a.resolveInjectorInitializers(),a}function El(e,t=null,r=null,s,a=new Set){const l=[r||yr,wn(e)];return s=s||("object"==typeof e?void 0:si(e)),new ka(l,t||Zu(),s||null,a)}class Ks{static{this.THROW_IF_NOT_FOUND=Tn}static{this.NULL=new Gu}static create(t,r){if(Array.isArray(t))return Fg({name:""},r,t,"");{const s=t.name??"";return Fg({name:s},t.parent,t.providers,s)}}static{this.\u0275prov=sr({token:Ks,providedIn:"any",factory:()=>xn(Za)})}static{this.__NG_ELEMENT_ID__=-1}}new ln("").__NG_ELEMENT_ID__=e=>{const t=Yr();if(null===t)throw new St(204,!1);if(2&t.type)return t.value;if(e&Fe.Optional)return null;throw new St(204,!1)};function Vg(e){return e.ngOriginalError}const By=!0;let hd=(()=>{class e{static{this.__NG_ELEMENT_ID__=jy}static{this.__NG_ENV_ID__=r=>r}}return e})();class xE extends hd{constructor(t){super(),this._lView=t}onDestroy(t){return nd(this._lView,t),()=>function dh(e,t){if(null===e[wu])return;const r=e[wu].indexOf(t);-1!==r&&e[wu].splice(r,1)}(this._lView,t)}}function jy(){return new xE(mt())}let Il=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=sr({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Mu=class kE extends Er.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Ql()&&(this.destroyRef=ht(hd,{optional:!0})??void 0,this.pendingTasks=ht(Il,{optional:!0})??void 0)}emit(t){const r=V(null);try{super.next(t)}finally{V(r)}}subscribe(t,r,s){let a=t,l=r||(()=>null),f=s;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),l=D.error?.bind(D),f=D.complete?.bind(D)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));const _=super.subscribe({next:a,error:l,complete:f});return t instanceof Gr.yU&&t.add(_),_}wrapInTimeout(t){return r=>{const s=this.pendingTasks?.add();setTimeout(()=>{t(r),void 0!==s&&this.pendingTasks?.remove(s)})}}};function zf(...e){}function $y(e){let t,r;function s(){e=zf;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),s()})),()=>s()}function Hy(e){return queueMicrotask(()=>e()),()=>{e=zf}}const Wf="isAngularZone",fd=Wf+"_ID";let FE=0;class ki{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=By}=t;if(typeof Zone>"u")throw new St(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&s,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=l,function Wy(e){const t=()=>{!function Ar(e){function t(){$y(()=>{e.callbackScheduled=!1,Gf(e),e.isCheckStableRunning=!0,pd(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Gf(e))}(e)},r=FE++;e._inner=e._inner.fork({name:"angular",properties:{[Wf]:!0,[fd]:r,[fd+r]:!0},onInvokeTask:(s,a,l,f,_,D)=>{if(function cs(e){return Ky(e,"__ignore_ng_zone__")}(D))return s.invokeTask(l,f,_,D);try{return gd(e),s.invokeTask(l,f,_,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),Gy(e)}},onInvoke:(s,a,l,f,_,D,k)=>{try{return gd(e),s.invoke(l,f,_,D,k)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Nu(e){return Ky(e,"__scheduler_tick__")}(D)&&t(),Gy(e)}},onHasTask:(s,a,l,f)=>{s.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Gf(e),pd(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,l,f)=>(s.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Wf)}static assertInAngularZone(){if(!ki.isInAngularZone())throw new St(909,!1)}static assertNotInAngularZone(){if(ki.isInAngularZone())throw new St(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,zy,zf,zf);try{return l.runTask(f,r,s)}finally{l.cancelTask(f)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const zy={};function pd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Gf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function gd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gy(e){e._nesting--,pd(e)}class Ms{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,a){return t.apply(r,s)}}function Ky(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Ou{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Vg(t);for(;r&&Vg(r);)r=Vg(r);return r||null}}const Ew=new ln("",{providedIn:"root",factory:()=>{const e=ht(ki),t=ht(Ou);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function ww(){return md(Yr(),mt())}function md(e,t){return new Ei(ws(e,t))}let Ei=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=ww}}return e})();function Bg(e){return e instanceof Ei?e.nativeElement:e}function Aw(){return this._results[Symbol.iterator]()}class Qy{get changes(){return this._changes??=new Mu}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Qy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Aw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const s=function Ui(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function jo(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],l=t[s];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kf(e){return!(128&~e.flags)}const Yy=new Map;let Zy=0;function ac(e){Yy.delete(e[Tu])}const Qf="__ngContext__";function io(e,t){qi(t)?(e[Qf]=t[Tu],function BE(e){Yy.set(e[Tu],e)}(t)):e[Qf]=t}function $c(e){return Gg(e[Pc])}function Wg(e){return Gg(e[wo])}function Gg(e){for(;null!==e&&!es(e);)e=e[wo];return e}let s_;function qg(e){s_=e}function Tl(){if(void 0!==s_)return s_;if(typeof document<"u")return document;throw new St(210,!1)}const wl=new ln("",{providedIn:"root",factory:()=>Rw}),Rw="ng",WE=new ln(""),Al=new ln("",{providedIn:"platform",factory:()=>"unknown"}),Pw=new ln(""),ep=new ln("",{providedIn:"root",factory:()=>Tl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lc=()=>null;function Xg(e,t,r=!1){return lc(e,t,r)}const g_=new ln("",{providedIn:"root",factory:()=>!1});let dp,Jg;function Vh(e){return function m_(){if(void 0===dp&&(dp=null,di.trustedTypes))try{dp=di.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dp}()?.createHTML(e)||e}function y_(){if(void 0===Jg&&(Jg=null,di.trustedTypes))try{Jg=di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Jg}function tI(e){return y_()?.createHTML(e)||e}function em(e){return y_()?.createScriptURL(e)||e}class __{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ho})`}}function hc(e){return e instanceof __?e.changingThisBreaksApplicationSecurity:e}function hp(e,t){const r=function zw(e){return e instanceof __&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${ho})`)}return r===t}class nm{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Vh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class iI{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Vh(t),r}}const sI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function I_(e){return(e=String(e)).match(sI)?e:"unsafe:"+e}function Lu(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Dd(...e){const t={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(t[s]=!0);return t}const T_=Lu("area,br,col,hr,img,wbr"),fp=Lu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w_=Lu("rp,rt"),im=Dd(T_,Dd(fp,Lu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dd(w_,Lu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dd(w_,fp)),pp=Lu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aI=Dd(pp,Lu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uI=Lu("script,style,template");class cI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,s=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)a.push(r),r=D_(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=gp(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=C_(t).toLowerCase();if(!im.hasOwnProperty(r))return this.sanitizedSomething=!0,!uI.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=t.attributes;for(let a=0;a<s.length;a++){const l=s.item(a),f=l.name,_=f.toLowerCase();if(!aI.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let D=l.value;pp[_]&&(D=I_(D)),this.buf.push(" ",f,'="',S_(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=C_(t).toLowerCase();im.hasOwnProperty(r)&&!T_.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(S_(t))}}function gp(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw lI(t);return t}function D_(e){const t=e.firstChild;if(t&&function qw(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw lI(t);return t}function C_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function lI(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const sm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dI=/([^\#-~ |!])/g;function S_(e){return e.replace(/&/g,"&amp;").replace(sm,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mp;function b_(e){return"content"in e&&function fI(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Bh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Bh||{});function pI(e){const t=yp();return t?tI(t.sanitize(Bh.HTML,e)||""):hp(e,"HTML")?tI(hc(e)):function hI(e,t){let r=null;try{mp=mp||function Uh(e){const t=new iI(e);return function rm(){try{return!!(new window.DOMParser).parseFromString(Vh(""),"text/html")}catch{return!1}}()?new nm(t):t}(e);let s=t?String(t):"";r=mp.getInertBodyElement(s);let a=5,l=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=l,l=r.innerHTML,r=mp.getInertBodyElement(s)}while(s!==l);return Vh((new cI).sanitizeChildren(b_(r)||r))}finally{if(r){const s=b_(r)||r;for(;s.firstChild;)s.firstChild.remove()}}}(Tl(),U(e))}function R_(e){const t=yp();return t?t.sanitize(Bh.URL,e)||"":hp(e,"URL")?hc(e):I_(U(e))}function P_(e){const t=yp();if(t)return em(t.sanitize(Bh.RESOURCE_URL,e)||"");if(hp(e,"ResourceURL"))return em(hc(e));throw new St(904,!1)}function gI(e,t,r){return function Jw(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?P_:R_}(t,r)(e)}function yp(){const e=mt();return e&&e[Es].sanitizer}const e0=/^>|^->|<!--|-->|--!>|<!-$/g,t0=/(<|>)/g,n0="\u200b$1\u200b";function II(e){return e.ownerDocument}function Ba(e){return e instanceof Function?e():e}var um=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(um||{});let x_;function k_(e,t){return x_(e,t)}function jh(e,t,r,s,a){if(null!=s){let l,f=!1;es(s)?l=s:qi(s)&&(f=!0,s=s[yi]);const _=Mr(s);0===e&&null!==r?null==a?PI(t,r,_):Cl(t,r,_,a||null,!0):1===e&&null!==r?Cl(t,r,_,a||null,!0):2===e?function q(e,t,r){e.removeChild(null,t,r)}(t,_,f):3===e&&t.destroyNode(_),null!=l&&function Ct(e,t,r,s,a){const l=r[Wo];l!==Mr(r)&&jh(t,e,s,l,a);for(let _=xi;_<r.length;_++){const D=r[_];Ye(D[Vt],D,e,t,s,l)}}(t,e,l,r,a)}}function F_(e,t){return e.createComment(function mI(e){return e.replace(e0,t=>t.replace(t0,n0))}(t))}function cm(e,t,r){return e.createElement(t,r)}function SI(e,t){t[Es].changeDetectionScheduler?.notify(9),Ye(e,t,t[Ln],2,null,null)}function bI(e,t){const r=e[Oc],s=t[Gi];(qi(s)||t[ri]!==s[Gi][ri])&&(e[Cn]|=xc.HasTransplantedViews),null===r?e[Oc]=[t]:r.push(t)}function lm(e,t){const r=e[Oc],s=r.indexOf(t);r.splice(s,1)}function _p(e,t){if(e.length<=xi)return;const r=xi+t,s=e[r];if(s){const a=s[ec];null!==a&&a!==e&&lm(a,s),t>0&&(e[r-1][wo]=s[wo]);const l=zi(e,xi+t);!function g0(e,t){SI(e,t),t[yi]=null,t[vs]=null}(s[Vt],s);const f=l[su];null!==f&&f.detachView(l[Vt]),s[Gi]=null,s[wo]=null,s[Cn]&=-129}return s}function dm(e,t){if(!(256&t[Cn])){const r=t[Ln];r.destroyNode&&Ye(e,t,r,3,null,null),function m0(e){let t=e[Pc];if(!t)return V_(e[Vt],e);for(;t;){let r=null;if(qi(t))r=t[Pc];else{const s=t[xi];s&&(r=s)}if(!r){for(;t&&!t[wo]&&t!==e;)qi(t)&&V_(t[Vt],t),t=t[Gi];null===t&&(t=e),qi(t)&&V_(t[Vt],t),r=t&&t[wo]}t=r}}(t)}}function V_(e,t){if(256&t[Cn])return;const r=V(null);try{t[Cn]&=-129,t[Cn]|=256,t[aa]&&gn(t[aa]),function v0(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const a=t[r[s]];if(!(a instanceof gl)){const l=r[s+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const _=a[l[f]],D=l[f+1];Ko(4,_,D);try{D.call(_)}finally{Ko(5,_,D)}}else{Ko(4,a,l);try{l.call(a)}finally{Ko(5,a,l)}}}}}(e,t),function _0(e,t){const r=e.cleanup,s=t[Ju];if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const f=r[l+3];f>=0?s[f]():s[-f].unsubscribe(),l+=2}else r[l].call(s[r[l+1]]);null!==s&&(t[Ju]=null);const a=t[wu];if(null!==a){t[wu]=null;for(let l=0;l<a.length;l++)(0,a[l])()}}(e,t),1===t[Vt].type&&t[Ln].destroy();const s=t[ec];if(null!==s&&es(t[Gi])){s!==t[Gi]&&lm(s,t);const a=t[su];null!==a&&a.detachView(e)}ac(t)}finally{V(r)}}function U_(e,t,r){return function RI(e,t,r){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return r[yi];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:l}=e.data[s.directiveStart+a];if(l===oa.None||l===oa.Emulated)return null}return ws(s,r)}}(e,t.parent,r)}function Cl(e,t,r,s,a){e.insertBefore(t,r,s,a)}function PI(e,t,r){e.appendChild(t,r)}function B_(e,t,r,s,a){null!==s?Cl(e,t,r,s,a):PI(e,t,r)}function j_(e,t){return e.parentNode(t)}function n(e,t,r){return o(e,t,r)}let c,o=function i(e,t,r){return 40&e.type?ws(e,r):null};function m(e,t,r,s){const a=U_(e,s,t),l=t[Ln],_=n(s.parent||t[vs],s,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)B_(l,a,r[D],_,!1);else B_(l,a,r,_,!1);void 0!==c&&c(l,s,t,r,a)}function C(e,t){if(null!==t){const r=t.type;if(3&r)return ws(t,e);if(4&r)return j(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return C(e,s);{const a=e[t.index];return es(a)?j(-1,a):Mr(a)}}if(128&r)return C(e,t.next);if(32&r)return k_(t,e)()||Mr(e[t.index]);{const s=M(e,t);return null!==s?Array.isArray(s)?s[0]:C(Ao(e[ri]),s):C(e,t.next)}}return null}function M(e,t){return null!==t?e[ri][vs].projection[t.projection]:null}function j(e,t){const r=xi+e+1;if(r<t.length){const s=t[r],a=s[Vt].firstChild;if(null!==a)return C(s,a)}return t[Wo]}function Pe(e,t,r,s,a,l,f){for(;null!=r;){if(128===r.type){r=r.next;continue}const _=s[r.index],D=r.type;if(f&&0===t&&(_&&io(Mr(_),s),r.flags|=2),32&~r.flags)if(8&D)Pe(e,t,r.child,s,a,l,!1),jh(t,e,a,_,l);else if(32&D){const k=k_(r,s);let H;for(;H=k();)jh(t,e,a,H,l);jh(t,e,a,_,l)}else 16&D?Nt(e,t,s,r,a,l):jh(t,e,a,_,l);r=f?r.projectionNext:r.next}}function Ye(e,t,r,s,a,l){Pe(r,s,e.firstChild,t,a,l,!1)}function Nt(e,t,r,s,a,l){const f=r[ri],D=f[vs].projection[s.projection];if(Array.isArray(D))for(let k=0;k<D.length;k++)jh(t,e,a,D[k],l);else{let k=D;const H=f[Gi];Kf(s)&&(k.flags|=128),Pe(e,t,k,H,a,l,!0)}}function En(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function er(e,t,r){const{mergedAttrs:s,classes:a,styles:l}=r;null!==s&&_u(e,t,s),null!==a&&En(e,t,a),null!==l&&function On(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}const en={};function hr(e=1){$e(dr(),mt(),Gs()+e,!1)}function $e(e,t,r,s){if(!s)if(3&~t[Cn]){const l=e.preOrderHooks;null!==l&&ud(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&ad(t,l,r)}Vc(r)}function Ie(e,t=Fe.Default){const r=mt();return null===r?xn(e,t):Mg(Yr(),r,bn(e),t)}function ke(){throw new Error("invalid")}function ze(e,t,r,s,a,l){const f=V(null);try{let _=null;a&Pa.SignalBased&&(_=t[s][F]),null!==_&&void 0!==_.transformFn&&(l=_.transformFn(l)),a&Pa.HasDecoratorInputTransform&&(l=e.inputTransforms[s].call(t,l)),null!==e.setInput?e.setInput(t,_,l,r,s):W(t,_,s,l)}finally{V(f)}}function nt(e,t,r,s,a,l,f,_,D,k,H){const re=t.blueprint.slice();return re[yi]=a,re[Cn]=204|s,(null!==k||e&&2048&e[Cn])&&(re[Cn]|=2048),dl(re),re[Gi]=re[Mc]=e,re[hi]=r,re[Es]=f||e&&e[Es],re[Ln]=_||e&&e[Ln],re[Ki]=D||e&&e[Ki]||null,re[vs]=l,re[Tu]=function Sh(){return Zy++}(),re[Rs]=H,re[us]=k,re[ri]=2==t.type?e[ri]:re,re}function Oe(e,t,r,s,a){let l=e.data[t];if(null===l)l=function cu(e,t,r,s,a){const l=gy(),f=fh(),D=e.data[t]=function xI(e,t,r,s,a,l){let f=t?t.injectorIndex:-1,_=0;return Su()&&(_|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,t,s,a);return null===e.firstChild&&(e.firstChild=D),null!==l&&(f?null==l.child&&null!==D.parent&&(l.child=D):null===l.next&&(l.next=D,D.prev=l)),D}(e,t,r,s,a),function id(){return Qn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=s,l.attrs=a;const f=function hl(){const e=Qn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return au(l,!0),l}function fc(e,t,r,s){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function $_(e,t,r,s,a){const l=Gs(),f=2&s;try{Vc(-1),f&&t.length>hn&&$e(e,t,hn,!1),Ko(f?2:0,a),r(s,a)}finally{Vc(l),Ko(f?3:1,a)}}function Sl(e,t,r){if(kc(t)){const s=V(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const _=e.data[f];_.contentQueries&&_.contentQueries(1,r[f],f)}}finally{V(s)}}}function bl(e,t,r){If()&&(function W_(e,t,r,s){const a=r.directiveStart,l=r.directiveEnd;ou(r)&&function q_(e,t,r){const s=ws(t,e),a=hm(r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const _=Ip(e,nt(e,a,null,f,s,t,null,e[Es].rendererFactory.createRenderer(s,r),null,null,null));e[t.index]=_}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||Nf(r,t),io(s,t);const f=r.initialInputs;for(let _=a;_<l;_++){const D=e.data[_],k=_l(t,e,_,r);io(k,t),null!==f&&Q_(0,_-a,k,D,0,f),Go(D)&&(qo(r.index,t)[hi]=_l(t,e,_,r))}}(e,t,r,ws(r,t)),!(64&~r.flags)&&G_(e,t,r))}function $h(e,t,r=ws){const s=t.localNames;if(null!==s){let a=t.index+1;for(let l=0;l<s.length;l+=2){const f=s[l+1],_=-1===f?r(t,e):e[f];e[a++]=_}}}function hm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=fm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function fm(e,t,r,s,a,l,f,_,D,k,H){const re=hn+s,ye=re+a,Ne=function Hc(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:en);return r}(re,ye),We="function"==typeof k?k():k;return Ne[Vt]={type:e,blueprint:Ne,template:r,queries:null,viewQuery:_,declTNode:t,data:Ne.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:We,incompleteFirstPass:!1,ssrId:H}}let Sd=()=>null;function zh(e,t,r,s,a){for(let l in t){if(!t.hasOwnProperty(l))continue;const f=t[l];if(void 0===f)continue;s??={};let _,D=Pa.None;Array.isArray(f)?(_=f[0],D=f[1]):_=f;let k=l;if(null!==a){if(!a.hasOwnProperty(l))continue;k=a[l]}0===e?Wh(s,r,k,_,D):Wh(s,r,k,_)}return s}function Wh(e,t,r,s,a){let l;e.hasOwnProperty(r)?(l=e[r]).push(t,s):l=e[r]=[t,s],void 0!==a&&l.push(a)}function So(e,t,r,s,a,l,f,_){const D=ws(t,r);let H,k=t.inputs;!_&&null!=k&&(H=k[s])?(pc(e,r,H,s,a),ou(t)&&function mm(e,t){const r=qo(t,e);16&r[Cn]||(r[Cn]|=64)}(r,t.index)):3&t.type&&(s=function gm(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=f?f(a,t.value||"",s):a,l.setProperty(D,s,a))}function ym(e,t,r,s){if(If()){const a=null===s?null:{"":-1},l=function Im(e,t){const r=e.directiveRegistry;let s=null,a=null;if(r)for(let l=0;l<r.length;l++){const f=r[l];if(ff(t,f.selectors,!1))if(s||(s=[]),Go(f))if(null!==f.findHostDirectiveDefs){const _=[];a=a||new Map,f.findHostDirectiveDefs(f,_,a),s.unshift(..._,f),Gh(e,t,_.length)}else s.unshift(f),Gh(e,t,0);else a=a||new Map,f.findHostDirectiveDefs?.(f,s,a),s.push(f)}return null===s?null:[s,a]}(e,r);let f,_;null===l?f=_=null:[f,_]=l,null!==f&&_m(e,t,r,f,a,_),a&&function bo(e,t,r){if(t){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new St(-301,!1);s.push(t[a],l)}}}(r,s,a)}r.mergedAttrs=ga(r.mergedAttrs,r.attrs)}function _m(e,t,r,s,a,l){for(let k=0;k<s.length;k++)Rg(Nf(r,t),e,s[k].type);!function vp(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,s.length);for(let k=0;k<s.length;k++){const H=s[k];H.providersResolver&&H.providersResolver(H)}let f=!1,_=!1,D=fc(e,t,s.length,null);for(let k=0;k<s.length;k++){const H=s[k];r.mergedAttrs=ga(r.mergedAttrs,H.hostAttrs),K_(e,r,t,D,H),Qo(D,H,a),null!==H.contentQueries&&(r.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(r.flags|=64);const re=H.type.prototype;!f&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),f=!0),!_&&(re.ngOnChanges||re.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),_=!0),D++}!function pm(e,t,r){const a=t.directiveEnd,l=e.data,f=t.attrs,_=[];let D=null,k=null;for(let H=t.directiveStart;H<a;H++){const re=l[H],ye=r?r.get(re):null,We=ye?ye.outputs:null;D=zh(0,re.inputs,H,D,ye?ye.inputs:null),k=zh(1,re.outputs,H,k,We);const vt=null===D||null===f||Qu(t)?null:X_(D,H,f);_.push(vt)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=_,t.inputs=D,t.outputs=k}(e,r,l)}function G_(e,t,r){const s=r.directiveStart,a=r.directiveEnd,l=r.index,f=function _y(){return Qn.lFrame.currentDirectiveIndex}();try{Vc(l);for(let _=s;_<a;_++){const D=e.data[_],k=t[_];ph(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Em(D,k)}}finally{Vc(-1),ph(f)}}function Em(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gh(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function Qo(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;Go(t)&&(r[""]=e)}}function K_(e,t,r,s,a){e.data[s]=a;const l=a.factory||(a.factory=wr(a.type)),f=new gl(l,Go(a),Ie);e.blueprint[s]=f,r[s]=f,function z_(e,t,r,s,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const _=~t.index;(function vm(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(f)!=_&&f.push(_),f.push(r,s,l)}}(e,t,s,fc(e,r,a.hostVars,en),a)}function Fu(e,t,r,s,a,l){const f=ws(e,t);!function Rl(e,t,r,s,a,l,f){if(null==l)e.removeAttribute(t,a,r);else{const _=null==f?U(l):f(l,s||"",a);e.setAttribute(t,a,_,r)}}(t[Ln],f,l,e.value,r,s,a)}function Q_(e,t,r,s,a,l){const f=l[t];if(null!==f)for(let _=0;_<f.length;)ze(s,r,f[_++],f[_++],f[_++],f[_++])}function X_(e,t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===s&&(s=[]);const f=e[l];for(let _=0;_<f.length;_+=3)if(f[_]===t){s.push(l,f[_+1],f[_+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function Ep(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function Y_(e,t){const r=e.contentQueries;if(null!==r){const s=V(null);try{for(let a=0;a<r.length;a+=2){const f=r[a+1];if(-1!==f){const _=e.data[f];sd(r[a]),_.contentQueries(2,t[f],f)}}}finally{V(s)}}}function Ip(e,t){return e[Pc]?e[Xl][wo]=t:e[Pc]=t,e[Xl]=t,t}function Kh(e,t,r){sd(0);const s=V(null);try{t(e,r)}finally{V(s)}}function Tm(e){return e[Ju]??=[]}function bd(e){return e.cleanup??=[]}function Rd(e,t){const r=e[Ki],s=r?r.get(Ou,null):null;s&&s.handleError(t)}function pc(e,t,r,s,a){for(let l=0;l<r.length;){const f=r[l++],_=r[l++],D=r[l++];ze(e.data[f],t[f],s,_,D,a)}}function Vu(e,t,r){const s=ya(t,e);!function DI(e,t,r){e.setValue(t,r)}(e[Ln],s,r)}function wp(e,t){const r=qo(t,e),s=r[Vt];!function Z_(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(s,r);const a=r[yi];null!==a&&null===r[Rs]&&(r[Rs]=Xg(a,r[Ki])),Pl(s,r,r[hi])}function Pl(e,t,r){yh(t);try{const s=e.viewQuery;null!==s&&Kh(1,s,r);const a=e.template;null!==a&&$_(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[su]?.finishViewCreation(e),e.staticContentQueries&&Y_(e,t),e.staticViewQueries&&Kh(2,e.viewQuery,r);const l=e.components;null!==l&&function J_(e,t){for(let r=0;r<t.length;r++)wp(e,t[r])}(t,l)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[Cn]&=-5,Sf()}}function As(e,t,r,s){const a=V(null);try{const l=t.tView,D=nt(e,l,r,4096&e[Cn]?4096:16,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);D[ec]=e[t.index];const H=e[su];return null!==H&&(D[su]=H.createEmbeddedView(l)),Pl(l,D,r),D}finally{V(a)}}function lu(e,t){return!t||null===t.firstChild||Kf(e)}function Uu(e,t,r,s=!0){const a=t[Vt];if(function y0(e,t,r,s){const a=xi+s,l=r.length;s>0&&(r[a-1][wo]=t),s<l-xi?(t[wo]=r[a],eo(r,xi+s,t)):(r.push(t),t[wo]=null),t[Gi]=r;const f=t[ec];null!==f&&r!==f&&bI(f,t);const _=t[su];null!==_&&_.insertView(e),ch(t),t[Cn]|=128}(a,t,e,r),s){const f=j(r,e),_=t[Ln],D=j_(_,e[Wo]);null!==D&&function CI(e,t,r,s,a,l){s[yi]=a,s[vs]=t,Ye(e,s,r,1,a,l)}(a,e[vs],_,t,D,f)}const l=t[Rs];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function qh(e,t,r,s,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&s.push(Mr(l)),es(l)&&Ml(l,s);const f=r.type;if(8&f)qh(e,t,r.child,s);else if(32&f){const _=k_(r,t);let D;for(;D=_();)s.push(D)}else if(16&f){const _=M(t,r);if(Array.isArray(_))s.push(..._);else{const D=Ao(t[ri]);qh(D[Vt],D,_,s,!0)}}r=a?r.projectionNext:r.next}return s}function Ml(e,t){for(let r=xi;r<e.length;r++){const s=e[r],a=s[Vt].firstChild;null!==a&&qh(s[Vt],s,a,t)}e[Wo]!==e[yi]&&t.push(e[Wo])}let ev=[];const Dm={...Y,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{lh(e.lView)},consumerOnSignalRead(){this.lView[aa]=this}},zc={...Y,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ao(e.lView);for(;t&&!Cm(t[Vt]);)t=Ao(t);t&&vf(t)},consumerOnSignalRead(){this.lView[aa]=this}};function Cm(e){return 2!==e.type}const nv=100;function Pd(e,t=!0,r=0){const s=e[Es],a=s.rendererFactory;a.begin?.();try{!function Sm(e,t){const r=Af();try{fl(!0),Nl(e,t);let s=0;for(;sc(e);){if(s===nv)throw new St(103,!1);s++,Nl(e,1)}}finally{fl(r)}}(e,r)}catch(f){throw t&&Rd(e,f),f}finally{a.end?.(),s.inlineEffectRunner?.flush()}}function rv(e,t,r,s){const a=t[Cn];if(!(256&~a))return;t[Es].inlineEffectRunner?.flush(),yh(t);let _=!0,D=null,k=null;Cm(e)?(k=function FI(e){return e[aa]??function Ap(e){const t=ev.pop()??Object.create(Dm);return t.lView=e,t}(e)}(t),D=Wt(k)):null===function K(){return P}()?(_=!1,k=function Dp(e){const t=e[aa]??Object.create(zc);return t.lView=e,t}(t),D=Wt(k)):t[aa]&&(gn(t[aa]),t[aa]=null);try{dl(t),function pl(e){return Qn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&$_(e,t,r,2,s);const H=!(3&~a);if(H){const Ne=e.preOrderCheckHooks;null!==Ne&&ad(t,Ne,null)}else{const Ne=e.preOrderHooks;null!==Ne&&ud(t,Ne,0,null),Ag(t,0)}if(function Cp(e){for(let t=$c(e);null!==t;t=Wg(t)){if(!(t[Cn]&xc.HasTransplantedViews))continue;const r=t[Oc];for(let s=0;s<r.length;s++)vf(r[s])}}(t),iv(t,0),null!==e.contentQueries&&Y_(e,t),H){const Ne=e.contentCheckHooks;null!==Ne&&ad(t,Ne)}else{const Ne=e.contentHooks;null!==Ne&&ud(t,Ne,1),Ag(t,1)}!function qe(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)Vc(~a);else{const l=a,f=r[++s],_=r[++s];AE(f,l),_(2,t[l])}}}finally{Vc(-1)}}(e,t);const re=e.components;null!==re&&Wc(t,re,0);const ye=e.viewQuery;if(null!==ye&&Kh(2,ye,s),H){const Ne=e.viewCheckHooks;null!==Ne&&ad(t,Ne)}else{const Ne=e.viewHooks;null!==Ne&&ud(t,Ne,2),Ag(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Yl]){for(const Ne of t[Yl])Ne();t[Yl]=null}t[Cn]&=-73}catch(H){throw lh(t),H}finally{null!==k&&(zt(k,D),_&&function tv(e){e.lView[aa]!==e&&(e.lView=null,ev.push(e))}(k)),Sf()}}function iv(e,t){for(let r=$c(e);null!==r;r=Wg(r))for(let s=xi;s<r.length;s++)Sp(r[s],t)}function sv(e,t,r){Sp(qo(t,e),r)}function Sp(e,t){oh(e)&&Nl(e,t)}function Nl(e,t){const s=e[Vt],a=e[Cn],l=e[aa];let f=!!(0===t&&16&a);if(f||=!!(64&a&&0===t),f||=!!(1024&a),f||=!(!l?.dirty||!Nn(l)),f||=!1,l&&(l.dirty=!1),e[Cn]&=-9217,f)rv(s,e,s.template,e[hi]);else if(8192&a){iv(e,1);const _=s.components;null!==_&&Wc(e,_,1)}}function Wc(e,t,r){for(let s=0;s<t.length;s++)sv(e,t[s],r)}function Ol(e,t){const r=Af()?64:1088;for(e[Es].changeDetectionScheduler?.notify(t);e;){e[Cn]|=r;const s=Ao(e);if(Lc(e)&&!s)return e;e=s}return null}class Qh{get rootNodes(){const t=this._lView,r=t[Vt];return qh(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hi]}set context(t){this._lView[hi]=t}get destroyed(){return!(256&~this._lView[Cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Gi];if(es(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&(_p(t,s),zi(r,s))}this._attachedToViewContainer=!1}dm(this._lView[Vt],this._lView)}onDestroy(t){nd(this._lView,t)}markForCheck(){Ol(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Cn]&=-129}reattach(){ch(this._lView),this._lView[Cn]|=128}detectChanges(){this._lView[Cn]|=1024,Pd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new St(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Lc(this._lView),r=this._lView[ec];null!==r&&!t&&lm(r,this._lView),SI(this._lView[Vt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new St(902,!1);this._appRef=t;const r=Lc(this._lView),s=this._lView[ec];null!==s&&!r&&bI(s,this._lView),ch(this._lView)}}let Md=(()=>{class e{static{this.__NG_ELEMENT_ID__=Rm}}return e})();const ov=Md,av=class extends ov{constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){const a=As(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:s});return new Qh(a)}};function Rm(){return Nd(Yr(),mt())}function Nd(e,t){return 4&e.type?new av(t,e,md(e,t)):null}let $a=()=>null;function rf(e,t){return $a(e,t)}class Bp{}const Vm=new ln("",{providedIn:"root",factory:()=>!1}),w0=new ln(""),zI=new ln("");class Rb{}class A0{}class Mb{resolveComponentFactory(t){throw function Pb(e){const t=Error(`No component factory found for ${si(e)}.`);return t.ngComponent=e,t}(t)}}class Pv{static{this.NULL=new Mb}}class WI{}let Nb=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Ob(){const e=mt(),r=qo(Yr().index,e);return(qi(r)?r:e)[Ln]}()}}return e})(),xb=(()=>{class e{static{this.\u0275prov=sr({token:e,providedIn:"root",factory:()=>null})}}return e})();function jd(e){return!!R(e)}function Nv(e,t,r){let s=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const _=t[f];"number"==typeof _?l=_:1==l?a=_o(a,_):2==l&&(s=_o(s,_+": "+t[++f]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=a:e.classesWithoutHost=a}class b0 extends Pv{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Zn(t);return new jm(r,this.ngModule)}}function R0(e,t){const r=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;const l=Array.isArray(a),f=l?a[0]:a;r.push(t?{propName:f,templateName:s,isSignal:!!((l?a[1]:Pa.None)&Pa.SignalBased)}:{propName:f,templateName:s})}return r}class jm extends A0{get inputs(){const t=this.componentDef,r=t.inputTransforms,s=R0(t.inputs,!0);if(null!==r)for(const a of s)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return s}get outputs(){return R0(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Xu(e){return e.map(Kd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,s,a){const l=V(null);try{let f=(a=a||this.ngModule)instanceof zo?a:a?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new ml(t,f):t,D=_.get(WI,null);if(null===D)throw new St(407,!1);const re={rendererFactory:D,sanitizer:_.get(xb,null),inlineEffectRunner:null,changeDetectionScheduler:_.get(Bp,null)},ye=D.createRenderer(null,this.componentDef),Ne=this.componentDef.selectors[0][0]||"div",We=s?function Co(e,t,r,s){const l=s.get(g_,!1)||r===oa.ShadowDom,f=e.selectRootElement(t,l);return function MI(e){Sd(e)}(f),f}(ye,s,this.componentDef.encapsulation,_):cm(ye,Ne,function Fb(e){const t=e.toLowerCase();return"svg"===t?Ts:"math"===t?"math":null}(Ne));let vt=512;this.componentDef.signals?vt|=4096:this.componentDef.onPush||(vt|=16);let jt=null;null!==We&&(jt=Xg(We,_,!0));const Gt=fm(0,null,null,1,0,null,null,null,null,null,null),Et=nt(null,Gt,null,vt,null,null,re,ye,_,null,jt);yh(Et);let rr,Vr,Si=null;try{const Fs=this.componentDef;let za,lg=null;Fs.findHostDirectiveDefs?(za=[],lg=new Map,Fs.findHostDirectiveDefs(Fs,za,lg),za.push(Fs)):za=[Fs];const db=function Ub(e,t){const r=e[Vt],s=hn;return e[s]=t,Oe(r,s,2,"#host",null)}(Et,We);Si=function Bb(e,t,r,s,a,l,f){const _=a[Vt];!function jb(e,t,r,s){for(const a of e)t.mergedAttrs=ga(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Nv(t,t.mergedAttrs,!0),null!==r&&er(s,r,t))}(s,e,t,f);let D=null;null!==t&&(D=Xg(t,a[Ki]));const k=l.rendererFactory.createRenderer(t,r);let H=16;r.signals?H=4096:r.onPush&&(H=64);const re=nt(a,hm(r),null,H,a[e.index],e,l,k,null,null,D);return _.firstCreatePass&&Gh(_,e,s.length-1),Ip(a,re),a[e.index]=re}(db,We,Fs,za,Et,re,ye),Vr=ic(Gt,hn),We&&function Hb(e,t,r,s){if(s)_u(e,r,["ng-version","18.2.6"]);else{const{attrs:a,classes:l}=function ma(e){const t=[],r=[];let s=1,a=2;for(;s<e.length;){let l=e[s];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++s]):8===a&&r.push(l);else{if(!$o(a))break;a=l}s++}return{attrs:t,classes:r}}(t.selectors[0]);a&&_u(e,r,a),l&&l.length>0&&En(e,r,l.join(" "))}}(ye,Fs,We,s),void 0!==r&&function zb(e,t,r){const s=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];s.push(null!=l?Array.from(l):null)}}(Vr,this.ngContentSelectors,r),rr=function $b(e,t,r,s,a,l){const f=Yr(),_=a[Vt],D=ws(f,a);_m(_,a,f,r,null,s);for(let H=0;H<r.length;H++)io(_l(a,_,f.directiveStart+H,f),a);G_(_,a,f),D&&io(D,a);const k=_l(a,_,f.directiveStart+f.componentOffset,f);if(e[hi]=a[hi]=k,null!==l)for(const H of l)H(k,t);return Sl(_,f,a),k}(Si,Fs,za,lg,Et,[Wb]),Pl(Gt,Et,null)}catch(Fs){throw null!==Si&&ac(Si),ac(Et),Fs}finally{Sf()}return new Vb(this.componentType,rr,md(Vr,Et),Et,Vr)}finally{V(l)}}}class Vb extends Rb{constructor(t,r,s,a,l){super(),this.location=s,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Qh(a,void 0,!1),this.componentType=t}setInput(t,r){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const l=this._rootLView;pc(l[Vt],l,a,t,r),this.previousInputValues.set(t,r),Ol(qo(this._tNode.index,l),1)}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Wb(){const e=Yr();od(mt()[Vt],e)}let Ov=(()=>{class e{static{this.__NG_ELEMENT_ID__=Gb}}return e})();function Gb(){return N0(Yr(),mt())}const Kb=Ov,P0=class extends Kb{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const t=ld(this._hostTNode,this._hostLView);if(Ih(t)){const r=Ru(t,this._hostLView),s=yl(t);return new Ps(r[Vt].data[s+8],r)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=M0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-xi}createEmbeddedView(t,r,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const f=rf(this._lContainer,t.ssrId),_=t.createEmbeddedViewImpl(r||{},l,f);return this.insertImpl(_,a,lu(this._hostTNode,f)),_}createComponent(t,r,s,a,l){const f=t&&!function ru(e){return"function"==typeof e}(t);let _;if(f)_=r;else{const We=r||{};_=We.index,s=We.injector,a=We.projectableNodes,l=We.environmentInjector||We.ngModuleRef}const D=f?t:new jm(Zn(t)),k=s||this.parentInjector;if(!l&&null==D.ngModule){const vt=(f?k:this.parentInjector).get(zo,null);vt&&(l=vt)}const H=Zn(D.componentType??{}),re=rf(this._lContainer,H?.id??null),Ne=D.create(k,a,re?.firstChild??null,l);return this.insertImpl(Ne.hostView,_,lu(this._hostTNode,re)),Ne}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){const a=t._lView;if(function ah(e){return es(e[Gi])}(a)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const D=a[Gi],k=new P0(D,D[vs],D[Gi]);k.detach(k.indexOf(t))}}const l=this._adjustIndex(r),f=this._lContainer;return Uu(f,a,l,s),t.attachToViewContainerRef(),eo(qI(f),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=M0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=_p(this._lContainer,r);s&&(zi(qI(this._lContainer),r),dm(s[Vt],s))}detach(t){const r=this._adjustIndex(t,-1),s=_p(this._lContainer,r);return s&&null!=zi(qI(this._lContainer),r)?new Qh(s):null}_adjustIndex(t,r=0){return t??this.length+r}};function M0(e){return e[8]}function qI(e){return e[8]||(e[8]=[])}function N0(e,t){let r;const s=t[e.index];return es(s)?r=s:(r=Ep(s,t,null,e),t[e.index]=r,Ip(t,r)),O0(r,t,e,s),new P0(r,e,t)}let O0=function k0(e,t,r,s){if(e[Wo])return;let a;a=8&r.type?Mr(s):function qb(e,t){const r=e[Ln],s=r.createComment(""),a=ws(t,e);return Cl(r,j_(r,a),s,function u(e,t){return e.nextSibling(t)}(r,a),!1),s}(t,r),e[Wo]=a},QI=()=>!1;class XI{constructor(t){this.queryList=t,this.matches=null}clone(){return new XI(this.queryList)}setDirty(){this.queryList.setDirty()}}class YI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<s;l++){const f=r.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new YI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==nT(t,r).matches&&this.queries[r].setDirty()}}class L0{constructor(t,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof t?function nR(e){return e.split(",").map(t=>t.trim())}(t):t}}class ZI{constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const a=null!==r?r.length:0,l=this.getByIndex(s).embeddedTView(t,a);l&&(l.indexInDeclarationView=s,null!==r?r.push(l):r=[l])}return null!==r?new ZI(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class JI{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new JI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(t,r,Zb(r,l)),this.matchTNodeWithReadOption(t,r,kf(r,t,l,!1,!1))}else s===Md?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,kf(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===Ei||a===Ov||a===Md&&4&r.type)this.addMatch(r.index,-2);else{const l=kf(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function Zb(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function eR(e,t,r,s){return-1===r?function Jb(e,t){return 11&e.type?md(e,t):4&e.type?Nd(e,t):null}(t,e):-2===r?function tR(e,t,r){return r===Ei?md(t,e):r===Md?Nd(t,e):r===Ov?N0(t,e):void 0}(e,t,s):_l(e,e[Vt],r,t)}function F0(e,t,r,s){const a=t[su].queries[s];if(null===a.matches){const l=e.data,f=r.matches,_=[];for(let D=0;null!==f&&D<f.length;D+=2){const k=f[D];_.push(k<0?null:eR(t,l[k],f[D+1],r.metadata.read))}a.matches=_}return a.matches}function eT(e,t,r,s){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const f=F0(e,t,a,r);for(let _=0;_<l.length;_+=2){const D=l[_];if(D>0)s.push(f[_/2]);else{const k=l[_+1],H=t[-D];for(let re=xi;re<H.length;re++){const ye=H[re];ye[ec]===ye[Gi]&&eT(ye[Vt],ye,k,s)}if(null!==H[Oc]){const re=H[Oc];for(let ye=0;ye<re.length;ye++){const Ne=re[ye];eT(Ne[Vt],Ne,k,s)}}}}}return s}function V0(e,t,r){const s=new Qy(!(4&~r));return function OI(e,t,r,s){const a=Tm(t);a.push(r),e.firstCreatePass&&bd(e).push(s,a.length-1)}(e,t,s,s.destroy),(t[su]??=new YI).queries.push(new XI(s))-1}function j0(e,t,r){null===e.queries&&(e.queries=new ZI),e.queries.track(new JI(t,r))}function nT(e,t){return e.queries.getByIndex(t)}function $0(e,t){const r=e[Vt],s=nT(r,t);return s.crossesNgTemplate?eT(r,e,t,[]):F0(r,e,s,t)}const H0=new Set;function _a(e){H0.has(e)||(H0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function W0(e,t){_a("NgSignals");const r=function me(e){const t=Object.create(Gn);t.value=e;const r=()=>(ee(t),t.value);return r[F]=t,r}(e),s=r[F];return t?.equal&&(s.equal=t.equal),r.set=a=>ce(s,a),r.update=a=>function ge(e,t){Dt()||Xt(),ce(e,t(e.value))}(s,a),r.asReadonly=G0.bind(r),r}function G0(){const e=this[F];if(void 0===e.readonlyFn){const t=()=>this();t[F]=e,e.readonlyFn=t}return e.readonlyFn}function K0(e){return function z0(e){return"function"==typeof e&&void 0!==e[F]}(e)&&"function"==typeof e.set}function iT(e){let t=function iA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let a;if(Go(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new St(903,!1);a=t.\u0275dir}if(a){if(r){s.push(a);const f=e;f.inputs=kv(e.inputs),f.inputTransforms=kv(e.inputTransforms),f.declaredInputs=kv(e.declaredInputs),f.outputs=kv(e.outputs);const _=a.hostBindings;_&&yR(e,_);const D=a.viewQuery,k=a.contentQueries;if(D&&gR(e,D),k&&mR(e,k),fR(e,a),ss(e.outputs,a.outputs),Go(a)&&a.data.animation){const H=e.data;H.animation=(H.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const _=l[f];_&&_.ngInherit&&_(e),_===iT&&(r=!1)}}t=Object.getPrototypeOf(t)}!function pR(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=ga(a.hostAttrs,r=ga(r,a.hostAttrs))}}(s)}function fR(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const s=t.inputs[r];if(void 0!==s&&(e.inputs[r]=s,e.declaredInputs[r]=t.declaredInputs[r],null!==t.inputTransforms)){const a=Array.isArray(s)?s[0]:s;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function kv(e){return e===Pr?{}:e===yr?[]:e}function gR(e,t){const r=e.viewQuery;e.viewQuery=r?(s,a)=>{t(s,a),r(s,a)}:t}function mR(e,t){const r=e.contentQueries;e.contentQueries=r?(s,a,l)=>{t(s,a,l),r(s,a,l)}:t}function yR(e,t){const r=e.hostBindings;e.hostBindings=r?(s,a)=>{t(s,a),r(s,a)}:t}function uA(e){const t=e.inputConfig,r={};for(const s in t)if(t.hasOwnProperty(s)){const a=t[s];Array.isArray(a)&&a[3]&&(r[s]=a[3])}e.inputTransforms=r}class sf{}class cA{}function wR(e,t){return new sT(e,t??null,[])}class sT extends sf{constructor(t,r,s,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const l=R(t);this._bootstrapComponents=Ba(l.bootstrap),this._r3Injector=El(t,r,[{provide:sf,useValue:this},{provide:Pv,useValue:this.componentFactoryResolver},...s],si(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class oT extends cA{constructor(t){super(),this.moduleType=t}create(t){return new sT(this.moduleType,t,[])}}class lA extends sf{constructor(t){super(),this.componentFactoryResolver=new b0(this),this.instance=null;const r=new ka([...t.providers,{provide:sf,useValue:this},{provide:Pv,useValue:this.componentFactoryResolver}],t.parent||Zu(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function aT(e,t,r=null){return new lA({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function Lv(e){return!!uT(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zc(e,t,r){return e[t]=r}function Hm(e,t){return e[t]}function xs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function af(e,t,r,s){const a=xs(e,t,r);return xs(e,t+1,s)||a}function $u(e,t,r,s,a,l){const f=af(e,t,r,s);return af(e,t+2,a,l)||f}function zm(e,t,r,s,a,l,f,_,D,k){const H=r+hn,re=t.firstCreatePass?function RR(e,t,r,s,a,l,f,_,D){const k=t.consts,H=Oe(t,e,4,f||null,_||null);ym(t,r,H,ua(k,D)),od(t,H);const re=H.tView=fm(2,H,s,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k,null);return null!==t.queries&&(t.queries.template(t,H),re.queries=t.queries.embeddedTView(H)),H}(H,t,e,s,a,l,f,_,D):t.data[H];au(re,!1);const ye=dA(t,e,re,r);_h()&&m(t,e,ye,re),io(ye,e);const Ne=Ep(ye,e,ye,re);return e[H]=Ne,Ip(e,Ne),function x0(e,t,r){return QI(e,t,r)}(Ne,re,e),nc(re)&&bl(t,e,re),null!=D&&$h(e,re,k),re}function cT(e,t,r,s,a,l,f,_){const D=mt(),k=dr();return zm(D,k,e,t,r,s,a,ua(k.consts,l),f,_),cT}let dA=function hA(e,t,r,s){return Va(!0),t[Ln].createComment("")};var zp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(zp||{});let _A=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=sr({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Km{constructor(){this.ngZone=ht(ki),this.scheduler=ht(Bp),this.errorHandler=ht(Ou,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[zp.EarlyRead,zp.Write,zp.MixedReadWrite,zp.Read]}execute(){this.executing=!0;for(const t of Km.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[t])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[t](r.pipelinedValue))}catch(s){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=sr({token:Km,providedIn:"root",factory:()=>new Km})}}class OR{constructor(t,r,s,a){this.impl=t,this.hooks=r,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function jv(e,t){!t?.injector&&ol();const r=t?.injector??ht(Ks);return function ja(e){return"browser"===(e??ht(Ks)).get(Al)}(r)?(_a("NgAfterNextRender"),function vA(e,t,r,s){const a=t.get(_A);a.impl??=t.get(Km);const f=new OR(a.impl,function kR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,r?.phase??zp.MixedReadWrite),s,t.get(hd));return a.impl.register(f),f}(e,r,t,!0)):EA}const EA={destroy(){}};function ET(e,t,r,s){const a=mt();return xs(a,Do(),t)&&(dr(),Fu(_i(),a,e,t,r,s)),ET}function Yp(e,t,r,s){return xs(e,Do(),r)?t+U(r)+s:en}function Zp(e,t,r,s,a,l){const _=af(e,function uu(){return Qn.lFrame.bindingIndex}(),r,a);return bu(2),_?t+U(r)+s+U(a)+l:en}function zv(e,t){return e<<17|t<<2}function zd(e){return e>>17&32767}function IT(e){return 2|e}function cf(e){return(131068&e)>>2}function TT(e,t){return-131069&e|t<<2}function wT(e){return 1|e}function GA(e,t,r,s){const a=e[r+1],l=null===t;let f=s?zd(a):cf(a),_=!1;for(;0!==f&&(!1===_||l);){const k=e[f+1];yP(e[f],t)&&(_=!0,e[f+1]=s?wT(k):IT(k)),f=s?zd(k):cf(k)}_&&(e[r+1]=s?IT(a):wT(a))}function yP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&mu(e,t)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KA(e){return e.substring(ao.key,ao.keyEnd)}function _P(e){return e.substring(ao.value,ao.valueEnd)}function qA(e,t){const r=ao.textEnd;return r===t?-1:(t=ao.keyEnd=function IP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,ao.key=t,r),sg(e,t,r))}function QA(e,t){const r=ao.textEnd;let s=ao.key=sg(e,t,r);return r===s?-1:(s=ao.keyEnd=function TP(e,t,r){let s;for(;t<r&&(45===(s=e.charCodeAt(t))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)t++;return t}(e,s,r),s=YA(e,s,r),s=ao.value=sg(e,s,r),s=ao.valueEnd=function wP(e,t,r){let s=-1,a=-1,l=-1,f=t,_=f;for(;f<r;){const D=e.charCodeAt(f++);if(59===D)return _;34===D||39===D?_=f=ZA(e,D,f,r):t===f-4&&85===l&&82===a&&76===s&&40===D?_=f=ZA(e,41,f,r):D>32&&(_=f),l=a,a=s,s=-33&D}return _}(e,s,r),YA(e,s,r))}function XA(e){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=e.length}function sg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function YA(e,t,r,s){return(t=sg(e,t,r))<r&&t++,t}function ZA(e,t,r,s){let a=-1,l=r;for(;l<s;){const f=e.charCodeAt(l++);if(f==t&&92!==a)return l;a=92==f&&92===a?0:f}throw new Error}function AT(e,t,r){const s=mt();return xs(s,Do(),t)&&So(dr(),_i(),s,e,t,s[Ln],r,!1),AT}function DT(e,t,r,s,a){const f=a?"class":"style";pc(e,r,t.inputs[f],f,s)}function CT(e,t,r){return yc(e,t,r,!1),CT}function ST(e,t){return yc(e,t,null,!0),ST}function mc(e){_c(nD,AP,e,!1)}function AP(e,t){for(let r=function EP(e){return XA(e),QA(e,sg(e,0,ao.textEnd))}(t);r>=0;r=QA(t,r))nD(e,KA(t),_P(t))}function JA(e){_c(PP,Jc,e,!0)}function Jc(e,t){for(let r=function vP(e){return XA(e),qA(e,sg(e,0,ao.textEnd))}(t);r>=0;r=qA(t,r))ms(e,KA(t),!0)}function yc(e,t,r,s){const a=mt(),l=dr(),f=bu(2);l.firstUpdatePass&&tD(l,e,f,s),t!==en&&xs(a,f,t)&&rD(l,l.data[Gs()],a,a[Ln],e,a[f+1]=function NP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=si(hc(e)))),e}(t,r),s,f)}function _c(e,t,r,s){const a=dr(),l=bu(2);a.firstUpdatePass&&tD(a,null,l,s);const f=mt();if(r!==en&&xs(f,l,r)){const _=a.data[Gs()];if(sD(_,s)&&!eD(a,l)){let D=s?_.classesWithoutHost:_.stylesWithoutHost;null!==D&&(r=_o(D,r||"")),DT(a,_,f,r,s)}else!function MP(e,t,r,s,a,l,f,_){a===en&&(a=yr);let D=0,k=0,H=0<a.length?a[0]:null,re=0<l.length?l[0]:null;for(;null!==H||null!==re;){const ye=D<a.length?a[D+1]:void 0,Ne=k<l.length?l[k+1]:void 0;let vt,We=null;H===re?(D+=2,k+=2,ye!==Ne&&(We=re,vt=Ne)):null===re||null!==H&&H<re?(D+=2,We=H):(k+=2,We=re,vt=Ne),null!==We&&rD(e,t,r,s,We,vt,f,_),H=D<a.length?a[D]:null,re=k<l.length?l[k]:null}}(a,_,f,f[Ln],f[l+1],f[l+1]=function RP(e,t,r){if(null==r||""===r)return yr;const s=[],a=hc(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(s,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(s,l,a[l]);else"string"==typeof a&&t(s,a);return s}(e,t,r),s,l)}}function eD(e,t){return t>=e.expandoStartIndex}function tD(e,t,r,s){const a=e.data;if(null===a[r+1]){const l=a[Gs()],f=eD(e,r);sD(l,s)&&null===t&&!f&&(t=!1),t=function DP(e,t,r,s){const a=function gh(e){const t=Qn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(r=Qm(r=bT(null,e,t,r,s),t.attrs,s),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(r=bT(a,e,t,r,s),null===l){let D=function CP(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==cf(s))return e[zd(s)]}(e,t,s);void 0!==D&&Array.isArray(D)&&(D=bT(null,e,t,D[1],s),D=Qm(D,t.attrs,s),function SP(e,t,r,s){e[zd(r?t.classBindings:t.styleBindings)]=s}(e,t,s,D))}else l=function bP(e,t,r){let s;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)s=Qm(s,e[l].hostAttrs,r);return Qm(s,t.attrs,r)}(e,t,s)}return void 0!==l&&(s?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,s),function gP(e,t,r,s,a,l){let f=l?t.classBindings:t.styleBindings,_=zd(f),D=cf(f);e[s]=r;let H,k=!1;if(Array.isArray(r)?(H=r[1],(null===H||mu(r,H)>0)&&(k=!0)):H=r,a)if(0!==D){const ye=zd(e[_+1]);e[s+1]=zv(ye,_),0!==ye&&(e[ye+1]=TT(e[ye+1],s)),e[_+1]=function fP(e,t){return 131071&e|t<<17}(e[_+1],s)}else e[s+1]=zv(_,0),0!==_&&(e[_+1]=TT(e[_+1],s)),_=s;else e[s+1]=zv(D,0),0===_?_=s:e[D+1]=TT(e[D+1],s),D=s;k&&(e[s+1]=IT(e[s+1])),GA(e,H,s,!0),GA(e,H,s,!1),function mP(e,t,r,s,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&mu(l,t)>=0&&(r[s+1]=wT(r[s+1]))}(t,H,e,s,l),f=zv(_,D),l?t.classBindings=f:t.styleBindings=f}(a,l,t,r,f,s)}}function bT(e,t,r,s,a){let l=null;const f=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<f&&(l=t[_],s=Qm(s,l.hostAttrs,a),l!==e);)_++;return null!==e&&(r.directiveStylingLast=_),s}function Qm(e,t,r){const s=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ms(e,f,!!r||t[++l]))}return void 0===e?null:e}function nD(e,t,r){ms(e,t,hc(r))}function PP(e,t,r){const s=String(t);""!==s&&!s.includes(" ")&&ms(e,s,r)}function rD(e,t,r,s,a,l,f,_){if(!(3&t.type))return;const D=e.data,k=D[_+1],H=function pP(e){return!(1&~e)}(k)?iD(D,t,r,a,cf(k),f):void 0;Wv(H)||(Wv(l)||function hP(e){return!(2&~e)}(k)&&(l=iD(D,null,r,a,_,f)),function pn(e,t,r,s,a){if(t)a?e.addClass(r,s):e.removeClass(r,s);else{let l=-1===s.indexOf("-")?void 0:um.DashCase;null==a?e.removeStyle(r,s,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=um.Important),e.setStyle(r,s,a,l))}}(s,f,ya(Gs(),r),a,l))}function iD(e,t,r,s,a,l){const f=null===t;let _;for(;a>0;){const D=e[a],k=Array.isArray(D),H=k?D[1]:D,re=null===H;let ye=r[a+1];ye===en&&(ye=re?yr:void 0);let Ne=re?pa(ye,s):H===s?ye:void 0;if(k&&!Wv(Ne)&&(Ne=pa(D,s)),Wv(Ne)&&(_=Ne,f))return _;const We=e[a+1];a=f?zd(We):cf(We)}if(null!==t){let D=l?t.residualClasses:t.residualStyles;null!=D&&(_=pa(D,s))}return _}function Wv(e){return void 0!==e}function sD(e,t){return!!(e.flags&(t?8:16))}function Kv(e,t,r,s){const a=mt(),l=dr(),f=hn+e,_=a[Ln],D=l.firstCreatePass?function tM(e,t,r,s,a,l){const f=t.consts,D=Oe(t,e,2,s,ua(f,a));return ym(t,r,D,ua(f,l)),null!==D.attrs&&Nv(D,D.attrs,!1),null!==D.mergedAttrs&&Nv(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(f,l,a,t,r,s):l.data[f],k=cD(l,a,D,_,t,e);a[f]=k;const H=nc(D);return au(D,!0),er(_,k,D),!function $p(e){return!(32&~e.flags)}(D)&&_h()&&m(l,a,k,D),0===function EE(){return Qn.lFrame.elementDepthCount}()&&io(k,a),function yg(){Qn.lFrame.elementDepthCount++}(),H&&(bl(l,a,D),Sl(l,D,a)),null!==s&&$h(a,D),Kv}function qv(){let e=Yr();fh()?Ig():(e=e.parent,au(e,!1));const t=e;(function _g(e){return Qn.skipHydrationRootTNode===e})(t)&&function TE(){Qn.skipHydrationRootTNode=null}(),function IE(){Qn.lFrame.elementDepthCount--}();const r=dr();return r.firstCreatePass&&(od(r,e),kc(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Sg(e){return!!(8&e.flags)}(t)&&DT(r,t,mt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ME(e){return!!(16&e.flags)}(t)&&DT(r,t,mt(),t.stylesWithoutHost,!1),qv}function NT(e,t,r,s){return Kv(e,t,r,s),qv(),NT}let cD=(e,t,r,s,a,l)=>(Va(!0),cm(s,a,function Iy(){return Qn.lFrame.currentNamespace}()));function Qv(e,t,r){const s=mt(),a=dr(),l=e+hn,f=a.firstCreatePass?function iM(e,t,r,s,a){const l=t.consts,f=ua(l,s),_=Oe(t,e,8,"ng-container",f);return null!==f&&Nv(_,f,!0),ym(t,r,_,ua(l,a)),null!==t.queries&&t.queries.elementStart(t,_),_}(l,a,s,t,r):a.data[l];au(f,!0);const _=lD(a,s,f,e);return s[l]=_,_h()&&m(a,s,_,f),io(_,s),nc(f)&&(bl(a,s,f),Sl(a,f,s)),null!=r&&$h(s,f),Qv}function Xv(){let e=Yr();const t=dr();return fh()?Ig():(e=e.parent,au(e,!1)),t.firstCreatePass&&(od(t,e),kc(e)&&t.queries.elementEnd(e)),Xv}function OT(e,t,r){return Qv(e,t,r),Xv(),OT}let lD=(e,t,r,s)=>(Va(!0),F_(t[Ln],""));function dD(){return mt()}const lf=void 0;var uM=["en",[["a","p"],["AM","PM"],lf],[["AM","PM"],lf,lf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lf,"{1} 'at' {0}",lf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aM(e){const r=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let og={};function xT(e){const t=function cM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=gD(t);if(r)return r;const s=t.split("-")[0];if(r=gD(s),r)return r;if("en"===s)return uM;throw new St(701,!1)}function pD(e){return xT(e)[ag.PluralCase]}function gD(e){return e in og||(og[e]=di.ng&&di.ng.common&&di.ng.common.locales&&di.ng.common.locales[e]),og[e]}var ag=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ag||{});const Yv="en-US";let mD=Yv,xD=(e,t,r)=>{};function FT(e,t,r,s){const a=mt(),l=dr(),f=Yr();return VT(l,a,a[Ln],f,e,t,s),FT}function VT(e,t,r,s,a,l,f){const _=nc(s),k=e.firstCreatePass&&bd(e),H=t[hi],re=Tm(t);let ye=!0;if(3&s.type||f){const vt=ws(s,t),jt=f?f(vt):vt,Gt=re.length,Et=f?Vr=>f(Mr(Vr[s.index])):s.index;let rr=null;if(!f&&_&&(rr=function YM(e,t,r,s){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===r&&a[l+1]===s){const _=t[Ju],D=a[l+2];return _.length>D?_[D]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,s.index)),null!==rr)(rr.__ngLastListenerFn__||rr).__ngNextListenerFn__=l,rr.__ngLastListenerFn__=l,ye=!1;else{l=VD(s,t,H,l),xD(vt,a,l);const Vr=r.listen(jt,a,l);re.push(l,Vr),k&&k.push(a,Et,Gt,Gt+1)}}else l=VD(s,t,H,l);const Ne=s.outputs;let We;if(ye&&null!==Ne&&(We=Ne[a])){const vt=We.length;if(vt)for(let jt=0;jt<vt;jt+=2){const Si=t[We[jt]][We[jt+1]].subscribe(l),Fs=re.length;re.push(l,Si),k&&k.push(a,s.index,Fs,-(Fs+1))}}}function FD(e,t,r,s){const a=V(null);try{return Ko(6,t,r),!1!==r(s)}catch(l){return Rd(e,l),!1}finally{Ko(7,t,r),V(a)}}function VD(e,t,r,s){return function a(l){if(l===Function)return s;Ol(e.componentOffset>-1?qo(e.index,t):t,5);let _=FD(t,r,s,l),D=a.__ngNextListenerFn__;for(;D;)_=FD(t,r,D,l)&&_,D=D.__ngNextListenerFn__;return _}}function UD(e=1){return function CE(e){return(Qn.lFrame.contextLView=function uh(e,t){for(;e>0;)t=t[Mc],e--;return t}(e,Qn.lFrame.contextLView))[hi]}(e)}function ZM(e,t){let r=null;const s=function $l(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const l=t[a];if("*"!==l){if(null===s?ff(e,l,!0):vu(s,l))return a}else r=a}return r}function BD(e){const t=mt()[ri][vs];if(!t.projection){const s=t.projection=function Bi(e,t){const r=[];for(let s=0;s<e;s++)r.push(t);return r}(e?e.length:1,null),a=s.slice();let l=t.child;for(;null!==l;){if(128!==l.type){const f=e?ZM(l,e):0;null!==f&&(a[f]?a[f].projectionNext=l:s[f]=l,a[f]=l)}l=l.next}}}function jD(e,t=0,r,s,a,l){const f=mt(),_=dr(),D=s?e+1:null;null!==D&&zm(f,_,D,s,a,l,null,r);const k=Oe(_,hn+e,16,null,r||null);null===k.projection&&(k.projection=t),Ig();const re=!f[Rs]||Su();null===f[ri][vs].projection[k.projection]&&null!==D?function JM(e,t,r){const s=hn+r,a=t.data[s],l=e[s],f=rf(l,a.tView.ssrId);Uu(l,As(e,a,void 0,{dehydratedView:f}),0,lu(a,f))}(f,_,D):re&&32&~k.flags&&function It(e,t,r){Nt(t[Ln],0,t,r,U_(e,r,t),n(r.parent||t[vs],r,t))}(_,f,k)}function tE(e,t,r,s,a){const l=mt(),f=Yp(l,t,r,s);return f!==en&&So(dr(),_i(),l,e,f,l[Ln],a,!1),tE}function YD(e,t,r,s){!function B0(e,t,r,s){const a=dr();if(a.firstCreatePass){const l=Yr();j0(a,new L0(t,r,s),l.index),function rR(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return V0(a,mt(),r)}(e,t,r,s)}function ZD(e,t,r){!function U0(e,t,r){const s=dr();return s.firstCreatePass&&(j0(s,new L0(e,t,r),-1),!(2&~t)&&(s.staticViewQueries=!0)),V0(s,mt(),t)}(e,t,r)}function JD(e){const t=mt(),r=dr(),s=mh();sd(s+1);const a=nT(r,s);if(e.dirty&&function sh(e){return!(4&~e[Cn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=$0(t,s);e.reset(l,Bg),e.notifyOnChanges()}return!0}return!1}function eC(){return function tT(e,t){return e[su].queries[t].queryList}(mt(),mh())}function tC(e){return function Cu(e,t){return e[t]}(function Tf(){return Qn.lFrame.contextLView}(),hn+e)}function dC(e,t=""){const r=mt(),s=dr(),a=e+hn,l=s.firstCreatePass?Oe(s,a,1,t,null):s.data[a],f=hC(s,r,l,t,e);r[a]=f,_h()&&m(s,r,f,l),au(l,!1)}let hC=(e,t,r,s,a)=>(Va(!0),function L_(e,t){return e.createText(t)}(t[Ln],s));function BT(e){return nE("",e,""),BT}function nE(e,t,r){const s=mt(),a=Yp(s,e,t,r);return a!==en&&Vu(s,Gs(),a),nE}function jT(e,t,r,s,a){const l=mt(),f=Zp(l,e,t,r,s,a);return f!==en&&Vu(l,Gs(),f),jT}function $T(e,t,r){K0(t)&&(t=t());const s=mt();return xs(s,Do(),t)&&So(dr(),_i(),s,e,t,s[Ln],r,!1),$T}function EC(e,t){const r=K0(e);return r&&e.set(t),r}function HT(e,t){const r=mt(),s=dr(),a=Yr();return VT(s,r,r[Ln],a,e,t),HT}function zT(e,t,r,s,a){if(e=bn(e),Array.isArray(e))for(let l=0;l<e.length;l++)zT(e[l],t,r,s,a);else{const l=dr(),f=mt(),_=Yr();let D=xa(e)?e:bn(e.provide);const k=Kl(e),H=1048575&_.providerIndexes,re=_.directiveStart,ye=_.providerIndexes>>20;if(xa(e)||!e.multi){const Ne=new gl(k,a,Ie),We=GT(D,t,a?H:H+ye,re);-1===We?(Rg(Nf(_,f),l,D),WT(l,e,t.length),t.push(D),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(Ne),f.push(Ne)):(r[We]=Ne,f[We]=Ne)}else{const Ne=GT(D,t,H+ye,re),We=GT(D,t,H,H+ye),jt=We>=0&&r[We];if(a&&!jt||!a&&!(Ne>=0&&r[Ne])){Rg(Nf(_,f),l,D);const Gt=function vN(e,t,r,s,a){const l=new gl(e,r,Ie);return l.multi=[],l.index=t,l.componentProviders=0,wC(l,a,s&&!r),l}(a?_N:yN,r.length,a,s,k);!a&&jt&&(r[We].providerFactory=Gt),WT(l,e,t.length,0),t.push(D),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(Gt),f.push(Gt)}else WT(l,e,Ne>-1?Ne:We,wC(r[a?We:Ne],k,!a&&s));!a&&s&&jt&&r[We].componentProviders++}}}function WT(e,t,r,s){const a=xa(t),l=function Qd(e){return!!e.useClass}(t);if(a||l){const D=(l?bn(t.useClass):t).prototype.ngOnDestroy;if(D){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const H=k.indexOf(r);-1===H?k.push(r,[s,D]):k[H+1].push(s,D)}else k.push(r,D)}}}function wC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function GT(e,t,r,s){for(let a=r;a<s;a++)if(t[a]===e)return a;return-1}function yN(e,t,r,s){return KT(this.multi,[])}function _N(e,t,r,s){const a=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,_=_l(r,r[Vt],this.providerFactory.index,s);l=_.slice(0,f),KT(a,l);for(let D=f;D<_.length;D++)l.push(_[D])}else l=[],KT(a,l);return l}function KT(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function AC(e,t=[]){return r=>{r.providersResolver=(s,a)=>function mN(e,t,r){const s=dr();if(s.firstCreatePass){const a=Go(e);zT(r,s.data,s.blueprint,a,!0),zT(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}let EN=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=vn(0,r.type),a=s.length>0?aT([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sr({token:e,providedIn:"environment",factory:()=>new e(xn(zo))})}}return e})();function DC(e){_a("NgStandalone"),e.getStandaloneInjector=t=>t.get(EN).getOrCreateStandaloneInjector(e)}function bC(e,t,r){const s=ts()+e,a=mt();return a[s]===en?Zc(a,s,r?t.call(r):t()):Hm(a,s)}function RC(e,t,r,s){return function LC(e,t,r,s,a,l){const f=t+r;return xs(e,f,a)?Zc(e,f+1,l?s.call(l,a):s(a)):ty(e,f+1)}(mt(),ts(),e,t,r,s)}function PC(e,t,r,s,a){return function FC(e,t,r,s,a,l,f){const _=t+r;return af(e,_,a,l)?Zc(e,_+2,f?s.call(f,a,l):s(a,l)):ty(e,_+2)}(mt(),ts(),e,t,r,s,a)}function MC(e,t,r,s,a,l){return function VC(e,t,r,s,a,l,f,_){const D=t+r;return function Fv(e,t,r,s,a){const l=af(e,t,r,s);return xs(e,t+2,a)||l}(e,D,a,l,f)?Zc(e,D+3,_?s.call(_,a,l,f):s(a,l,f)):ty(e,D+3)}(mt(),ts(),e,t,r,s,a,l)}function NC(e,t,r,s,a,l,f){return function UC(e,t,r,s,a,l,f,_,D){const k=t+r;return $u(e,k,a,l,f,_)?Zc(e,k+4,D?s.call(D,a,l,f,_):s(a,l,f,_)):ty(e,k+4)}(mt(),ts(),e,t,r,s,a,l,f)}function OC(e,t,r,s,a,l,f,_){const D=ts()+e,k=mt(),H=$u(k,D,r,s,a,l);return xs(k,D+4,f)||H?Zc(k,D+5,_?t.call(_,r,s,a,l,f):t(r,s,a,l,f)):Hm(k,D+5)}function xC(e,t,r,s,a,l,f,_,D){const k=ts()+e,H=mt(),re=$u(H,k,r,s,a,l);return af(H,k+4,f,_)||re?Zc(H,k+6,D?t.call(D,r,s,a,l,f,_):t(r,s,a,l,f,_)):Hm(H,k+6)}function kC(e,t,r,s){return function BC(e,t,r,s,a,l){let f=t+r,_=!1;for(let D=0;D<a.length;D++)xs(e,f++,a[D])&&(_=!0);return _?Zc(e,f,s.apply(l,a)):ty(e,f)}(mt(),ts(),e,t,r,s)}function ty(e,t){const r=e[t];return r===en?void 0:r}function jC(e,t){return Nd(e,t)}class rS{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const eO=new rS("18.2.6");let iS=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const cS=new ln(""),lS=new ln("");let JT,CO=(()=>{class e{constructor(r,s,a){this._ngZone=r,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,JT||(function SO(e){JT=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ki.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r()},s)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}static{this.\u0275fac=function(s){return new(s||e)(xn(ki),xn(dS),xn(lS))}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac})}}return e})(),dS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return JT?.findTestabilityInTree(this,r,s)??null}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function ew(e){return!!e&&"function"==typeof e.then}function hS(e){return!!e&&"function"==typeof e.subscribe}const fS=new ln("");let pS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=ht(fS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=a();if(ew(l))r.push(l);else if(hS(l)){const f=new Promise((_,D)=>{l.subscribe({complete:_,error:D})});r.push(f)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const aE=new ln("");function mS(e,t){return Array.isArray(t)?t.reduce(mS,e):{...e,...t}}let el=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ht(Ew),this.afterRenderManager=ht(_A),this.zonelessEnabled=ht(Vm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Er.B,this.afterTick=new Er.B,this.componentTypes=[],this.components=[],this.isStable=ht(Il).hasPendingTasks.pipe((0,ar.T)(r=>!r)),this._injector=ht(zo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(s=>{r=this.isStable.subscribe({next:a=>{a&&s()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,s){const a=r instanceof A0;if(!this._injector.get(pS).done)throw!a&&E(r),new St(405,!1);let f;f=a?r:this._injector.get(Pv).resolveComponentFactory(r),this.componentTypes.push(f.componentType);const _=function bO(e){return e.isBoundToModule}(f)?void 0:this._injector.get(sf),k=f.create(Ks.NULL,[],s||f.selector,_),H=k.location.nativeElement,re=k.injector.get(cS,null);return re?.registerApplication(H),k.onDestroy(()=>{this.detachView(k.hostView),uE(this.components,k),re?.unregisterApplication(H)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new St(101,!1);const r=V(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,V(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(WI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let s=0;for(;0!==this.dirtyFlags&&s++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)MO(a,l,s,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>sc(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;uE(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(aE,[]);[...this._bootstrapListeners,...s].forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new St(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function MO(e,t,r,s){(r||sc(e))&&Pd(e,t,r&&!s?0:1)}class NO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let OO=(()=>{class e{compileModuleSync(r){return new oT(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),l=Ba(R(r).declarations).reduce((f,_)=>{const D=Zn(_);return D&&f.push(new jm(D)),f},[]);return new NO(s,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LO=(()=>{class e{constructor(){this.zone=ht(ki),this.changeDetectionScheduler=ht(Bp),this.applicationRef=ht(el)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new ki({...nw(),scheduleInRootZone:r}),[{provide:ki,useFactory:e},{provide:to,multi:!0,useFactory:()=>{const s=ht(LO,{optional:!0});return()=>s.initialize()}},{provide:to,multi:!0,useFactory:()=>{const s=ht(VO);return()=>{s.initialize()}}},!0===t?{provide:w0,useValue:!0}:[],{provide:zI,useValue:r??By}]}function nw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let VO=(()=>{class e{constructor(){this.subscription=new Gr.yU,this.initialized=!1,this.zone=ht(ki),this.pendingTasks=ht(Il)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ki.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ki.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sy=(()=>{class e{constructor(){this.appRef=ht(el),this.taskService=ht(Il),this.ngZone=ht(ki),this.zonelessEnabled=ht(Vm),this.disableScheduling=ht(w0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Gr.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ht(zI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ms||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const s=this.useMicrotaskScheduler?Hy:$y;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>s(()=>this.tick())):this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const iw=new ln("",{providedIn:"root",factory:()=>ht(iw,Fe.Optional|Fe.SkipSelf)||function UO(){return typeof $localize<"u"&&$localize.locale||Yv}()}),BO=new ln("",{providedIn:"root",factory:()=>"USD"}),sw=new ln("");function lE(e){return!!e.platformInjector}let wS=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const a=s?.scheduleInRootZone,f=s?.ignoreChangesOutsideZone,_=[tw({ngZoneFactory:()=>function vw(e="zone.js",t){return"noop"===e?new Ms:"zone.js"===e?new ki(t):e}(s?.ngZone,{...nw({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:a}),ignoreChangesOutsideZone:f}),{provide:Bp,useExisting:sy}],D=function AR(e,t,r){return new sT(e,t,r,!1)}(r.moduleType,this.injector,_);return function TS(e){const t=lE(e)?e.r3Injector:e.moduleRef.injector,r=t.get(ki);return r.run(()=>{lE(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=t.get(Ou,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{s.handleError(l)}})}),lE(e)){const l=()=>t.destroy(),f=e.platformInjector.get(sw);f.add(l),t.onDestroy(()=>{a.unsubscribe(),f.delete(l)})}else e.moduleRef.onDestroy(()=>{uE(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function PO(e,t,r){try{const s=r();return ew(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(s,r,()=>{const l=t.get(pS);return l.runInitializers(),l.donePromise.then(()=>{if(function fM(e){"string"==typeof e&&(mD=e.toLowerCase().replace(/_/g,"-"))}(t.get(iw,Yv)||Yv),lE(e)){const _=t.get(el);return void 0!==e.rootComponent&&_.bootstrap(e.rootComponent),_}return function WO(e,t){const r=e.injector.get(el);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new St(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:D,allPlatformModules:this._modules})}bootstrapModule(r,s=[]){const a=mS({},s);return function kO(e,t,r){const s=new oT(r);return Promise.resolve(s)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,a))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new St(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(sw,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||e)(xn(Ks))}}static{this.\u0275prov=sr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Wd=null;const AS=new ln("");function DS(e,t,r=[]){const s=`Platform: ${t}`,a=new ln(s);return(l=[])=>{let f=ow();if(!f||f.injector.get(AS,!1)){const _=[...r,...l,{provide:a,useValue:!0}];e?e(_):function GO(e){if(Wd&&!Wd.get(AS,!1))throw new St(400,!1);(function gS(){!function Yt(e){Mt=e}(()=>{throw new St(600,!1)})})(),Wd=e;const t=e.get(wS);(function SS(e){e.get(WE,null)?.forEach(r=>r())})(e)}(function CS(e=[],t){return Ks.create({name:t,providers:[{provide:Hl,useValue:"platform"},{provide:sw,useValue:new Set([()=>Wd=null])},...e]})}(_,s))}return function KO(){const t=ow();if(!t)throw new St(401,!1);return t}()}}function ow(){return Wd?.get(wS)??null}let RS=(()=>{class e{static{this.__NG_ELEMENT_ID__=QO}}return e})();function QO(e){return function XO(e,t,r){if(ou(e)&&!r){const s=qo(e.index,t);return new Qh(s,s)}return 175&e.type?new Qh(t[ri],t):null}(Yr(),mt(),!(16&~e))}class OS{constructor(){}supports(t){return Lv(t)}create(t){return new t1(t)}}const e1=(e,t)=>t;class t1{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||e1}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,a=0,l=null;for(;r||s;){const f=!s||r&&r.currentIndex<kS(s,a,l)?r:s,_=kS(f,a,l),D=f.currentIndex;if(f===s)a--,s=s._nextRemoved;else if(r=r._next,null==f.previousIndex)a++;else{l||(l=[]);const k=_-a,H=D-a;if(k!=H){for(let ye=0;ye<k;ye++){const Ne=ye<l.length?l[ye]:l[ye]=0,We=Ne+ye;H<=We&&We<k&&(l[ye]=Ne+1)}l[f.previousIndex]=H-k}}_!==D&&t(f,_,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Lv(t))throw new St(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)l=t[_],f=this._trackByFn(_,l),null!==r&&Object.is(r.trackById,f)?(s&&(r=this._verifyReinsertion(r,l,f,_)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,_),s=!0),r=r._next}else a=0,function SR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,_=>{f=this._trackByFn(a,_),null!==r&&Object.is(r.trackById,f)?(s&&(r=this._verifyReinsertion(r,_,f,a)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,f,a),s=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new n1(r,s),l,a),t}_verifyReinsertion(t,r,s,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new xS),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class n1{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r1{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class xS{constructor(){this.map=new Map}put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new r1,this.map.set(r,s)),s.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kS(e,t,r){const s=e.previousIndex;if(null===s)return s;let a=0;return r&&s<r.length&&(a=r[s]),s+t+a}class LS{constructor(){}supports(t){return t instanceof Map||uT(t)}create(){return new i1}}class i1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||uT(t)))throw new St(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,s);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const s=new s1(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class s1{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FS(){return new dw([new OS])}let dw=(()=>{class e{static{this.\u0275prov=sr({token:e,providedIn:"root",factory:FS})}constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||FS()),deps:[[e,new Qr,new Rr]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new St(901,!1)}}return e})();function VS(){return new hw([new LS])}let hw=(()=>{class e{static{this.\u0275prov=sr({token:e,providedIn:"root",factory:VS})}constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||VS()),deps:[[e,new Qr,new Rr]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new St(901,!1)}}return e})();const u1=DS(null,"core",[]);let c1=(()=>{class e{constructor(r){}static{this.\u0275fac=function(s){return new(s||e)(xn(el))}}static{this.\u0275mod=Yu({type:e})}static{this.\u0275inj=Oi({})}}return e})();const eb=new ln("");function B1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function j1(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function H1(e,t){_a("NgSignals");const r=function Ae(e){const t=Object.create(Wn);t.computation=e;const r=()=>{if(Be(t),ee(t),t.value===In)throw t.error;return t.value};return r[F]=t,r}(e);return t?.equal&&(r[F].equal=t.equal),r}function z1(e){const t=V(null);try{return e()}finally{V(t)}}const W1=new ln("",{providedIn:"root",factory:()=>ht(G1)});let G1=(()=>{class e{static{this.\u0275prov=sr({token:e,providedIn:"root",factory:()=>new K1})}}return e})();class K1{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ht(Il),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(t){const r=t.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const s=this.queues.get(r);s.has(t)||(this.queuedEffectCount++,s.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}class q1{constructor(t,r,s,a,l,f){this.scheduler=t,this.effectFn=r,this.creationZone=s,this.injector=l,this.watcher=function nn(e,t,r){const s=Object.create(Kn);r&&(s.consumerAllowSignalWrites=!0),s.fn=e,s.schedule=t;const a=D=>{s.cleanupFn=D};return s.ref={notify:()=>Lt(s),run:()=>{if(null===s.fn)return;if(function te(){return Ee}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(s.dirty=!1,s.hasRun&&!Nn(s))return;s.hasRun=!0;const D=Wt(s);try{s.cleanupFn(),s.cleanupFn=Un,s.fn(a)}finally{zt(s,D)}},cleanup:()=>s.cleanupFn(),destroy:()=>function f(D){(function l(D){return null===D.fn&&null===D.schedule})(D)||(gn(D),D.cleanupFn(),D.fn=null,D.schedule=null,D.cleanupFn=Un)}(s),[F]:s},s.ref}(_=>this.runEffect(_),()=>this.schedule(),f),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(r){this.injector.get(Ou,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function lb(e,t){_a("NgSignals"),!t?.injector&&ol();const r=t?.injector??ht(Ks),s=!0!==t?.manualCleanup?r.get(hd):null,a=new q1(r.get(W1),e,typeof Zone>"u"?null:Zone.current,s,r,t?.allowSignalWrites??!1),l=r.get(RS,null,{optional:!0});return l&&8&l._lView[Cn]?(l._lView[Yl]??=[]).push(a.watcher.notify):a.watcher.notify(),a}function Q1(e){const t=Zn(e);if(!t)return null;const r=new jm(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},7440:(tn,ut,X)=>{X.d(ut,{MW:()=>Be,Wp:()=>Wt,XU:()=>he,gL:()=>F});var S=X(2214),P=X(3953),Ee=X(5407);class he{constructor(Te){return Te}}class F{constructor(){return(0,S.Dk)()}}const te=new P.nKC("angularfire2._apps"),ae={provide:he,useFactory:function K(dt){return dt&&1===dt.length?dt[0]:new he((0,S.Sx)())},deps:[[new P.Xx1,te]]},Y={provide:F,deps:[[new P.Xx1,te]]};function ee(dt){return(Te,Ce)=>{const Tt=Ce.get(P.Agw);(0,S.KO)("angularfire",Ee.xv.full,"core"),(0,S.KO)("angularfire",Ee.xv.full,"app"),(0,S.KO)("angular",P.xvI.full,Tt.toString());const Ft=Te.runOutsideAngular(()=>dt(Ce));return new he(Ft)}}function Be(dt,...Te){return(0,P.EmA)([ae,Y,{provide:te,useFactory:ee(dt),multi:!0,deps:[P.SKi,P.zZn,Ee.u0,...Te]}])}const Wt=(0,Ee.S3)(S.Wp,!0)},5621:(tn,ut,X)=>{X.d(ut,{DF:()=>te,_q:()=>Lt,xI:()=>bt});var S=X(5407),P=X(3953),Ee=X(7440),he=X(2214),F=X(9579);const V="auth";class K{constructor(jr){return jr}}class te{constructor(){return(0,S.CA)(V)}}const Y=new P.nKC("angularfire2.auth-instances");function Se(Cr){return(jr,Pi)=>{const $r=jr.runOutsideAngular(()=>Cr(Pi));return new K($r)}}const Be={provide:te,deps:[[new P.Xx1,Y]]},Ke={provide:K,useFactory:function ee(Cr,jr){const Pi=(0,S.lR)(V,Cr,jr);return Pi&&new K(Pi)},deps:[[new P.Xx1,Y],Ee.XU]};function Lt(Cr,...jr){return(0,he.KO)("angularfire",S.xv.full,"auth"),(0,P.EmA)([Ke,Be,{provide:Y,useFactory:Se(Cr),multi:!0,deps:[P.SKi,P.zZn,S.u0,Ee.gL,[new P.Xx1,S.Jv],...jr]}])}const bt=(0,S.S3)(F.xI,!0)},2418:(tn,ut,X)=>{X.d(ut,{_7:()=>gp,rJ:()=>yI,xs:()=>P_,kd:()=>c0,H9:()=>l0,GG:()=>Cd,aU:()=>O_,hV:()=>fI,P:()=>CI,BN:()=>lm,mZ:()=>Cl,_M:()=>B_});var Be,Ke,S=X(5407),P=X(3953),Ee=X(7440),he=X(5621),F=X(2214),V=X(467),K=X(7852),te=X(1362),ae=X(8041),Y=X(1076),ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var u;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c($e,Ie,ke){ke||(ke=0);var ze=Array(16);if("string"==typeof Ie)for(var qe=0;16>qe;++qe)ze[qe]=Ie.charCodeAt(ke++)|Ie.charCodeAt(ke++)<<8|Ie.charCodeAt(ke++)<<16|Ie.charCodeAt(ke++)<<24;else for(qe=0;16>qe;++qe)ze[qe]=Ie[ke++]|Ie[ke++]<<8|Ie[ke++]<<16|Ie[ke++]<<24;var nt=$e.g[3],Oe=(Ie=$e.g[0])+(nt^(ke=$e.g[1])&((qe=$e.g[2])^nt))+ze[0]+3614090360&4294967295;Oe=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=(ke=(qe=(nt=(Ie=ke+(Oe<<7&4294967295|Oe>>>25))+((Oe=nt+(qe^Ie&(ke^qe))+ze[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=qe+(ke^nt&(Ie^ke))+ze[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=ke+(Ie^qe&(nt^Ie))+ze[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Ie+(nt^ke&(qe^nt))+ze[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=nt+(qe^Ie&(ke^qe))+ze[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=qe+(ke^nt&(Ie^ke))+ze[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=ke+(Ie^qe&(nt^Ie))+ze[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Ie+(nt^ke&(qe^nt))+ze[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=nt+(qe^Ie&(ke^qe))+ze[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=qe+(ke^nt&(Ie^ke))+ze[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=ke+(Ie^qe&(nt^Ie))+ze[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Ie+(nt^ke&(qe^nt))+ze[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=nt+(qe^Ie&(ke^qe))+ze[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=qe+(ke^nt&(Ie^ke))+ze[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=ke+(Ie^qe&(nt^Ie))+ze[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Ie+(qe^nt&(ke^qe))+ze[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=nt+(ke^qe&(Ie^ke))+ze[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=qe+(Ie^ke&(nt^Ie))+ze[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=ke+(nt^Ie&(qe^nt))+ze[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Ie+(qe^nt&(ke^qe))+ze[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=nt+(ke^qe&(Ie^ke))+ze[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=qe+(Ie^ke&(nt^Ie))+ze[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=ke+(nt^Ie&(qe^nt))+ze[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Ie+(qe^nt&(ke^qe))+ze[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=nt+(ke^qe&(Ie^ke))+ze[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=qe+(Ie^ke&(nt^Ie))+ze[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=ke+(nt^Ie&(qe^nt))+ze[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Ie+(qe^nt&(ke^qe))+ze[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=nt+(ke^qe&(Ie^ke))+ze[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=qe+(Ie^ke&(nt^Ie))+ze[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=ke+(nt^Ie&(qe^nt))+ze[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Ie+(ke^qe^nt)+ze[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=nt+(Ie^ke^qe)+ze[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=qe+(nt^Ie^ke)+ze[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=ke+(qe^nt^Ie)+ze[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Ie+(ke^qe^nt)+ze[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=nt+(Ie^ke^qe)+ze[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=qe+(nt^Ie^ke)+ze[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=ke+(qe^nt^Ie)+ze[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Ie+(ke^qe^nt)+ze[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=nt+(Ie^ke^qe)+ze[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=qe+(nt^Ie^ke)+ze[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=ke+(qe^nt^Ie)+ze[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Ie+(ke^qe^nt)+ze[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=nt+(Ie^ke^qe)+ze[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=qe+(nt^Ie^ke)+ze[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=ke+(qe^nt^Ie)+ze[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Ie+(qe^(ke|~nt))+ze[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=nt+(ke^(Ie|~qe))+ze[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=qe+(Ie^(nt|~ke))+ze[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=ke+(nt^(qe|~Ie))+ze[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Ie+(qe^(ke|~nt))+ze[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=nt+(ke^(Ie|~qe))+ze[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=qe+(Ie^(nt|~ke))+ze[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=ke+(nt^(qe|~Ie))+ze[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Ie+(qe^(ke|~nt))+ze[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=nt+(ke^(Ie|~qe))+ze[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=qe+(Ie^(nt|~ke))+ze[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=ke+(nt^(qe|~Ie))+ze[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((nt=(Ie=ke+((Oe=Ie+(qe^(ke|~nt))+ze[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=nt+(ke^(Ie|~qe))+ze[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((qe=nt+((Oe=qe+(Ie^(nt|~ke))+ze[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~Ie))+ze[9]+3951481745&4294967295,$e.g[0]=$e.g[0]+Ie&4294967295,$e.g[1]=$e.g[1]+(qe+(Oe<<21&4294967295|Oe>>>11))&4294967295,$e.g[2]=$e.g[2]+qe&4294967295,$e.g[3]=$e.g[3]+nt&4294967295}function m($e,Ie){this.h=Ie;for(var ke=[],ze=!0,qe=$e.length-1;0<=qe;qe--){var nt=0|$e[qe];ze&&nt==Ie||(ke[qe]=nt,ze=!1)}this.g=ke}(function n($e,Ie){function ke(){}ke.prototype=Ie.prototype,$e.D=Ie.prototype,$e.prototype=new ke,$e.prototype.constructor=$e,$e.C=function(ze,qe,nt){for(var Oe=Array(arguments.length-2),cu=2;cu<arguments.length;cu++)Oe[cu-2]=arguments[cu];return Ie.prototype[qe].apply(ze,Oe)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function($e,Ie){void 0===Ie&&(Ie=$e.length);for(var ke=Ie-this.blockSize,ze=this.B,qe=this.h,nt=0;nt<Ie;){if(0==qe)for(;nt<=ke;)c(this,$e,nt),nt+=this.blockSize;if("string"==typeof $e){for(;nt<Ie;)if(ze[qe++]=$e.charCodeAt(nt++),qe==this.blockSize){c(this,ze),qe=0;break}}else for(;nt<Ie;)if(ze[qe++]=$e[nt++],qe==this.blockSize){c(this,ze),qe=0;break}}this.h=qe,this.o+=Ie},o.prototype.v=function(){var $e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$e[0]=128;for(var Ie=1;Ie<$e.length-8;++Ie)$e[Ie]=0;var ke=8*this.o;for(Ie=$e.length-8;Ie<$e.length;++Ie)$e[Ie]=255&ke,ke/=256;for(this.u($e),$e=Array(16),Ie=ke=0;4>Ie;++Ie)for(var ze=0;32>ze;ze+=8)$e[ke++]=this.g[Ie]>>>ze&255;return $e};var C={};function M($e){return-128<=$e&&128>$e?function d($e,Ie){var ke=C;return Object.prototype.hasOwnProperty.call(ke,$e)?ke[$e]:ke[$e]=Ie($e)}($e,function(Ie){return new m([0|Ie],0>Ie?-1:0)}):new m([0|$e],0>$e?-1:0)}function j($e){if(isNaN($e)||!isFinite($e))return oe;if(0>$e)return Ct(j(-$e));for(var Ie=[],ke=1,ze=0;$e>=ke;ze++)Ie[ze]=$e/ke|0,ke*=4294967296;return new m(Ie,0)}var oe=M(0),Pe=M(1),Ye=M(16777216);function It($e){if(0!=$e.h)return!1;for(var Ie=0;Ie<$e.g.length;Ie++)if(0!=$e.g[Ie])return!1;return!0}function Nt($e){return-1==$e.h}function Ct($e){for(var Ie=$e.g.length,ke=[],ze=0;ze<Ie;ze++)ke[ze]=~$e.g[ze];return new m(ke,~$e.h).add(Pe)}function pn($e,Ie){return $e.add(Ct(Ie))}function On($e,Ie){for(;(65535&$e[Ie])!=$e[Ie];)$e[Ie+1]+=$e[Ie]>>>16,$e[Ie]&=65535,Ie++}function En($e,Ie){this.g=$e,this.h=Ie}function er($e,Ie){if(It(Ie))throw Error("division by zero");if(It($e))return new En(oe,oe);if(Nt($e))return Ie=er(Ct($e),Ie),new En(Ct(Ie.g),Ct(Ie.h));if(Nt(Ie))return Ie=er($e,Ct(Ie)),new En(Ct(Ie.g),Ie.h);if(30<$e.g.length){if(Nt($e)||Nt(Ie))throw Error("slowDivide_ only works with positive integers.");for(var ke=Pe,ze=Ie;0>=ze.l($e);)ke=en(ke),ze=en(ze);var qe=hr(ke,1),nt=hr(ze,1);for(ze=hr(ze,2),ke=hr(ke,2);!It(ze);){var Oe=nt.add(ze);0>=Oe.l($e)&&(qe=qe.add(ke),nt=Oe),ze=hr(ze,1),ke=hr(ke,1)}return Ie=pn($e,qe.j(Ie)),new En(qe,Ie)}for(qe=oe;0<=$e.l(Ie);){for(ke=Math.max(1,Math.floor($e.m()/Ie.m())),ze=48>=(ze=Math.ceil(Math.log(ke)/Math.LN2))?1:Math.pow(2,ze-48),Oe=(nt=j(ke)).j(Ie);Nt(Oe)||0<Oe.l($e);)Oe=(nt=j(ke-=ze)).j(Ie);It(nt)&&(nt=Pe),qe=qe.add(nt),$e=pn($e,Oe)}return new En(qe,$e)}function en($e){for(var Ie=$e.g.length+1,ke=[],ze=0;ze<Ie;ze++)ke[ze]=$e.i(ze)<<1|$e.i(ze-1)>>>31;return new m(ke,$e.h)}function hr($e,Ie){var ke=Ie>>5;Ie%=32;for(var ze=$e.g.length-ke,qe=[],nt=0;nt<ze;nt++)qe[nt]=0<Ie?$e.i(nt+ke)>>>Ie|$e.i(nt+ke+1)<<32-Ie:$e.i(nt+ke);return new m(qe,$e.h)}(u=m.prototype).m=function(){if(Nt(this))return-Ct(this).m();for(var $e=0,Ie=1,ke=0;ke<this.g.length;ke++){var ze=this.i(ke);$e+=(0<=ze?ze:4294967296+ze)*Ie,Ie*=4294967296}return $e},u.toString=function($e){if(2>($e=$e||10)||36<$e)throw Error("radix out of range: "+$e);if(It(this))return"0";if(Nt(this))return"-"+Ct(this).toString($e);for(var Ie=j(Math.pow($e,6)),ke=this,ze="";;){var qe=er(ke,Ie).g,nt=((0<(ke=pn(ke,qe.j(Ie))).g.length?ke.g[0]:ke.h)>>>0).toString($e);if(It(ke=qe))return nt+ze;for(;6>nt.length;)nt="0"+nt;ze=nt+ze}},u.i=function($e){return 0>$e?0:$e<this.g.length?this.g[$e]:this.h},u.l=function($e){return Nt($e=pn(this,$e))?-1:It($e)?0:1},u.abs=function(){return Nt(this)?Ct(this):this},u.add=function($e){for(var Ie=Math.max(this.g.length,$e.g.length),ke=[],ze=0,qe=0;qe<=Ie;qe++){var nt=ze+(65535&this.i(qe))+(65535&$e.i(qe)),Oe=(nt>>>16)+(this.i(qe)>>>16)+($e.i(qe)>>>16);ze=Oe>>>16,ke[qe]=(Oe&=65535)<<16|(nt&=65535)}return new m(ke,-2147483648&ke[ke.length-1]?-1:0)},u.j=function($e){if(It(this)||It($e))return oe;if(Nt(this))return Nt($e)?Ct(this).j(Ct($e)):Ct(Ct(this).j($e));if(Nt($e))return Ct(this.j(Ct($e)));if(0>this.l(Ye)&&0>$e.l(Ye))return j(this.m()*$e.m());for(var Ie=this.g.length+$e.g.length,ke=[],ze=0;ze<2*Ie;ze++)ke[ze]=0;for(ze=0;ze<this.g.length;ze++)for(var qe=0;qe<$e.g.length;qe++){var nt=this.i(ze)>>>16,Oe=65535&this.i(ze),cu=$e.i(qe)>>>16,fc=65535&$e.i(qe);ke[2*ze+2*qe]+=Oe*fc,On(ke,2*ze+2*qe),ke[2*ze+2*qe+1]+=nt*fc,On(ke,2*ze+2*qe+1),ke[2*ze+2*qe+1]+=Oe*cu,On(ke,2*ze+2*qe+1),ke[2*ze+2*qe+2]+=nt*cu,On(ke,2*ze+2*qe+2)}for(ze=0;ze<Ie;ze++)ke[ze]=ke[2*ze+1]<<16|ke[2*ze];for(ze=Ie;ze<2*Ie;ze++)ke[ze]=0;return new m(ke,0)},u.A=function($e){return er(this,$e).h},u.and=function($e){for(var Ie=Math.max(this.g.length,$e.g.length),ke=[],ze=0;ze<Ie;ze++)ke[ze]=this.i(ze)&$e.i(ze);return new m(ke,this.h&$e.h)},u.or=function($e){for(var Ie=Math.max(this.g.length,$e.g.length),ke=[],ze=0;ze<Ie;ze++)ke[ze]=this.i(ze)|$e.i(ze);return new m(ke,this.h|$e.h)},u.xor=function($e){for(var Ie=Math.max(this.g.length,$e.g.length),ke=[],ze=0;ze<Ie;ze++)ke[ze]=this.i(ze)^$e.i(ze);return new m(ke,this.h^$e.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ke=Se.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=j,m.fromString=function q($e,Ie){if(0==$e.length)throw Error("number format error: empty string");if(2>(Ie=Ie||10)||36<Ie)throw Error("radix out of range: "+Ie);if("-"==$e.charAt(0))return Ct(q($e.substring(1),Ie));if(0<=$e.indexOf("-"))throw Error('number format error: interior "-" character');for(var ke=j(Math.pow(Ie,8)),ze=oe,qe=0;qe<$e.length;qe+=8){var nt=Math.min(8,$e.length-qe),Oe=parseInt($e.substring(qe,qe+nt),Ie);8>nt?(nt=j(Math.pow(Ie,nt)),ze=ze.j(nt).add(j(Oe))):ze=(ze=ze.j(ke)).add(j(Oe))}return ze},Be=Se.Integer=m}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});var Wt,zt,Nn,gn,He,dt,Te,Ce,Tt,Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lt={};(function(){var u,n="function"==typeof Object.defineProperties?Object.defineProperty:function(p,O,z){return p==Array.prototype||p==Object.prototype||(p[O]=z.value),p},o=function i(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Dt&&Dt];for(var O=0;O<p.length;++O){var z=p[O];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}(this);!function c(p,O){if(O)e:{var z=o;p=p.split(".");for(var ie=0;ie<p.length-1;ie++){var Ze=p[ie];if(!(Ze in z))break e;z=z[Ze]}(O=O(ie=z[p=p[p.length-1]]))!=ie&&null!=O&&n(z,p,{configurable:!0,writable:!0,value:O})}}("Array.prototype.values",function(p){return p||function(){return function d(p,O){p instanceof String&&(p+="");var z=0,ie=!1,Ze={next:function(){if(!ie&&z<p.length){var pt=z++;return{value:O(pt,p[pt]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Ze[Symbol.iterator]=function(){return Ze},Ze}(this,function(O,z){return z})}});var m=m||{},C=this||self;function M(p){var O=typeof p;return"array"==(O="object"!=O?O:p?Array.isArray(p)?"array":O:"null")||"object"==O&&"number"==typeof p.length}function j(p){var O=typeof p;return"object"==O&&null!=p||"function"==O}function q(p,O,z){return p.call.apply(p.bind,arguments)}function oe(p,O,z){if(!p)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ze,ie),p.apply(O,Ze)}}return function(){return p.apply(O,arguments)}}function Pe(p,O,z){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?q:oe).apply(null,arguments)}function Ye(p,O){var z=Array.prototype.slice.call(arguments,1);return function(){var ie=z.slice();return ie.push.apply(ie,arguments),p.apply(this,ie)}}function It(p,O){function z(){}z.prototype=O.prototype,p.aa=O.prototype,p.prototype=new z,p.prototype.constructor=p,p.Qb=function(ie,Ze,pt){for(var Kt=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)Kt[fi-2]=arguments[fi];return O.prototype[Ze].apply(ie,Kt)}}function Nt(p){const O=p.length;if(0<O){const z=Array(O);for(let ie=0;ie<O;ie++)z[ie]=p[ie];return z}return[]}function Ct(p,O){for(let z=1;z<arguments.length;z++){const ie=arguments[z];if(M(ie)){const Ze=p.length||0,pt=ie.length||0;p.length=Ze+pt;for(let Kt=0;Kt<pt;Kt++)p[Ze+Kt]=ie[Kt]}else p.push(ie)}}function On(p){return/^[\s\xa0]*$/.test(p)}function En(){var p=C.navigator;return p&&(p=p.userAgent)?p:""}function er(p){return er[" "](p),p}er[" "]=function(){};var en=!(-1==En().indexOf("Gecko")||-1!=En().toLowerCase().indexOf("webkit")&&-1==En().indexOf("Edge")||-1!=En().indexOf("Trident")||-1!=En().indexOf("MSIE")||-1!=En().indexOf("Edge"));function hr(p,O,z){for(const ie in p)O.call(z,p[ie],ie,p)}function Ie(p){const O={};for(const z in p)O[z]=p[z];return O}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ze(p,O){let z,ie;for(let Ze=1;Ze<arguments.length;Ze++){for(z in ie=arguments[Ze],ie)p[z]=ie[z];for(let pt=0;pt<ke.length;pt++)z=ke[pt],Object.prototype.hasOwnProperty.call(ie,z)&&(p[z]=ie[z])}}function qe(p){var O=1;p=p.split(":");const z=[];for(;0<O&&p.length;)z.push(p.shift()),O--;return p.length&&z.push(p.join(":")),z}function nt(p){C.setTimeout(()=>{throw p},0)}function Oe(){var p=$h;let O=null;return p.g&&(O=p.g,p.g=p.g.next,p.g||(p.h=null),O.next=null),O}var fc=new class pn{constructor(O,z){this.i=O,this.j=z,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}(()=>new $_,p=>p.reset());class $_{constructor(){this.next=this.g=this.h=null}set(O,z){this.h=O,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let Sl,bl=!1,$h=new class cu{constructor(){this.h=this.g=null}add(O,z){const ie=fc.get();ie.set(O,z),this.h?this.h.next=ie:this.g=ie,this.h=ie}},hm=()=>{const p=C.Promise.resolve(void 0);Sl=()=>{p.then(fm)}};var fm=()=>{for(var p;p=Oe();){try{p.h.call(p.g)}catch(z){nt(z)}var O=fc;O.j(p),100>O.h&&(O.h++,p.next=O.g,O.g=p)}bl=!1};function Hc(){this.s=this.s,this.C=this.C}function Co(p,O){this.type=p,this.g=this.target=O,this.defaultPrevented=!1}Hc.prototype.s=!1,Hc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Co.prototype.h=function(){this.defaultPrevented=!0};var MI=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var p=!1,O=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const z=()=>{};C.addEventListener("test",z,O),C.removeEventListener("test",z,O)}catch{}return p}();function Sd(p,O){if(Co.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var z=this.type=p.type,ie=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=O,O=p.relatedTarget){if(en){e:{try{er(O.nodeName);var Ze=!0;break e}catch{}Ze=!1}Ze||(O=null)}}else"mouseover"==z?O=p.fromElement:"mouseout"==z&&(O=p.toElement);this.relatedTarget=O,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:NI[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Sd.aa.h.call(this)}}It(Sd,Co);var NI={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),OI=0;function xI(p,O,z,ie,Ze){this.listener=p,this.proxy=null,this.src=O,this.type=z,this.capture=!!ie,this.ha=Ze,this.key=++OI,this.da=this.fa=!1}function zh(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Wh(p){this.src=p,this.g={},this.h=0}function pm(p,O){var z=O.type;if(z in p.g){var pt,ie=p.g[z],Ze=Array.prototype.indexOf.call(ie,O,void 0);(pt=0<=Ze)&&Array.prototype.splice.call(ie,Ze,1),pt&&(zh(O),0==p.g[z].length&&(delete p.g[z],p.h--))}}function gm(p,O,z,ie){for(var Ze=0;Ze<p.length;++Ze){var pt=p[Ze];if(!pt.da&&pt.listener==O&&pt.capture==!!z&&pt.ha==ie)return Ze}return-1}Wh.prototype.add=function(p,O,z,ie,Ze){var pt=p.toString();(p=this.g[pt])||(p=this.g[pt]=[],this.h++);var Kt=gm(p,O,ie,Ze);return-1<Kt?(O=p[Kt],z||(O.fa=!1)):((O=new xI(O,this.src,pt,!!ie,Ze)).fa=z,p.push(O)),O};var So="closure_lm_"+(1e6*Math.random()|0),mm={};function H_(p,O,z,ie,Ze){if(ie&&ie.once)return _m(p,O,z,ie,Ze);if(Array.isArray(O)){for(var pt=0;pt<O.length;pt++)H_(p,O[pt],z,ie,Ze);return null}return z=Gh(z),p&&p[Hh]?p.K(O,z,j(ie)?!!ie.capture:!!ie,Ze):kI(p,O,z,!1,ie,Ze)}function kI(p,O,z,ie,Ze,pt){if(!O)throw Error("Invalid event type");var Kt=j(Ze)?!!Ze.capture:!!Ze,fi=Em(p);if(fi||(p[So]=fi=new Wh(p)),(z=fi.add(O,z,ie,Kt,pt)).proxy)return z;if(ie=function ym(){const O=G_;return function p(z){return O.call(p.src,p.listener,z)}}(),z.proxy=ie,ie.src=p,ie.listener=z,p.addEventListener)MI||(Ze=Kt),void 0===Ze&&(Ze=!1),p.addEventListener(O.toString(),ie,Ze);else if(p.attachEvent)p.attachEvent(W_(O.toString()),ie);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(ie)}return z}function _m(p,O,z,ie,Ze){if(Array.isArray(O)){for(var pt=0;pt<O.length;pt++)_m(p,O[pt],z,ie,Ze);return null}return z=Gh(z),p&&p[Hh]?p.L(O,z,j(ie)?!!ie.capture:!!ie,Ze):kI(p,O,z,!0,ie,Ze)}function z_(p,O,z,ie,Ze){if(Array.isArray(O))for(var pt=0;pt<O.length;pt++)z_(p,O[pt],z,ie,Ze);else ie=j(ie)?!!ie.capture:!!ie,z=Gh(z),p&&p[Hh]?(p=p.i,(O=String(O).toString())in p.g&&-1<(z=gm(pt=p.g[O],z,ie,Ze))&&(zh(pt[z]),Array.prototype.splice.call(pt,z,1),0==pt.length&&(delete p.g[O],p.h--))):p&&(p=Em(p))&&(O=p.g[O.toString()],p=-1,O&&(p=gm(O,z,ie,Ze)),(z=-1<p?O[p]:null)&&vm(z))}function vm(p){if("number"!=typeof p&&p&&!p.da){var O=p.src;if(O&&O[Hh])pm(O.i,p);else{var z=p.type,ie=p.proxy;O.removeEventListener?O.removeEventListener(z,ie,p.capture):O.detachEvent?O.detachEvent(W_(z),ie):O.addListener&&O.removeListener&&O.removeListener(ie),(z=Em(O))?(pm(z,p),0==z.h&&(z.src=null,O[So]=null)):zh(p)}}}function W_(p){return p in mm?mm[p]:mm[p]="on"+p}function G_(p,O){if(p.da)p=!0;else{O=new Sd(O,this);var z=p.listener,ie=p.ha||p.src;p.fa&&vm(p),p=z.call(ie,O)}return p}function Em(p){return(p=p[So])instanceof Wh?p:null}var Im="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gh(p){return"function"==typeof p?p:(p[Im]||(p[Im]=function(O){return p.handleEvent(O)}),p[Im])}function bo(){Hc.call(this),this.i=new Wh(this),this.M=this,this.F=null}function Qo(p,O){var z,ie=p.F;if(ie)for(z=[];ie;ie=ie.F)z.push(ie);if(p=p.M,ie=O.type||O,"string"==typeof O)O=new Co(O,p);else if(O instanceof Co)O.target=O.target||p;else{var Ze=O;ze(O=new Co(ie,p),Ze)}if(Ze=!0,z)for(var pt=z.length-1;0<=pt;pt--){var Kt=O.g=z[pt];Ze=vp(Kt,ie,!0,O)&&Ze}if(Ze=vp(Kt=O.g=p,ie,!0,O)&&Ze,Ze=vp(Kt,ie,!1,O)&&Ze,z)for(pt=0;pt<z.length;pt++)Ze=vp(Kt=O.g=z[pt],ie,!1,O)&&Ze}function vp(p,O,z,ie){if(!(O=p.i.g[String(O)]))return!0;O=O.concat();for(var Ze=!0,pt=0;pt<O.length;++pt){var Kt=O[pt];if(Kt&&!Kt.da&&Kt.capture==z){var fi=Kt.listener,oo=Kt.ha||Kt.src;Kt.fa&&pm(p.i,Kt),Ze=!1!==fi.call(oo,ie)&&Ze}}return Ze&&!ie.defaultPrevented}function K_(p,O,z){if("function"==typeof p)z&&(p=Pe(p,z));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=Pe(p.handleEvent,p)}return 2147483647<Number(O)?-1:C.setTimeout(p,O||0)}function q_(p){p.g=K_(()=>{p.g=null,p.i&&(p.i=!1,q_(p))},p.l);const O=p.h;p.h=null,p.m.apply(null,O)}It(bo,Hc),bo.prototype[Hh]=!0,bo.prototype.removeEventListener=function(p,O,z,ie){z_(this,p,O,z,ie)},bo.prototype.N=function(){if(bo.aa.N.call(this),this.i){var O,p=this.i;for(O in p.g){for(var z=p.g[O],ie=0;ie<z.length;ie++)zh(z[ie]);delete p.g[O],p.h--}}this.F=null},bo.prototype.K=function(p,O,z,ie){return this.i.add(String(p),O,!1,z,ie)},bo.prototype.L=function(p,O,z,ie){return this.i.add(String(p),O,!0,z,ie)};class Fu extends Hc{constructor(O,z){super(),this.m=O,this.l=z,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(p){Hc.call(this),this.h=p,this.g={}}It(Rl,Hc);var Q_=[];function X_(p){hr(p.g,function(O,z){this.g.hasOwnProperty(z)&&vm(O)},p),p.g={}}Rl.prototype.N=function(){Rl.aa.N.call(this),X_(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ep=C.JSON.stringify,Y_=C.JSON.parse,Ip=class{stringify(p){return C.JSON.stringify(p,void 0)}parse(p){return C.JSON.parse(p,void 0)}};function Kh(){}function Tm(){}Kh.prototype.h=null;var bd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tp(){Co.call(this,"d")}function Rd(){Co.call(this,"c")}It(Tp,Co),It(Rd,Co);var pc={},Vu=null;function wp(){return Vu=Vu||new bo}function Z_(p){Co.call(this,pc.La,p)}function Pl(p){const O=wp();Qo(O,new Z_(O))}function J_(p,O){Co.call(this,pc.STAT_EVENT,p),this.stat=O}function As(p){const O=wp();Qo(O,new J_(O,p))}function wm(p,O){Co.call(this,pc.Ma,p),this.size=O}function lu(p,O){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){p()},O)}function Uu(){this.g=!0}function Ml(p,O,z,ie){p.info(function(){return"XMLHTTP TEXT ("+O+"): "+function FI(p,O){if(!p.g)return O;if(!O)return null;try{var z=JSON.parse(O);if(z)for(p=0;p<z.length;p++)if(Array.isArray(z[p])){var ie=z[p];if(!(2>ie.length)){var Ze=ie[1];if(Array.isArray(Ze)&&!(1>Ze.length)){var pt=Ze[0];if("noop"!=pt&&"stop"!=pt&&"close"!=pt)for(var Kt=1;Kt<Ze.length;Kt++)Ze[Kt]=""}}}return Ep(z)}catch{return O}}(p,z)+(ie?" "+ie:"")})}pc.La="serverreachability",It(Z_,Co),pc.STAT_EVENT="statevent",It(J_,Co),pc.Ma="timingevent",It(wm,Co),Uu.prototype.xa=function(){this.g=!1},Uu.prototype.info=function(){};var Dm,Ap={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dp(){}function zc(p,O,z,ie){this.j=p,this.i=O,this.l=z,this.R=ie||1,this.U=new Rl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cm}function Cm(){this.i=null,this.g="",this.h=!1}It(Dp,Kh),Dp.prototype.g=function(){return new XMLHttpRequest},Dp.prototype.i=function(){return{}},Dm=new Dp;var nv={},Pd={};function Sm(p,O,z){p.L=1,p.v=Kc(Gc(O)),p.m=z,p.P=!0,bm(p,null)}function bm(p,O){p.F=Date.now(),Cp(p),p.A=Gc(p.v);var z=p.A,ie=p.R;Array.isArray(ie)||(ie=[String(ie)]),mv(z.i,"t",ie),p.C=0,z=p.j.J,p.h=new Cm,p.g=bv(p.j,z?O:null,!p.m),0<p.O&&(p.M=new Fu(Pe(p.Y,p,p.g),p.O)),O=p.U,z=p.g,ie=p.ca;var Ze="readystatechange";Array.isArray(Ze)||(Ze&&(Q_[0]=Ze.toString()),Ze=Q_);for(var pt=0;pt<Ze.length;pt++){var Kt=H_(z,Ze[pt],ie||O.handleEvent,!1,O.h||O);if(!Kt)break;O.g[Kt.key]=Kt}O=p.H?Ie(p.H):{},p.m?(p.u||(p.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,O)):(p.u="GET",p.g.ea(p.A,p.u,null,O)),Pl(),function Am(p,O,z,ie,Ze,pt){p.info(function(){if(p.g)if(pt)for(var Kt="",fi=pt.split("&"),oo=0;oo<fi.length;oo++){var Wr=fi[oo].split("=");if(1<Wr.length){var Os=Wr[0];Wr=Wr[1];var Ro=Os.split("_");Kt=2<=Ro.length&&"type"==Ro[1]?Kt+(Os+"=")+Wr+"&":Kt+(Os+"=redacted&")}}else Kt=null;else Kt=pt;return"XMLHTTP REQ ("+ie+") [attempt "+Ze+"]: "+O+"\n"+z+"\n"+Kt})}(p.i,p.u,p.A,p.l,p.R,p.m)}function rv(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function iv(p,O){var z=p.C,ie=O.indexOf("\n",z);return-1==ie?Pd:(z=Number(O.substring(z,ie)),isNaN(z)?nv:(ie+=1)+z>O.length?Pd:(O=O.slice(ie,ie+z),p.C=ie+z,O))}function Cp(p){p.S=Date.now()+p.I,sv(p,p.I)}function sv(p,O){if(null!=p.B)throw Error("WatchDog timer not null");p.B=lu(Pe(p.ba,p),O)}function Sp(p){p.B&&(C.clearTimeout(p.B),p.B=null)}function Nl(p){0==p.j.G||p.J||Dv(p.j,p)}function Wc(p){Sp(p);var O=p.M;O&&"function"==typeof O.ma&&O.ma(),p.M=null,X_(p.U),p.g&&(O=p.g,p.g=null,O.abort(),O.ma())}function Ol(p,O){try{var z=p.j;if(0!=z.G&&(z.g==p||Rm(z.h,p)))if(!p.K&&Rm(z.h,p)&&3==z.G){try{var ie=z.Da.g.parse(O)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var Ze=ie;if(0==Ze[0]){e:if(!z.u){if(z.g){if(!(z.g.F+3e3<p.F))break e;kp(z),tf(z)}nf(z),As(18)}}else z.za=Ze[1],0<z.za-z.T&&37500>Ze[2]&&z.F&&0==z.v&&!z.C&&(z.C=lu(Pe(z.Za,z),6e3));if(1>=av(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Fl(z,11)}else if((p.K||z.g==p)&&kp(z),!On(O))for(Ze=z.Da.g.parse(O),O=0;O<Ze.length;O++){let Wr=Ze[O];if(z.T=Wr[0],Wr=Wr[1],2==z.G)if("c"==Wr[0]){z.K=Wr[1],z.ia=Wr[2];const Os=Wr[3];null!=Os&&(z.la=Os,z.j.info("VER="+z.la));const Ro=Wr[4];null!=Ro&&(z.Aa=Ro,z.j.info("SVER="+z.Aa));const Bd=Wr[5];null!=Bd&&"number"==typeof Bd&&0<Bd&&(z.L=ie=1.5*Bd,z.j.info("backChannelRequestTimeoutMs_="+ie)),ie=z;const $a=p.g;if($a){const Up=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Up){var pt=ie.h;pt.g||-1==Up.indexOf("spdy")&&-1==Up.indexOf("quic")&&-1==Up.indexOf("h2")||(pt.j=pt.l,pt.g=new Set,pt.h&&(Nd(pt,pt.h),pt.h=null))}if(ie.D){const Fm=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(ie.ya=Fm,Ii(ie.I,ie.D,Fm))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-p.F,z.j.info("Handshake RTT: "+z.R+"ms"));var Kt=p;if((ie=z).qa=Sv(ie,ie.J?ie.ia:null,ie.W),Kt.K){bp(ie.h,Kt);var fi=Kt,oo=ie.L;oo&&(fi.I=oo),fi.B&&(Sp(fi),Cp(fi)),ie.g=Kt}else km(ie);0<z.i.length&&xp(z)}else"stop"!=Wr[0]&&"close"!=Wr[0]||Fl(z,7);else 3==z.G&&("stop"==Wr[0]||"close"==Wr[0]?"stop"==Wr[0]?Fl(z,7):Om(z):"noop"!=Wr[0]&&z.l&&z.l.ta(Wr),z.v=0)}Pl()}catch{}}zc.prototype.ca=function(p){p=p.target;const O=this.M;O&&3==Bu(p)?O.j():this.Y(p)},zc.prototype.Y=function(p){try{if(p==this.g)e:{const Ro=Bu(this.g);var O=this.g.Ba();if(this.g.Z(),!(3>Ro)&&(3!=Ro||this.g&&(this.h.h||this.g.oa()||Iv(this.g)))){this.J||4!=Ro||7==O||Pl(),Sp(this);var z=this.g.Z();this.X=z;t:if(rv(this)){var ie=Iv(this.g);p="";var Ze=ie.length,pt=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wc(this),Nl(this);var Kt="";break t}this.h.i=new C.TextDecoder}for(O=0;O<Ze;O++)this.h.h=!0,p+=this.h.i.decode(ie[O],{stream:!(pt&&O==Ze-1)});ie.length=0,this.h.g+=p,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=200==z,function qh(p,O,z,ie,Ze,pt,Kt){p.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Ze+"]: "+O+"\n"+z+"\n"+pt+" "+Kt})}(this.i,this.u,this.A,this.l,this.R,Ro,z),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,oo=this.g;if((fi=oo.g?oo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(fi)){var Wr=fi;break t}}Wr=null}if(!(z=Wr)){this.o=!1,this.s=3,As(12),Wc(this),Nl(this);break e}Ml(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,z)}if(this.P){let $a;for(z=!0;!this.J&&this.C<Kt.length;){if($a=iv(this,Kt),$a==Pd){4==Ro&&(this.s=4,As(14),z=!1),Ml(this.i,this.l,null,"[Incomplete Response]");break}if($a==nv){this.s=4,As(15),Ml(this.i,this.l,Kt,"[Invalid Chunk]"),z=!1;break}Ml(this.i,this.l,$a,null),Ol(this,$a)}if(rv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ro||0!=Kt.length||this.h.h||(this.s=1,As(16),z=!1),this.o=this.o&&z,z){if(0<Kt.length&&!this.W){this.W=!0;var Os=this.j;Os.g==this&&Os.ba&&!Os.M&&(Os.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),Lm(Os),Os.M=!0,As(11))}}else Ml(this.i,this.l,Kt,"[Invalid Chunked Response]"),Wc(this),Nl(this)}else Ml(this.i,this.l,Kt,null),Ol(this,Kt);4==Ro&&Wc(this),this.o&&!this.J&&(4==Ro?Dv(this.j,this):(this.o=!1,Cp(this)))}else(function ef(p){const O={};p=(p.g&&2<=Bu(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<p.length;ie++){if(On(p[ie]))continue;var z=qe(p[ie]);const Ze=z[0];if("string"!=typeof(z=z[1]))continue;z=z.trim();const pt=O[Ze]||[];O[Ze]=pt,pt.push(z)}!function $e(p,O){for(const z in p)O.call(void 0,p[z],z,p)}(O,function(ie){return ie.join(", ")})})(this.g),400==z&&0<Kt.indexOf("Unknown SID")?(this.s=3,As(12)):(this.s=0,As(13)),Wc(this),Nl(this)}}}catch{}},zc.prototype.cancel=function(){this.J=!0,Wc(this)},zc.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function ev(p,O){p.info(function(){return"TIMEOUT: "+O})}(this.i,this.A),2!=this.L&&(Pl(),As(17)),Wc(this),this.s=2,Nl(this)):sv(this,this.S-p)};var Qh=class{constructor(p,O){this.g=p,this.map=O}};function Md(p){this.l=p||10,p=C.PerformanceNavigationTiming?0<(p=C.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ov(p){return!!p.h||!!p.g&&p.g.size>=p.j}function av(p){return p.h?1:p.g?p.g.size:0}function Rm(p,O){return p.h?p.h==O:!!p.g&&p.g.has(O)}function Nd(p,O){p.g?p.g.add(O):p.h=O}function bp(p,O){p.h&&p.h==O?p.h=null:p.g&&p.g.has(O)&&p.g.delete(O)}function uv(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let O=p.i;for(const z of p.g.values())O=O.concat(z.D);return O}return Nt(p.i)}function cv(p,O){if(p.forEach&&"function"==typeof p.forEach)p.forEach(O,void 0);else if(M(p)||"string"==typeof p)Array.prototype.forEach.call(p,O,void 0);else for(var z=function I0(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(M(p)||"string"==typeof p){var O=[];p=p.length;for(var z=0;z<p;z++)O.push(z);return O}O=[],z=0;for(const ie in p)O[z++]=ie;return O}}}(p),ie=function E0(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(M(p)){for(var O=[],z=p.length,ie=0;ie<z;ie++)O.push(p[ie]);return O}for(ie in O=[],z=0,p)O[z++]=p[ie];return O}(p),Ze=ie.length,pt=0;pt<Ze;pt++)O.call(void 0,ie[pt],z&&z[pt],p)}Md.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var lv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof xl){this.h=p.h,Rp(this,p.j),this.o=p.o,this.g=p.g,Pp(this,p.s),this.l=p.l;var O=p.i,z=new xd;z.i=O.i,O.g&&(z.g=new Map(O.g),z.h=O.h),dv(this,z),this.m=p.m}else p&&(O=String(p).match(lv))?(this.h=!1,Rp(this,O[1]||"",!0),this.o=kl(O[2]||""),this.g=kl(O[3]||"",!0),Pp(this,O[4]),this.l=kl(O[5]||"",!0),dv(this,O[6]||"",!0),this.m=kl(O[7]||"")):(this.h=!1,this.i=new xd(null,this.h))}function Gc(p){return new xl(p)}function Rp(p,O,z){p.j=z?kl(O,!0):O,p.j&&(p.j=p.j.replace(/:$/,""))}function Pp(p,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);p.s=O}else p.s=null}function dv(p,O,z){O instanceof xd?(p.i=O,function Yh(p,O){O&&!p.j&&(gc(p),p.i=null,p.g.forEach(function(z,ie){var Ze=ie.toLowerCase();ie!=Ze&&(Pm(this,ie),mv(this,Ze,z))},p)),p.j=O}(p.i,p.h)):(z||(O=qc(O,Xh)),p.i=new xd(O,p.h))}function Ii(p,O,z){p.i.set(O,z)}function Kc(p){return Ii(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function kl(p,O){return p?O?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function qc(p,O,z){return"string"==typeof p?(p=encodeURI(p).replace(O,hv),z&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function hv(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}xl.prototype.toString=function(){var p=[],O=this.j;O&&p.push(qc(O,Od,!0),":");var z=this.g;return(z||"file"==O)&&(p.push("//"),(O=this.o)&&p.push(qc(O,Od,!0),"@"),p.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(z=this.s)&&p.push(":",String(z))),(z=this.l)&&(this.g&&"/"!=z.charAt(0)&&p.push("/"),p.push(qc(z,"/"==z.charAt(0)?VI:fv,!0))),(z=this.i.toString())&&p.push("?",z),(z=this.m)&&p.push("#",qc(z,pv)),p.join("")};var Od=/[#\/\?@]/g,fv=/[#\?:]/g,VI=/[#\?]/g,Xh=/[#\?@]/g,pv=/#/g;function xd(p,O){this.h=this.g=null,this.i=p||null,this.j=!!O}function gc(p){p.g||(p.g=new Map,p.h=0,p.i&&function T0(p,O){if(p){p=p.split("&");for(var z=0;z<p.length;z++){var ie=p[z].indexOf("="),Ze=null;if(0<=ie){var pt=p[z].substring(0,ie);Ze=p[z].substring(ie+1)}else pt=p[z];O(pt,Ze?decodeURIComponent(Ze.replace(/\+/g," ")):"")}}}(p.i,function(O,z){p.add(decodeURIComponent(O.replace(/\+/g," ")),z)}))}function Pm(p,O){gc(p),O=kd(p,O),p.g.has(O)&&(p.i=null,p.h-=p.g.get(O).length,p.g.delete(O))}function gv(p,O){return gc(p),O=kd(p,O),p.g.has(O)}function mv(p,O,z){Pm(p,O),0<z.length&&(p.i=null,p.g.set(kd(p,O),Nt(z)),p.h+=z.length)}function kd(p,O){return O=String(O),p.j&&(O=O.toLowerCase()),O}function Qc(p,O,z,ie,Ze){try{Ze&&(Ze.onload=null,Ze.onerror=null,Ze.onabort=null,Ze.ontimeout=null),ie(z)}catch{}}function Mp(){this.g=new Ip}function yv(p,O,z){const ie=z||"";try{cv(p,function(Ze,pt){let Kt=Ze;j(Ze)&&(Kt=Ep(Ze)),O.push(ie+pt+"="+encodeURIComponent(Kt))})}catch(Ze){throw O.push(ie+"type="+encodeURIComponent("_badmap")),Ze}}function Ld(p){this.l=p.Ub||null,this.j=p.eb||!1}function Zh(p,O){bo.call(this),this.D=p,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _v(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function Fd(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ll(p)}function Ll(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function Jh(p){let O="";return hr(p,function(z,ie){O+=ie,O+=":",O+=z,O+="\r\n"}),O}function Mm(p,O,z){e:{for(ie in z){var ie=!1;break e}ie=!0}ie||(z=Jh(z),"string"==typeof p?null!=z&&encodeURIComponent(String(z)):Ii(p,O,z))}function ns(p){bo.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=xd.prototype).add=function(p,O){gc(this),this.i=null,p=kd(this,p);var z=this.g.get(p);return z||this.g.set(p,z=[]),z.push(O),this.h+=1,this},u.forEach=function(p,O){gc(this),this.g.forEach(function(z,ie){z.forEach(function(Ze){p.call(O,Ze,ie,this)},this)},this)},u.na=function(){gc(this);const p=Array.from(this.g.values()),O=Array.from(this.g.keys()),z=[];for(let ie=0;ie<O.length;ie++){const Ze=p[ie];for(let pt=0;pt<Ze.length;pt++)z.push(O[ie])}return z},u.V=function(p){gc(this);let O=[];if("string"==typeof p)gv(this,p)&&(O=O.concat(this.g.get(kd(this,p))));else{p=Array.from(this.g.values());for(let z=0;z<p.length;z++)O=O.concat(p[z])}return O},u.set=function(p,O){return gc(this),this.i=null,gv(this,p=kd(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[O]),this.h+=1,this},u.get=function(p,O){return p&&0<(p=this.V(p)).length?String(p[0]):O},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],O=Array.from(this.g.keys());for(var z=0;z<O.length;z++){var ie=O[z];const pt=encodeURIComponent(String(ie)),Kt=this.V(ie);for(ie=0;ie<Kt.length;ie++){var Ze=pt;""!==Kt[ie]&&(Ze+="="+encodeURIComponent(String(Kt[ie]))),p.push(Ze)}}return this.i=p.join("&")},It(Ld,Kh),Ld.prototype.g=function(){return new Zh(this.l,this.j)},Ld.prototype.i=function(p){return function(){return p}}({}),It(Zh,bo),(u=Zh.prototype).open=function(p,O){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=O,this.readyState=1,Ll(this)},u.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(O.body=p),(this.D||C).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fd(this)),this.readyState=0},u.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_v(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var O=p.value?p.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!p.done}))&&(this.response=this.responseText+=O)}p.done?Fd(this):Ll(this),3==this.readyState&&_v(this)}},u.Ra=function(p){this.g&&(this.response=this.responseText=p,Fd(this))},u.Qa=function(p){this.g&&(this.response=p,Fd(this))},u.ga=function(){this.g&&Fd(this)},u.setRequestHeader=function(p,O){this.u.append(p,O)},u.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],O=this.h.entries();for(var z=O.next();!z.done;)p.push((z=z.value)[0]+": "+z[1]),z=O.next();return p.join("\r\n")},Object.defineProperty(Zh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),It(ns,bo);var jI=/^https?$/i,$I=["POST","PUT"];function vv(p,O){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=O,p.m=5,Ev(p),Xc(p)}function Ev(p){p.A||(p.A=!0,Qo(p,"complete"),Qo(p,"error"))}function Np(p){if(p.h&&typeof m<"u"&&(!p.v[1]||4!=Bu(p)||2!=p.Z()))if(p.u&&4==Bu(p))K_(p.Ea,0,p);else if(Qo(p,"readystatechange"),4==Bu(p)){p.h=!1;try{const Kt=p.Z();e:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var z;if(!(z=O)){var ie;if(ie=0===Kt){var Ze=String(p.D).match(lv)[1]||null;!Ze&&C.self&&C.self.location&&(Ze=C.self.location.protocol.slice(0,-1)),ie=!jI.test(Ze?Ze.toLowerCase():"")}z=ie}if(z)Qo(p,"complete"),Qo(p,"success");else{p.m=6;try{var pt=2<Bu(p)?p.g.statusText:""}catch{pt=""}p.l=pt+" ["+p.Z()+"]",Ev(p)}}finally{Xc(p)}}}function Xc(p,O){if(p.g){Nm(p);const z=p.g,ie=p.v[0]?()=>{}:null;p.g=null,p.v=null,O||Qo(p,"ready");try{z.onreadystatechange=ie}catch{}}}function Nm(p){p.I&&(C.clearTimeout(p.I),p.I=null)}function Bu(p){return p.g?p.g.readyState:0}function Iv(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(p,O,z){return z&&z.internalChannelParams&&z.internalChannelParams[p]||O}function HI(p){this.Aa=0,this.i=[],this.j=new Uu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yc("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yc("baseRetryDelayMs",5e3,p),this.cb=Yc("retryDelaySeedMs",1e4,p),this.Wa=Yc("forwardChannelMaxRetries",2,p),this.wa=Yc("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Md(p&&p.concurrentRequestLimit),this.Da=new Mp,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Om(p){if(Op(p),3==p.G){var O=p.U++,z=Gc(p.I);if(Ii(z,"SID",p.K),Ii(z,"RID",O),Ii(z,"TYPE","terminate"),Vd(p,z),(O=new zc(p,p.j,O)).L=2,O.v=Kc(Gc(z)),z=!1,C.navigator&&C.navigator.sendBeacon)try{z=C.navigator.sendBeacon(O.v.toString(),"")}catch{}!z&&C.Image&&((new Image).src=O.v,z=!0),z||(O.g=bv(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Cp(O)}Lp(p)}function tf(p){p.g&&(Lm(p),p.g.cancel(),p.g=null)}function Op(p){tf(p),p.u&&(C.clearTimeout(p.u),p.u=null),kp(p),p.h.cancel(),p.s&&("number"==typeof p.s&&C.clearTimeout(p.s),p.s=null)}function xp(p){if(!ov(p.h)&&!p.s){p.s=!0;var O=p.Ga;Sl||hm(),bl||(Sl(),bl=!0),$h.add(O,p),p.B=0}}function wv(p,O){var z;z=O?O.l:p.U++;const ie=Gc(p.I);Ii(ie,"SID",p.K),Ii(ie,"RID",z),Ii(ie,"AID",p.T),Vd(p,ie),p.m&&p.o&&Mm(ie,p.m,p.o),z=new zc(p,p.j,z,p.B+1),null===p.m&&(z.H=p.o),O&&(p.i=O.D.concat(p.i)),O=xm(p,z,1e3),z.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Nd(p.h,z),Sm(z,ie,O)}function Vd(p,O){p.H&&hr(p.H,function(z,ie){Ii(O,ie,z)}),p.l&&cv({},function(z,ie){Ii(O,ie,z)})}function xm(p,O,z){z=Math.min(p.i.length,z);var ie=p.l?Pe(p.l.Na,p.l,p):null;e:{var Ze=p.i;let pt=-1;for(;;){const Kt=["count="+z];-1==pt?0<z?(pt=Ze[0].g,Kt.push("ofs="+pt)):pt=0:Kt.push("ofs="+pt);let fi=!0;for(let oo=0;oo<z;oo++){let Wr=Ze[oo].g;const Os=Ze[oo].map;if(Wr-=pt,0>Wr)pt=Math.max(0,Ze[oo].g-100),fi=!1;else try{yv(Os,Kt,"req"+Wr+"_")}catch{ie&&ie(Os)}}if(fi){ie=Kt.join("&");break e}}}return p=p.i.splice(0,z),O.D=p,ie}function km(p){if(!p.g&&!p.u){p.Y=1;var O=p.Fa;Sl||hm(),bl||(Sl(),bl=!0),$h.add(O,p),p.v=0}}function nf(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=lu(Pe(p.Fa,p),Cv(p,p.v)),p.v++,0))}function Lm(p){null!=p.A&&(C.clearTimeout(p.A),p.A=null)}function Av(p){p.g=new zc(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var O=Gc(p.qa);Ii(O,"RID","rpc"),Ii(O,"SID",p.K),Ii(O,"AID",p.T),Ii(O,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ii(O,"TO",p.ja),Ii(O,"TYPE","xmlhttp"),Vd(p,O),p.m&&p.o&&Mm(O,p.m,p.o),p.L&&(p.g.I=p.L);var z=p.g;p=p.ia,z.L=1,z.v=Kc(Gc(O)),z.m=null,z.P=!0,bm(z,p)}function kp(p){null!=p.C&&(C.clearTimeout(p.C),p.C=null)}function Dv(p,O){var z=null;if(p.g==O){kp(p),Lm(p),p.g=null;var ie=2}else{if(!Rm(p.h,O))return;z=O.D,bp(p.h,O),ie=1}if(0!=p.G)if(O.o)if(1==ie){z=O.m?O.m.length:0,O=Date.now()-O.F;var Ze=p.B;Qo(ie=wp(),new wm(ie,z)),xp(p)}else km(p);else if(3==(Ze=O.s)||0==Ze&&0<O.X||!(1==ie&&function Tv(p,O){return!(av(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=O.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=lu(Pe(p.Ga,p,O),Cv(p,p.B)),p.B++,0)))}(p,O)||2==ie&&nf(p)))switch(z&&0<z.length&&(O=p.h,O.i=O.i.concat(z)),Ze){case 1:Fl(p,5);break;case 4:Fl(p,10);break;case 3:Fl(p,6);break;default:Fl(p,2)}}function Cv(p,O){let z=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(z*=2),z*O}function Fl(p,O){if(p.j.info("Error code "+O),2==O){var z=Pe(p.fb,p),ie=p.Xa;const Ze=!ie;ie=new xl(ie||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Rp(ie,"https"),Kc(ie),Ze?function UI(p,O){const z=new Uu;if(C.Image){const ie=new Image;ie.onload=Ye(Qc,z,"TestLoadImage: loaded",!0,O,ie),ie.onerror=Ye(Qc,z,"TestLoadImage: error",!1,O,ie),ie.onabort=Ye(Qc,z,"TestLoadImage: abort",!1,O,ie),ie.ontimeout=Ye(Qc,z,"TestLoadImage: timeout",!1,O,ie),C.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=p}else O(!1)}(ie.toString(),z):function BI(p,O){new Uu;const ie=new AbortController,Ze=setTimeout(()=>{ie.abort(),Qc(0,0,!1,O)},1e4);fetch(p,{signal:ie.signal}).then(pt=>{clearTimeout(Ze),Qc(0,0,!!pt.ok,O)}).catch(()=>{clearTimeout(Ze),Qc(0,0,!1,O)})}(ie.toString(),z)}else As(2);p.G=0,p.l&&p.l.sa(O),Lp(p),Op(p)}function Lp(p){if(p.G=0,p.ka=[],p.l){const O=uv(p.h);(0!=O.length||0!=p.i.length)&&(Ct(p.ka,O),Ct(p.ka,p.i),p.h.i.length=0,Nt(p.i),p.i.length=0),p.l.ra()}}function Sv(p,O,z){var ie=z instanceof xl?Gc(z):new xl(z);if(""!=ie.g)O&&(ie.g=O+"."+ie.g),Pp(ie,ie.s);else{var Ze=C.location;ie=Ze.protocol,O=O?O+"."+Ze.hostname:Ze.hostname,Ze=+Ze.port;var pt=new xl(null);ie&&Rp(pt,ie),O&&(pt.g=O),Ze&&Pp(pt,Ze),z&&(pt.l=z),ie=pt}return O=p.ya,(z=p.D)&&O&&Ii(ie,z,O),Ii(ie,"VER",p.la),Vd(p,ie),ie}function bv(p,O,z){if(O&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(O=new ns(p.Ca&&!p.pa?new Ld({eb:z}):p.pa)).Ha(p.J),O}function Rv(){}function ju(){}function so(p,O){bo.call(this),this.g=new HI(O),this.l=p,this.h=O&&O.messageUrlParams||null,p=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(p?p["X-WebChannel-Content-Type"]=O.messageContentType:p={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(p?p["X-WebChannel-Client-Profile"]=O.va:p={"X-WebChannel-Client-Profile":O.va}),this.g.S=p,(p=O&&O.Sb)&&!On(p)&&(this.g.m=p),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!On(O)&&(this.g.D=O,null!==(p=this.h)&&O in p&&O in(p=this.h)&&delete p[O]),this.j=new Ud(this)}function Fp(p){Tp.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var O=p.__sm__;if(O){e:{for(const z in O){p=z;break e}p=void 0}(this.i=p)&&(p=this.i,O=null!==O&&p in O?O[p]:void 0),this.data=O}else this.data=p}function Vp(){Rd.call(this),this.status=1}function Ud(p){this.g=p}(u=ns.prototype).Ha=function(p){this.J=p},u.ea=function(p,O,z,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);O=O?O.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dm.g(),this.v=function LI(p){return p.h||(p.h=p.i())}(this.o?this.o:Dm),this.g.onreadystatechange=Pe(this.Ea,this);try{this.B=!0,this.g.open(O,String(p),!0),this.B=!1}catch(pt){return void vv(this,pt)}if(p=z||"",z=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Ze in ie)z.set(Ze,ie[Ze]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const pt of ie.keys())z.set(pt,ie.get(pt))}ie=Array.from(z.keys()).find(pt=>"content-type"==pt.toLowerCase()),Ze=C.FormData&&p instanceof C.FormData,!(0<=Array.prototype.indexOf.call($I,O,void 0))||ie||Ze||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pt,Kt]of z)this.g.setRequestHeader(pt,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nm(this),this.u=!0,this.g.send(p),this.u=!1}catch(pt){vv(this,pt)}},u.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Qo(this,"complete"),Qo(this,"abort"),Xc(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),ns.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Np(this):this.bb())},u.bb=function(){Np(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(p){if(this.g){var O=this.g.responseText;return p&&0==O.indexOf(p)&&(O=O.substring(p.length)),Y_(O)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=HI.prototype).la=8,u.G=1,u.connect=function(p,O,z,ie){As(0),this.W=p,this.H=O||{},z&&void 0!==ie&&(this.H.OSID=z,this.H.OAID=ie),this.F=this.X,this.I=Sv(this,null,this.W),xp(this)},u.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Ze=new zc(this,this.j,p);let pt=this.o;if(this.S&&(pt?(pt=Ie(pt),ze(pt,this.S)):pt=this.S),null!==this.m||this.O||(Ze.H=pt,pt=null),this.P)e:{for(var O=0,z=0;z<this.i.length;z++){var ie=this.i[z];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(O+=ie)){O=z;break e}if(4096===O||z===this.i.length-1){O=z+1;break e}}O=1e3}else O=1e3;O=xm(this,Ze,O),Ii(z=Gc(this.I),"RID",p),Ii(z,"CVER",22),this.D&&Ii(z,"X-HTTP-Session-Id",this.D),Vd(this,z),pt&&(this.O?O="headers="+encodeURIComponent(String(Jh(pt)))+"&"+O:this.m&&Mm(z,this.m,pt)),Nd(this.h,Ze),this.Ua&&Ii(z,"TYPE","init"),this.P?(Ii(z,"$req",O),Ii(z,"SID","null"),Ze.T=!0,Sm(Ze,z,null)):Sm(Ze,z,O),this.G=2}}else 3==this.G&&(p?wv(this,p):0==this.i.length||ov(this.h)||wv(this))},u.Fa=function(){if(this.u=null,Av(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=lu(Pe(this.ab,this),p)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,As(10),tf(this),Av(this))},u.Za=function(){null!=this.C&&(this.C=null,tf(this),nf(this),As(19))},u.fb=function(p){p?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Rv.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},ju.prototype.g=function(p,O){return new so(p,O)},It(so,bo),so.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},so.prototype.close=function(){Om(this.g)},so.prototype.o=function(p){var O=this.g;if("string"==typeof p){var z={};z.__data__=p,p=z}else this.u&&((z={}).__data__=Ep(p),p=z);O.i.push(new Qh(O.Ya++,p)),3==O.G&&xp(O)},so.prototype.N=function(){this.g.l=null,delete this.j,Om(this.g),delete this.g,so.aa.N.call(this)},It(Fp,Tp),It(Vp,Rd),It(Ud,Rv),Ud.prototype.ua=function(){Qo(this.g,"a")},Ud.prototype.ta=function(p){Qo(this.g,new Fp(p))},Ud.prototype.sa=function(p){Qo(this.g,new Vp)},Ud.prototype.ra=function(){Qo(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,so.prototype.send=so.prototype.o,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,Tt=Lt.createWebChannelTransport=function(){return new ju},Ce=Lt.getStatEventTarget=function(){return wp()},Te=Lt.Event=pc,dt=Lt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ap.NO_ERROR=0,Ap.TIMEOUT=8,Ap.HTTP_ERROR=6,He=Lt.ErrorCode=Ap,tv.COMPLETE="complete",gn=Lt.EventType=tv,Tm.EventType=bd,bd.OPEN="a",bd.CLOSE="b",bd.ERROR="c",bd.MESSAGE="d",bo.prototype.listen=bo.prototype.K,Nn=Lt.WebChannel=Tm,zt=Lt.FetchXmlHttpFactory=Ld,ns.prototype.listenOnce=ns.prototype.L,ns.prototype.getLastError=ns.prototype.Ka,ns.prototype.getLastErrorCode=ns.prototype.Ba,ns.prototype.getStatus=ns.prototype.Z,ns.prototype.getResponseJson=ns.prototype.Oa,ns.prototype.getResponseText=ns.prototype.oa,ns.prototype.send=ns.prototype.ea,ns.prototype.setWithCredentials=ns.prototype.Ha,Wt=Lt.XhrIo=ns}).apply(typeof Dt<"u"?Dt:typeof self<"u"?self:typeof window<"u"?window:{});const Ft="@firebase/firestore";class Ae{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");let Qe="10.13.2";const bt=new ae.Vy("@firebase/firestore");function In(){return bt.logLevel}function ct(u,...n){if(bt.logLevel<=ae.$b.DEBUG){const i=n.map(Yt);bt.debug(`Firestore (${Qe}): ${u}`,...i)}}function Mt(u,...n){if(bt.logLevel<=ae.$b.ERROR){const i=n.map(Yt);bt.error(`Firestore (${Qe}): ${u}`,...i)}}function Xt(u,...n){if(bt.logLevel<=ae.$b.WARN){const i=n.map(Yt);bt.warn(`Firestore (${Qe}): ${u}`,...i)}}function Yt(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function pe(u="Unexpected state"){const n=`FIRESTORE (${Qe}) INTERNAL ASSERTION FAILED: `+u;throw Mt(n),new Error(n)}function me(u,n){u||pe()}function be(u,n){return u}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Y.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Gn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Dr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Ae.UNAUTHENTICATED))}shutdown(){}}class nn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Un{constructor(n){this.t=n,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var o=this;let c=this.i;const d=j=>this.i!==c?(c=this.i,i(j)):Promise.resolve();let m=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ut,n.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const j=m;n.enqueueRetryable((0,V.A)(function*(){yield j.promise,yield d(o.currentUser)}))},M=j=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ut)}},0),C()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==n?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(me("string"==typeof o.accessToken),new Gn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return me(null===n||"string"==typeof n),new Ae(n)}}class Kn{constructor(n,i,o){this.l=n,this.h=i,this.P=o,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ur{constructor(n,i,o){this.l=n,this.h=i,this.P=o}getToken(){return Promise.resolve(new Kn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Er{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const o=d=>{null!=d.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.R;return this.R=d.token,ct("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(d.token):Promise.resolve()};this.o=d=>{n.enqueueRetryable(()=>o(d))};const c=d=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(me("string"==typeof i.token),this.R=i.token,new nr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ar(u){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let o=0;o<u;o++)i[o]=Math.floor(256*Math.random());return i}class ui{static newId(){const i=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=ar(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return o}}function on(u,n){return u<n?-1:u>n?1:0}function pi(u,n,i){return u.length===n.length&&u.every((o,c)=>i(o,n[c]))}class ir{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return ir.fromMillis(Date.now())}static fromDate(n){return ir.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*i));return new ir(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?on(this.nanoseconds,n.nanoseconds):on(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(n){this.timestamp=n}static fromTimestamp(n){return new _t(n)}static min(){return new _t(new ir(0,0))}static max(){return new _t(new ir(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bi{constructor(n,i,o){void 0===i?i=0:i>n.length&&pe(),void 0===o?o=n.length-i:o>n.length-i&&pe(),this.segments=n,this.offset=i,this.len=o}get length(){return this.len}isEqual(n){return 0===bi.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof bi?n.forEach(o=>{i.push(o)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,o=this.limit();i<o;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const o=Math.min(n.length,i.length);for(let c=0;c<o;c++){const d=n.get(c),m=i.get(c);if(d<m)return-1;if(d>m)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class yn extends bi{construct(n,i,o){return new yn(n,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const o of n){if(o.indexOf("//")>=0)throw new ge(ce.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new yn(i)}static emptyPath(){return new yn([])}}const zn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends bi{construct(n,i,o){return new yt(n,i,o)}static isValidIdentifier(n){return zn.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yt(["__name__"])}static fromServerFormat(n){const i=[];let o="",c=0;const d=()=>{if(0===o.length)throw new ge(ce.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;c<n.length;){const C=n[c];if("\\"===C){if(c+1===n.length)throw new ge(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const M=n[c+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new ge(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=M,c+=2}else"`"===C?(m=!m,c++):"."!==C||m?(o+=C,c++):(d(),c++)}if(d(),m)throw new ge(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new yt(i)}static emptyPath(){return new yt([])}}class Ot{constructor(n){this.path=n}static fromPath(n){return new Ot(yn.fromString(n))}static fromName(n){return new Ot(yn.fromString(n).popFirst(5))}static empty(){return new Ot(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===yn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return yn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ot(new yn(n.slice()))}}class Br{constructor(n,i,o){this.readTime=n,this.documentKey=i,this.largestBatchId=o}static min(){return new Br(_t.min(),Ot.empty(),-1)}static max(){return new Br(_t.max(),Ot.empty(),-1)}}function Cr(u,n){let i=u.readTime.compareTo(n.readTime);return 0!==i?i:(i=Ot.comparator(u.documentKey,n.documentKey),0!==i?i:on(u.largestBatchId,n.largestBatchId))}const jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function $r(u){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,V.A)(function*(u){if(u.code!==ce.FAILED_PRECONDITION||u.message!==jr)throw u;ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Me{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Me((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(i,d).next(o,c)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Me?i:Me.resolve(i)}catch(i){return Me.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Me.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Me.reject(i)}static resolve(n){return new Me((i,o)=>{i(n)})}static reject(n){return new Me((i,o)=>{o(n)})}static waitFor(n){return new Me((i,o)=>{let c=0,d=0,m=!1;n.forEach(C=>{++c,C.next(()=>{++d,m&&d===c&&i()},M=>o(M))}),m=!0,d===c&&i()})}static or(n){let i=Me.resolve(!1);for(const o of n)i=i.next(c=>c?Me.resolve(c):o());return i}static forEach(n,i){const o=[];return n.forEach((c,d)=>{o.push(i.call(this,c,d))}),this.waitFor(o)}static mapArray(n,i){return new Me((o,c)=>{const d=n.length,m=new Array(d);let C=0;for(let M=0;M<d;M++){const j=M;i(n[j]).next(q=>{m[j]=q,++C,C===d&&o(m)},q=>c(q))}})}static doWhile(n,i){return new Me((o,c)=>{const d=()=>{!0===n()?i().next(()=>{d()},c):o()};d()})}}function se(u){return"IndexedDbTransactionError"===u.name}let Jn=(()=>{class u{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function Nr(u){return null==u}function fr(u){return 0===u&&1/u==-1/0}function ni(u){let n=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n++;return n}function qn(u,n){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n(i,u[i])}function pr(u){for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n))return!1;return!0}class cn{constructor(n,i){this.comparator=n,this.root=i||vr.EMPTY}insert(n,i){return new cn(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(n){return new cn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,vr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(n,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(n){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(n,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,o)=>(n(i,o),!1))}toString(){const n=[];return this.inorderTraversal((i,o)=>(n.push(`${i}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new _n(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new _n(this.root,n,this.comparator,!1)}getReverseIterator(){return new _n(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new _n(this.root,n,this.comparator,!0)}}class _n{constructor(n,i,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=i?o(n.key,i):1,i&&c&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class vr{constructor(n,i,o,c,d){this.key=n,this.value=i,this.color=o??vr.RED,this.left=c??vr.EMPTY,this.right=d??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,o,c,d){return new vr(n??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,o){let c=this;const d=o(n,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(n,i,o),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let o,c=this;if(i(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(n,c.key)){if(c.right.isEmpty())return vr.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const n=this.left.check();if(n!==this.right.check())throw pe();return n+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1,vr.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(n,i,o,c,d){return this}insert(n,i,o){return new vr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(n){this.comparator=n,this.data=new cn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,o)=>(n(i),!1))}forEachInRange(n,i){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,n[1])>=0)return;i(c.key)}}forEachWhile(n,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mi(this.data.getIterator())}getIteratorFrom(n){return new Mi(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(o=>{i=i.add(o)}),i}isEqual(n){if(!(n instanceof sn)||this.size!==n.size)return!1;const i=this.data.getIterator(),o=n.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new sn(this.comparator);return i.data=n,i}}class Mi{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qr{constructor(n){this.fields=n,n.sort(yt.comparator)}static empty(){return new qr([])}unionWith(n){let i=new sn(yt.comparator);for(const o of this.fields)i=i.add(o);for(const o of n)i=i.add(o);return new qr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return pi(this.fields,n.fields,(i,o)=>i.isEqual(o))}}class Li extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Or{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Li("Invalid base64 string: "+d):d}}(n);return new Or(i)}static fromUint8Array(n){const i=function(c){let d="";for(let m=0;m<c.length;++m)d+=String.fromCharCode(c[m]);return d}(n);return new Or(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return on(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const ca=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(u){if(me(!!u),"string"==typeof u){let n=0;const i=ca.exec(u);if(me(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),n=Number(c)}const o=new Date(u);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:Fr(u.seconds),nanos:Fr(u.nanos)}}function Fr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ds(u){return"string"==typeof u?Or.fromBase64String(u):Or.fromUint8Array(u)}function Ea(u){var n,i;return"server_timestamp"===(null===(i=((null===(n=u?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Po(u){const n=u.mapValue.fields.__previous_value__;return Ea(n)?Po(n):n}function Mo(u){const n=Qi(u.mapValue.fields.__local_write_time__.timestampValue);return new ir(n.seconds,n.nanos)}class Wa{constructor(n,i,o,c,d,m,C,M,j){this.databaseId=n,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.longPollingOptions=M,this.useFetchStreams=j}}class No{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof No&&n.projectId===this.projectId&&n.database===this.database}}const qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Ea(u)?4:$s(u)?9007199254740991:js(u)?10:11:pe()}function hs(u,n){if(u===n)return!0;const i=Bs(u);if(i!==Bs(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===n.booleanValue;case 4:return Mo(u).isEqual(Mo(n));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const m=Qi(c.timestampValue),C=Qi(d.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(u,n);case 5:return u.stringValue===n.stringValue;case 6:return d=n,ds(u.bytesValue).isEqual(ds(d.bytesValue));case 7:return u.referenceValue===n.referenceValue;case 8:return function(c,d){return Fr(c.geoPointValue.latitude)===Fr(d.geoPointValue.latitude)&&Fr(c.geoPointValue.longitude)===Fr(d.geoPointValue.longitude)}(u,n);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return Fr(c.integerValue)===Fr(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const m=Fr(c.doubleValue),C=Fr(d.doubleValue);return m===C?fr(m)===fr(C):isNaN(m)&&isNaN(C)}return!1}(u,n);case 9:return pi(u.arrayValue.values||[],n.arrayValue.values||[],hs);case 10:case 11:return function(c,d){const m=c.mapValue.fields||{},C=d.mapValue.fields||{};if(ni(m)!==ni(C))return!1;for(const M in m)if(m.hasOwnProperty(M)&&(void 0===C[M]||!hs(m[M],C[M])))return!1;return!0}(u,n);default:return pe()}var d}function Cs(u,n){return void 0!==(u.values||[]).find(i=>hs(i,n))}function is(u,n){if(u===n)return 0;const i=Bs(u),o=Bs(n);if(i!==o)return on(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return on(u.booleanValue,n.booleanValue);case 2:return function(d,m){const C=Fr(d.integerValue||d.doubleValue),M=Fr(m.integerValue||m.doubleValue);return C<M?-1:C>M?1:C===M?0:isNaN(C)?isNaN(M)?0:-1:1}(u,n);case 3:return Yo(u.timestampValue,n.timestampValue);case 4:return Yo(Mo(u),Mo(n));case 5:return on(u.stringValue,n.stringValue);case 6:return function(d,m){const C=ds(d),M=ds(m);return C.compareTo(M)}(u.bytesValue,n.bytesValue);case 7:return function(d,m){const C=d.split("/"),M=m.split("/");for(let j=0;j<C.length&&j<M.length;j++){const q=on(C[j],M[j]);if(0!==q)return q}return on(C.length,M.length)}(u.referenceValue,n.referenceValue);case 8:return function(d,m){const C=on(Fr(d.latitude),Fr(m.latitude));return 0!==C?C:on(Fr(d.longitude),Fr(m.longitude))}(u.geoPointValue,n.geoPointValue);case 9:return Qs(u.arrayValue,n.arrayValue);case 10:return function(d,m){var C,M,j,q;const Ye=null===(C=(d.fields||{}).value)||void 0===C?void 0:C.arrayValue,It=null===(M=(m.fields||{}).value)||void 0===M?void 0:M.arrayValue,Nt=on((null===(j=Ye?.values)||void 0===j?void 0:j.length)||0,(null===(q=It?.values)||void 0===q?void 0:q.length)||0);return 0!==Nt?Nt:Qs(Ye,It)}(u.mapValue,n.mapValue);case 11:return function(d,m){if(d===qs.mapValue&&m===qs.mapValue)return 0;if(d===qs.mapValue)return 1;if(m===qs.mapValue)return-1;const C=d.fields||{},M=Object.keys(C),j=m.fields||{},q=Object.keys(j);M.sort(),q.sort();for(let oe=0;oe<M.length&&oe<q.length;++oe){const Pe=on(M[oe],q[oe]);if(0!==Pe)return Pe;const Ye=is(C[M[oe]],j[q[oe]]);if(0!==Ye)return Ye}return on(M.length,q.length)}(u.mapValue,n.mapValue);default:throw pe()}}function Yo(u,n){if("string"==typeof u&&"string"==typeof n&&u.length===n.length)return on(u,n);const i=Qi(u),o=Qi(n),c=on(i.seconds,o.seconds);return 0!==c?c:on(i.nanos,o.nanos)}function Qs(u,n){const i=u.values||[],o=n.values||[];for(let c=0;c<i.length&&c<o.length;++c){const d=is(i[c],o[c]);if(d)return d}return on(i.length,o.length)}function Ss(u){return Ga(u)}function Ga(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const o=Qi(i);return`time(${o.seconds},${o.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ds(u.bytesValue).toBase64():"referenceValue"in u?Ot.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let o="[",c=!0;for(const d of i.values||[])c?c=!1:o+=",",o+=Ga(d);return o+"]"}(u.arrayValue):"mapValue"in u?function(i){const o=Object.keys(i.fields||{}).sort();let c="{",d=!0;for(const m of o)d?d=!1:c+=",",c+=`${m}:${Ga(i.fields[m])}`;return c+"}"}(u.mapValue):pe()}function lo(u,n){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${n.path.canonicalString()}`}}function Ia(u){return!!u&&"integerValue"in u}function Zo(u){return!!u&&"arrayValue"in u}function Jo(u){return!!u&&"nullValue"in u}function Fi(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Xi(u){return!!u&&"mapValue"in u}function js(u){var n,i;return"__vector__"===(null===(i=((null===(n=u?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function xo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const n={mapValue:{fields:{}}};return qn(u.mapValue.fields,(i,o)=>n.mapValue.fields[i]=xo(o)),n}if(u.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=xo(u.arrayValue.values[i]);return n}return Object.assign({},u)}function $s(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class St{constructor(n){this.value=n}static empty(){return new St({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let o=0;o<n.length-1;++o)if(i=(i.mapValue.fields||{})[n.get(o)],!Xi(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=xo(i)}setAll(n){let i=yt.emptyPath(),o={},c=[];n.forEach((m,C)=>{if(!i.isImmediateParentOf(C)){const M=this.getFieldsMap(i);this.applyChanges(M,o,c),o={},c=[],i=C.popLast()}m?o[C.lastSegment()]=xo(m):c.push(C.lastSegment())});const d=this.getFieldsMap(i);this.applyChanges(d,o,c)}delete(n){const i=this.field(n.popLast());Xi(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return hs(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<n.length;++o){let c=i.mapValue.fields[n.get(o)];Xi(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[n.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(n,i,o){qn(i,(c,d)=>n[c]=d);for(const c of o)delete n[c]}clone(){return new St(xo(this.value))}}function fo(u){const n=[];return qn(u.fields,(i,o)=>{const c=new yt([i]);if(Xi(o)){const d=fo(o.mapValue).fields;if(0===d.length)n.push(c);else for(const m of d)n.push(c.child(m))}else n.push(c)}),new qr(n)}class Ir{constructor(n,i,o,c,d,m,C){this.key=n,this.documentType=i,this.version=o,this.readTime=c,this.createTime=d,this.data=m,this.documentState=C}static newInvalidDocument(n){return new Ir(n,0,_t.min(),_t.min(),_t.min(),St.empty(),0)}static newFoundDocument(n,i,o,c){return new Ir(n,1,i,_t.min(),o,c,0)}static newNoDocument(n,i){return new Ir(n,2,i,_t.min(),_t.min(),St.empty(),0)}static newUnknownDocument(n,i){return new Ir(n,3,i,_t.min(),_t.min(),St.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ir&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ni{constructor(n,i){this.position=n,this.inclusive=i}}function po(u,n,i){let o=0;for(let c=0;c<u.position.length;c++){const d=n[c],m=u.position[c];if(o=d.field.isKeyField()?Ot.comparator(Ot.fromName(m.referenceValue),i.key):is(m,i.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function go(u,n){if(null===u)return null===n;if(null===n||u.inclusive!==n.inclusive||u.position.length!==n.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!hs(u.position[i],n.position[i]))return!1;return!0}class mo{constructor(n,i="asc"){this.field=n,this.dir=i}}function Yi(u,n){return u.dir===n.dir&&u.field.isEqual(n.field)}class ko{}class jn extends ko{constructor(n,i,o){super(),this.field=n,this.op=i,this.value=o}static create(n,i,o){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,o):new ss(n,i,o):"array-contains"===i?new os(n,o):"in"===i?new ea(n,o):"not-in"===i?new bn(n,o):"array-contains-any"===i?new Aa(n,o):new jn(n,i,o)}static createKeyFieldInFilter(n,i,o){return"in"===i?new si(n,o):new _o(n,o)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(is(i,this.value)):null!==i&&Bs(this.value)===Bs(i)&&this.matchesComparison(is(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends ko{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new $n(n,i)}matches(n){return yo(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yo(u){return"and"===u.op}function Xs(u){return function wa(u){for(const n of u.filters)if(n instanceof $n)return!1;return!0}(u)&&yo(u)}function di(u){if(u instanceof jn)return u.field.canonicalString()+u.op.toString()+Ss(u.value);if(Xs(u))return u.filters.map(n=>di(n)).join(",");{const n=u.filters.map(i=>di(i)).join(",");return`${u.op}(${n})`}}function vc(u,n){return u instanceof jn?(o=u,(c=n)instanceof jn&&o.op===c.op&&o.field.isEqual(c.field)&&hs(o.value,c.value)):u instanceof $n?function(o,c){return c instanceof $n&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((d,m,C)=>d&&vc(m,c.filters[C]),!0)}(u,n):void pe();var o,c}function Tr(u){return u instanceof jn?`${(i=u).field.canonicalString()} ${i.op} ${Ss(i.value)}`:u instanceof $n?function(i){return i.op.toString()+" {"+i.getFilters().map(Tr).join(" ,")+"}"}(u):"Filter";var i}class ss extends jn{constructor(n,i,o){super(n,i,o),this.key=Ot.fromName(o.referenceValue)}matches(n){const i=Ot.comparator(n.key,this.key);return this.matchesComparison(i)}}class si extends jn{constructor(n,i){super(n,"in",i),this.keys=vo(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class _o extends jn{constructor(n,i){super(n,"not-in",i),this.keys=vo(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function vo(u,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class os extends jn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Zo(i)&&Cs(i.arrayValue,this.value)}}class ea extends jn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Cs(this.value.arrayValue,i)}}class bn extends jn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Cs(this.value.arrayValue,i)}}class Aa extends jn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Zo(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Cs(this.value.arrayValue,o))}}class Vi{constructor(n,i=null,o=[],c=[],d=null,m=null,C=null){this.path=n,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=m,this.endAt=C,this.ue=null}}function ta(u,n=null,i=[],o=[],c=null,d=null,m=null){return new Vi(u,n,i,o,c,d,m)}function Ys(u){const n=be(u);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(o=>di(o)).join(","),i+="|ob:",i+=n.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),Nr(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Ss(o)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Ss(o)).join(",")),n.ue=i}return n.ue}function na(u,n){if(u.limit!==n.limit||u.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!Yi(u.orderBy[i],n.orderBy[i]))return!1;if(u.filters.length!==n.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!vc(u.filters[i],n.filters[i]))return!1;return u.collectionGroup===n.collectionGroup&&!!u.path.isEqual(n.path)&&!!go(u.startAt,n.startAt)&&go(u.endAt,n.endAt)}function $i(u){return Ot.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Zs{constructor(n,i=null,o=[],c=[],d=null,m="F",C=null,M=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=m,this.startAt=C,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function bs(u){return new Zs(u)}function ia(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function Da(u){return null!==u.collectionGroup}function Xr(u){const n=be(u);if(null===n.ce){n.ce=[];const i=new Set;for(const d of n.explicitOrderBy)n.ce.push(d),i.add(d.field.canonicalString());const o=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let C=new sn(yt.comparator);return m.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(C=C.add(j.field))})}),C})(n).forEach(d=>{i.has(d.canonicalString())||d.isKeyField()||n.ce.push(new mo(d,o))}),i.has(yt.keyField().canonicalString())||n.ce.push(new mo(yt.keyField(),o))}return n.ce}function Jt(u){const n=be(u);return n.le||(n.le=function Sa(u,n){if("F"===u.limitType)return ta(u.path,u.collectionGroup,n,u.filters,u.limit,u.startAt,u.endAt);{n=n.map(c=>new mo(c.field,"desc"===c.dir?"asc":"desc"));const i=u.endAt?new Ni(u.endAt.position,u.endAt.inclusive):null,o=u.startAt?new Ni(u.startAt.position,u.startAt.inclusive):null;return ta(u.path,u.collectionGroup,n,u.filters,u.limit,i,o)}}(n,Xr(u))),n.le}function Hu(u,n){const i=u.filters.concat([n]);return new Zs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),i,u.limit,u.limitType,u.startAt,u.endAt)}function Eo(u,n,i){return new Zs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),n,i,u.startAt,u.endAt)}function Io(u,n){return na(Jt(u),Jt(n))&&u.limitType===n.limitType}function sr(u){return`${Ys(Jt(u))}|lt:${u.limitType}`}function da(u){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(c=>Tr(c)).join(", ")}]`),Nr(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(c=>{return`${(m=c).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(c=>Ss(c)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(c=>Ss(c)).join(",")),`Target(${o})`}(Jt(u))}; limitType=${u.limitType})`}function Oi(u,n){return n.isFoundDocument()&&function(o,c){const d=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):Ot.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(u,n)&&function(o,c){for(const d of Xr(o))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(u,n)&&function(o,c){for(const d of o.filters)if(!d.matches(c))return!1;return!0}(u,n)&&(c=n,!((o=u).startAt&&!function(m,C,M){const j=po(m,C,M);return m.inclusive?j<=0:j<0}(o.startAt,Xr(o),c)||o.endAt&&!function(m,C,M){const j=po(m,C,M);return m.inclusive?j>=0:j>0}(o.endAt,Xr(o),c)));var o,c}function ba(u){return(n,i)=>{let o=!1;for(const c of Xr(u)){const d=ha(c,n,i);if(0!==d)return d;o=o||c.field.isKeyField()}return 0}}function ha(u,n,i){const o=u.field.isKeyField()?Ot.comparator(n.key,i.key):function(d,m,C){const M=m.data.field(d),j=C.data.field(d);return null!==M&&null!==j?is(M,j):pe()}(u.field,n,i);switch(u.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}class as{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0!==o)for(const[c,d]of o)if(this.equalsFn(c,n))return d}has(n){return void 0!==this.get(n)}set(n,i){const o=this.mapKeyFn(n),c=this.inner[o];if(void 0===c)return this.inner[o]=[[n,i]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],n))return void(c[d]=[n,i]);c.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],n))return 1===o.length?delete this.inner[i]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(n){qn(this.inner,(i,o)=>{for(const[c,d]of o)n(c,d)})}isEmpty(){return pr(this.inner)}size(){return this.innerSize}}const fa=new cn(Ot.comparator);function Ai(){return fa}const fu=new cn(Ot.comparator);function zs(...u){let n=fu;for(const i of u)n=n.insert(i.key,i);return n}function Qa(u){let n=fu;return u.forEach((i,o)=>n=n.insert(i,o.overlayedDocument)),n}function ln(){return Zi()}function Lo(){return Zi()}function Zi(){return new as(u=>u.toString(),(u,n)=>u.isEqual(n))}const gs=new cn(Ot.comparator),pu=new sn(Ot.comparator);function Yn(...u){let n=pu;for(const i of u)n=n.add(i);return n}const Xa=new sn(on);function Ra(u,n){if(u.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fr(n)?"-0":n}}function Vl(u){return{integerValue:""+u}}function Ec(u,n){return function ci(u){return"number"==typeof u&&Number.isInteger(u)&&!fr(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(n)?Vl(n):Ra(u,n)}class Fo{constructor(){this._=void 0}}function sa(u,n,i){return u instanceof Uo?function(c,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&Ea(d)&&(d=Po(d)),d&&(m.fields.__previous_value__=d),{mapValue:m}}(i,n):u instanceof Di?Bo(u,n):u instanceof Ws?U(u,n):function(c,d){const m=Vo(c,d),C=I(m)+I(c.Pe);return Ia(m)&&Ia(c.Pe)?Vl(C):Ra(c.serializer,C)}(u,n)}function gu(u,n,i){return u instanceof Di?Bo(u,n):u instanceof Ws?U(u,n):i}function Vo(u,n){return u instanceof v?Ia(o=n)||(d=o)&&"doubleValue"in d?n:{integerValue:0}:null;var o,d}class Uo extends Fo{}class Di extends Fo{constructor(n){super(),this.elements=n}}function Bo(u,n){const i=x(n);for(const o of u.elements)i.some(c=>hs(c,o))||i.push(o);return{arrayValue:{values:i}}}class Ws extends Fo{constructor(n){super(),this.elements=n}}function U(u,n){let i=x(n);for(const o of u.elements)i=i.filter(c=>!hs(c,o));return{arrayValue:{values:i}}}class v extends Fo{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function I(u){return Fr(u.integerValue||u.doubleValue)}function x(u){return Zo(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Re{constructor(n,i){this.version=n,this.transformResults=i}}class De{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new De}static exists(n){return new De(void 0,n)}static updateTime(n){return new De(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Fe(u,n){return void 0!==u.updateTime?n.isFoundDocument()&&n.version.isEqual(u.updateTime):void 0===u.exists||u.exists===n.isFoundDocument()}class lt{}function qt(u,n){if(!u.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return u.isNoDocument()?new B(u.key,De.none()):new Tn(u.key,u.data,De.none());{const i=u.data,o=St.empty();let c=new sn(yt.comparator);for(let d of n.fields)if(!c.has(d)){let m=i.field(d);null===m&&d.length>1&&(d=d.popLast(),m=i.field(d)),null===m?o.delete(d):o.set(d,m),c=c.add(d)}return new or(u.key,o,new qr(c.toArray()),De.none())}}function Bt(u,n,i){u instanceof Tn?function(c,d,m){const C=c.value.clone(),M=G(c.fieldTransforms,d,m.transformResults);C.setAll(M),d.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(u,n,i):u instanceof or?function(c,d,m){if(!Fe(c.precondition,d))return void d.convertToUnknownDocument(m.version);const C=G(c.fieldTransforms,d,m.transformResults),M=d.data;M.setAll(w(c)),M.setAll(C),d.convertToFoundDocument(m.version,M).setHasCommittedMutations()}(u,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Hn(u,n,i,o){return u instanceof Tn?function(d,m,C,M){if(!Fe(d.precondition,m))return C;const j=d.value.clone(),q=N(d.fieldTransforms,M,m);return j.setAll(q),m.convertToFoundDocument(m.version,j).setHasLocalMutations(),null}(u,n,i,o):u instanceof or?function(d,m,C,M){if(!Fe(d.precondition,m))return C;const j=N(d.fieldTransforms,M,m),q=m.data;return q.setAll(w(d)),q.setAll(j),m.convertToFoundDocument(m.version,q).setHasLocalMutations(),null===C?null:C.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(oe=>oe.field))}(u,n,i,o):(C=i,Fe(u.precondition,m=n)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):C);var m,C}function Vn(u,n){let i=null;for(const o of u.fieldTransforms){const c=n.data.field(o.field),d=Vo(o.transform,c||null);null!=d&&(null===i&&(i=St.empty()),i.set(o.field,d))}return i||null}function dn(u,n){return u.type===n.type&&!!u.key.isEqual(n.key)&&!!u.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===c||o&&c&&pi(o,c,(d,m)=>function ne(u,n){return u.field.isEqual(n.field)&&(c=n.transform,(o=u.transform)instanceof Di&&c instanceof Di||o instanceof Ws&&c instanceof Ws?pi(o.elements,c.elements,hs):o instanceof v&&c instanceof v?hs(o.Pe,c.Pe):o instanceof Uo&&c instanceof Uo);var o,c}(d,m))))&&(0===u.type?u.value.isEqual(n.value):1!==u.type||u.data.isEqual(n.data)&&u.fieldMask.isEqual(n.fieldMask));var o,c}class Tn extends lt{constructor(n,i,o,c=[]){super(),this.key=n,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class or extends lt{constructor(n,i,o,c,d=[]){super(),this.key=n,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function w(u){const n=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=u.data.field(i);n.set(i,o)}}),n}function G(u,n,i){const o=new Map;me(u.length===i.length);for(let c=0;c<i.length;c++){const d=u[c],m=d.transform,C=n.data.field(d.field);o.set(d.field,gu(m,C,i[c]))}return o}function N(u,n,i){const o=new Map;for(const c of u){const d=c.transform,m=i.data.field(c.field);o.set(c.field,sa(d,m,n))}return o}class B extends lt{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class de extends lt{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ge{constructor(n,i,o,c){this.batchId=n,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(n,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(n.key)&&Bt(d,n,o[c])}}applyToLocalView(n,i){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(i=Hn(o,n,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(i=Hn(o,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const o=Lo();return this.mutations.forEach(c=>{const d=n.get(c.key),m=d.overlayedDocument;let C=this.applyToLocalView(m,d.mutatedFields);C=i.has(c.key)?null:C;const M=qt(m,C);null!==M&&o.set(c.key,M),m.isValidDocument()||m.convertToNoDocument(_t.min())}),o}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Yn())}isEqual(n){return this.batchId===n.batchId&&pi(this.mutations,n.mutations,(i,o)=>dn(i,o))&&pi(this.baseMutations,n.baseMutations,(i,o)=>dn(i,o))}}class ft{constructor(n,i,o,c){this.batch=n,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(n,i,o){me(n.mutations.length===o.length);let c=function(){return gs}();const d=n.mutations;for(let m=0;m<d.length;m++)c=c.insert(d[m].key,o[m].version);return new ft(n,i,o,c)}}class xt{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xn{constructor(n,i){this.count=n,this.unchangedNames=i}}var Mn,ht;function mr(u){if(void 0===u)return Mt("GRPC error has no .code"),ce.UNKNOWN;switch(u){case Mn.OK:return ce.OK;case Mn.CANCELLED:return ce.CANCELLED;case Mn.UNKNOWN:return ce.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return ce.INTERNAL;case Mn.UNAVAILABLE:return ce.UNAVAILABLE;case Mn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Mn.NOT_FOUND:return ce.NOT_FOUND;case Mn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Mn.ABORTED:return ce.ABORTED;case Mn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Mn.DATA_LOSS:return ce.DATA_LOSS;default:return pe()}}(ht=Mn||(Mn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";const Zt=new Be([4294967295,4294967295],0);function an(u){const n=function Qt(){return new TextEncoder}().encode(u),i=new Ke;return i.update(n),new Uint8Array(i.digest())}function Xn(u){const n=new DataView(u.buffer),i=n.getUint32(0,!0),o=n.getUint32(4,!0),c=n.getUint32(8,!0),d=n.getUint32(12,!0);return[new Be([i,o],0),new Be([c,d],0)]}class Rr{constructor(n,i,o){if(this.bitmap=n,this.padding=i,this.hashCount=o,i<0||i>=8)throw new oi(`Invalid padding: ${i}`);if(o<0)throw new oi(`Invalid hash count: ${o}`);if(n.length>0&&0===this.hashCount)throw new oi(`Invalid hash count: ${o}`);if(0===n.length&&0!==i)throw new oi(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Be.fromNumber(this.Ie)}Ee(n,i,o){let c=n.add(i.multiply(Be.fromNumber(o)));return 1===c.compare(Zt)&&(c=new Be([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=an(n),[o,c]=Xn(i);for(let d=0;d<this.hashCount;d++){const m=this.Ee(o,c,d);if(!this.de(m))return!1}return!0}static create(n,i,o){const c=n%8==0?0:8-n%8,d=new Uint8Array(Math.ceil(n/8)),m=new Rr(d,c,i);return o.forEach(C=>m.insert(C)),m}insert(n){if(0===this.Ie)return;const i=an(n),[o,c]=Xn(i);for(let d=0;d<this.hashCount;d++){const m=this.Ee(o,c,d);this.Ae(m)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class oi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qr{constructor(n,i,o,c,d){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,i,o){const c=new Map;return c.set(n,Hi.createSynthesizedTargetChangeForCurrentChange(n,i,o)),new Qr(_t.min(),c,new cn(on),Ai(),Yn())}}class Hi{constructor(n,i,o,c,d){this.resumeToken=n,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,i,o){return new Hi(o,i,Yn(),Yn(),Yn())}}class wr{constructor(n,i,o,c){this.Re=n,this.removedTargetIds=i,this.key=o,this.Ve=c}}class jo{constructor(n,i){this.targetId=n,this.me=i}}class Ui{constructor(n,i,o=Or.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=i,this.resumeToken=o,this.cause=c}}class gi{constructor(){this.fe=0,this.ge=Bi(),this.pe=Or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Yn(),i=Yn(),o=Yn();return this.ge.forEach((c,d)=>{switch(d){case 0:n=n.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:pe()}}),new Hi(this.pe,this.ye,n,i,o)}Ce(){this.we=!1,this.ge=Bi()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eo{constructor(n){this.Le=n,this.Be=new Map,this.ke=Ai(),this.qe=zi(),this.Qe=new cn(on)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const o=this.Ge(i);switch(n.state){case 0:this.ze(i)&&o.De(n.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(n.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(o.Ne(),o.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),o.De(n.resumeToken));break;default:pe()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((o,c)=>{this.ze(c)&&i(c)})}He(n){const i=n.targetId,o=n.me.count,c=this.Je(i);if(c){const d=c.target;if($i(d))if(0===o){const m=new Ot(d.path);this.Ue(i,m,Ir.newNoDocument(m,_t.min()))}else me(1===o);else{const m=this.Ye(i);if(m!==o){const C=this.Ze(n),M=C?this.Xe(C,n,m):1;0!==M&&(this.je(i),this.Qe=this.Qe.insert(i,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:d=0}=i;let m,C;try{m=ds(o).toUint8Array()}catch(M){if(M instanceof Li)return Xt("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{C=new Rr(m,c,d)}catch(M){return Xt(M instanceof oi?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===C.Ie?null:C}Xe(n,i,o){return i.me.count===o-this.nt(n,i.targetId)?0:2}nt(n,i){const o=this.Le.getRemoteKeysForTarget(i);let c=0;return o.forEach(d=>{const m=this.Le.tt(),C=`projects/${m.projectId}/databases/${m.database}/documents/${d.path.canonicalString()}`;n.mightContain(C)||(this.Ue(i,d,null),c++)}),c}rt(n){const i=new Map;this.Be.forEach((d,m)=>{const C=this.Je(m);if(C){if(d.current&&$i(C.target)){const M=new Ot(C.target.path);null!==this.ke.get(M)||this.it(m,M)||this.Ue(m,M,Ir.newNoDocument(M,n))}d.be&&(i.set(m,d.ve()),d.Ce())}});let o=Yn();this.qe.forEach((d,m)=>{let C=!0;m.forEachWhile(M=>{const j=this.Je(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.ke.forEach((d,m)=>m.setReadTime(n));const c=new Qr(n,i,this.Qe,this.ke,o);return this.ke=Ai(),this.qe=zi(),this.Qe=new cn(on),c}$e(n,i){if(!this.ze(n))return;const o=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,o),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,o){if(!this.ze(n))return;const c=this.Ge(n);this.it(n,i)?c.Fe(i,1):c.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),o&&(this.ke=this.ke.insert(i,o))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new gi,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new sn(on),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||ct("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new gi),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function zi(){return new cn(Ot.comparator)}function Bi(){return new cn(Ot.comparator)}const Ya={asc:"ASCENDING",desc:"DESCENDING"},dg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wu={and:"AND",or:"OR"};class hf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function ms(u,n){return u.useProto3Json||Nr(n)?n:{value:n}}function pa(u,n){return u.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function mu(u,n){return u.useProto3Json?n.toBase64():n.toUint8Array()}function Ul(u,n){return pa(u,n.toTimestamp())}function Ci(u){return me(!!u),_t.fromTimestamp(function(i){const o=Qi(i);return new ir(o.seconds,o.nanos)}(u))}function Pr(u,n){return yr(u,n).canonicalString()}function yr(u,n){const i=(c=u,new yn(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===n?i:i.child(n)}function to(u){const n=yn.fromString(u);return me(Xu(n)),n}function Za(u,n){return Pr(u.databaseId,n.path)}function mi(u,n){const i=to(n);if(i.get(1)!==u.databaseId.projectId)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new Ot(Pa(i))}function Gu(u,n){return Pr(u.databaseId,n)}function oa(u){return new yn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Pa(u){return me(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function yu(u,n,i){return{name:Za(u,n),fields:i.value.mapValue.fields}}function wc(u,n){return{documents:[Gu(u,n.path)]}}function Qu(u,n){const i={structuredQuery:{}},o=n.path;let c;null!==n.collectionGroup?(c=o,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=Gu(u,c);const d=function(j){if(0!==j.length)return nl($n.create(j,"and"))}(n.filters);d&&(i.structuredQuery.where=d);const m=function(j){if(0!==j.length)return j.map(q=>{return{field:Na((Pe=q).field),direction:ff(Pe.dir)};var Pe})}(n.orderBy);m&&(i.structuredQuery.orderBy=m);const C=ms(u,n.limit);return null!==C&&(i.structuredQuery.limit=C),n.startAt&&(i.structuredQuery.startAt={before:(j=n.startAt).inclusive,values:j.position}),n.endAt&&(i.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(n.endAt)),{_t:i,parent:c};var j}function Bl(u){let n=function Ic(u){const n=to(u);return 4===n.length?yn.emptyPath():Pa(n)}(u.parent);const i=u.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){me(1===o);const q=i.from[0];q.allDescendants?c=q.collectionId:n=n.child(q.collectionId)}let d=[];i.where&&(d=function(oe){const Pe=jl(oe);return Pe instanceof $n&&Xs(Pe)?Pe.getFilters():[Pe]}(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(Pe=>{return new mo(vu((It=Pe).field),function(Ct){switch(Ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(It.direction));var It}));let C=null;i.limit&&(C=function(oe){let Pe;return Pe="object"==typeof oe?oe.value:oe,Nr(Pe)?null:Pe}(i.limit));let M=null;var oe;i.startAt&&(M=new Ni((oe=i.startAt).values||[],!!oe.before));let j=null;return i.endAt&&(j=function(oe){return new Ni(oe.values||[],!oe.before)}(i.endAt)),function hu(u,n,i,o,c,d,m,C){return new Zs(u,n,i,o,c,d,m,C)}(n,c,m,d,C,"F",M,j)}function jl(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=vu(i.unaryFilter.field);return jn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=vu(i.unaryFilter.field);return jn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=vu(i.unaryFilter.field);return jn.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=vu(i.unaryFilter.field);return jn.create(m,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(u):void 0!==u.fieldFilter?jn.create(vu((i=u).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return $n.create(i.compositeFilter.filters.map(o=>jl(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return pe()}}(i.compositeFilter.op))}(u):pe();var i}function ff(u){return Ya[u]}function $l(u){return dg[u]}function Gd(u){return Wu[u]}function Na(u){return{fieldPath:u.canonicalString()}}function vu(u){return yt.fromServerFormat(u.fieldPath)}function nl(u){return u instanceof jn?function(i){if("=="===i.op){if(Fi(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NAN"}};if(Jo(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Fi(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NAN"}};if(Jo(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(i.field),op:$l(i.op),value:i.value}}}(u):u instanceof $n?function(i){const o=i.getFilters().map(c=>nl(c));return 1===o.length?o[0]:{compositeFilter:{op:Gd(i.op),filters:o}}}(u):pe()}function Kd(u){const n=[];return u.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Xu(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class ma{constructor(n,i,o,c,d=_t.min(),m=_t.min(),C=Or.EMPTY_BYTE_STRING,M=null){this.target=n,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C,this.expectedCount=M}withSequenceNumber(n){return new ma(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Ac{constructor(n){this.ct=n}}function b(u){const n=Bl({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Eo(n,n.limit,"L"):n}class vn{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(Fr(n.integerValue));else if("doubleValue"in n){const o=Fr(n.doubleValue);isNaN(o)?this.dt(i,13):(this.dt(i,15),fr(o)?i.At(0):i.At(o))}else if("timestampValue"in n){let o=n.timestampValue;this.dt(i,20),"string"==typeof o&&(o=Qi(o)),i.Rt(`${o.seconds||""}`),i.At(o.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(ds(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const o=n.geoPointValue;this.dt(i,45),i.At(o.latitude||0),i.At(o.longitude||0)}else"mapValue"in n?$s(n)?this.dt(i,Number.MAX_SAFE_INTEGER):js(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):pe()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const o=n.fields||{};this.dt(i,55);for(const c of Object.keys(o))this.Vt(c,i),this.Tt(o[c],i)}wt(n,i){var o,c;const d=n.fields||{};this.dt(i,53);const m="value",C=(null===(c=null===(o=d[m].arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.length)||0;this.dt(i,15),i.At(Fr(C)),this.Vt(m,i),this.Tt(d[m],i)}bt(n,i){const o=n.values||[];this.dt(i,50);for(const c of o)this.Tt(c,i)}yt(n,i){this.dt(i,37),Ot.fromName(n).path.forEach(o=>{this.dt(i,60),this.Dt(o,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}vn.vt=new vn;class sl{constructor(){this.un=new Kl}addToCollectionParentIndex(n,i){return this.un.add(i),Me.resolve()}getCollectionParents(n,i){return Me.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return Me.resolve()}deleteFieldIndex(n,i){return Me.resolve()}deleteAllFieldIndexes(n){return Me.resolve()}createTargetIndexes(n,i){return Me.resolve()}getDocumentsMatchingTarget(n,i){return Me.resolve(null)}getIndexType(n,i){return Me.resolve(0)}getFieldIndexes(n,i){return Me.resolve([])}getNextCollectionGroupToUpdate(n){return Me.resolve(null)}getMinOffset(n,i){return Me.resolve(Br.min())}getMinOffsetFromCollectionGroup(n,i){return Me.resolve(Br.min())}updateCollectionGroup(n,i,o){return Me.resolve()}updateIndexEntries(n,i){return Me.resolve()}}class Kl{constructor(){this.index={}}add(n){const i=n.lastSegment(),o=n.popLast(),c=this.index[i]||new sn(yn.comparator),d=!c.has(o);return this.index[i]=c.add(o),d}has(n){const i=n.lastSegment(),o=n.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(n){return(this.index[n]||new sn(yn.comparator)).toArray()}}new Uint8Array(0);class Ji{constructor(n,i,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(n){return new Ji(n,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(41943040,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);class iu{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new iu(0)}static kn(){return new iu(-1)}}class vs{constructor(){this.changes=new as(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Ir.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Me.resolve(o):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Mc{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class ri{constructor(n,i,o,c){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=c}getDocument(n,i){let o=null;return this.documentOverlayCache.getOverlay(n,i).next(c=>(o=c,this.remoteDocumentCache.getEntry(n,i))).next(c=>(null!==o&&Hn(o.mutation,c,qr.empty(),ir.now()),c))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.getLocalViewOfDocuments(n,o,Yn()).next(()=>o))}getLocalViewOfDocuments(n,i,o=Yn()){const c=ln();return this.populateOverlays(n,c,i).next(()=>this.computeViews(n,i,c,o).next(d=>{let m=zs();return d.forEach((C,M)=>{m=m.insert(C,M.overlayedDocument)}),m}))}getOverlayedDocuments(n,i){const o=ln();return this.populateOverlays(n,o,i).next(()=>this.computeViews(n,i,o,Yn()))}populateOverlays(n,i,o){const c=[];return o.forEach(d=>{i.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(n,c).next(d=>{d.forEach((m,C)=>{i.set(m,C)})})}computeViews(n,i,o,c){let d=Ai();const m=Zi(),C=Zi();return i.forEach((M,j)=>{const q=o.get(j.key);c.has(j.key)&&(void 0===q||q.mutation instanceof or)?d=d.insert(j.key,j):void 0!==q?(m.set(j.key,q.mutation.getFieldMask()),Hn(q.mutation,j,q.mutation.getFieldMask(),ir.now())):m.set(j.key,qr.empty())}),this.recalculateAndSaveOverlays(n,d).next(M=>(M.forEach((j,q)=>m.set(j,q)),i.forEach((j,q)=>{var oe;return C.set(j,new Mc(q,null!==(oe=m.get(j))&&void 0!==oe?oe:null))}),C))}recalculateAndSaveOverlays(n,i){const o=Zi();let c=new cn((m,C)=>m-C),d=Yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(m=>{for(const C of m)C.keys().forEach(M=>{const j=i.get(M);if(null===j)return;let q=o.get(M)||qr.empty();q=C.applyToLocalView(j,q),o.set(M,q);const oe=(c.get(C.batchId)||Yn()).add(M);c=c.insert(C.batchId,oe)})}).next(()=>{const m=[],C=c.getReverseIterator();for(;C.hasNext();){const M=C.getNext(),j=M.key,q=M.value,oe=Lo();q.forEach(Pe=>{if(!d.has(Pe)){const Ye=qt(i.get(Pe),o.get(Pe));null!==Ye&&oe.set(Pe,Ye),d=d.add(Pe)}}),m.push(this.documentOverlayCache.saveOverlays(n,j,oe))}return Me.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,i,o,c){return Ot.isDocumentKey((m=i).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Da(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,o,c):this.getDocumentsMatchingCollectionQuery(n,i,o,c);var m}getNextDocuments(n,i,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,o,c).next(d=>{const m=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,o.largestBatchId,c-d.size):Me.resolve(ln());let C=-1,M=d;return m.next(j=>Me.forEach(j,(q,oe)=>(C<oe.largestBatchId&&(C=oe.largestBatchId),d.get(q)?Me.resolve():this.remoteDocumentCache.getEntry(n,q).next(Pe=>{M=M.insert(q,Pe)}))).next(()=>this.populateOverlays(n,j,d)).next(()=>this.computeViews(n,M,j,Yn())).next(q=>({batchId:C,changes:Qa(q)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Ot(i)).next(o=>{let c=zs();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(n,i,o,c){const d=i.collectionGroup;let m=zs();return this.indexManager.getCollectionParents(n,d).next(C=>Me.forEach(C,M=>{const j=(oe=i,Pe=M.child(d),new Zs(Pe,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,Pe;return this.getDocumentsMatchingCollectionQuery(n,j,o,c).next(q=>{q.forEach((oe,Pe)=>{m=m.insert(oe,Pe)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,i,o,c){let d;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,o.largestBatchId).next(m=>(d=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,o,d,c))).next(m=>{d.forEach((M,j)=>{const q=j.getKey();null===m.get(q)&&(m=m.insert(q,Ir.newInvalidDocument(q)))});let C=zs();return m.forEach((M,j)=>{const q=d.get(M);void 0!==q&&Hn(q.mutation,j,qr.empty(),ir.now()),Oi(i,j)&&(C=C.insert(M,j))}),C})}}class ec{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return Me.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(c=i).id,version:c.version,createTime:Ci(c.createTime)}),Me.resolve();var c}getNamedQuery(n,i){return Me.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(c=i).name,query:b(c.bundledQuery),readTime:Ci(c.readTime)}),Me.resolve();var c}}class Nc{constructor(){this.overlays=new cn(Ot.comparator),this.Ir=new Map}getOverlay(n,i){return Me.resolve(this.overlays.get(i))}getOverlays(n,i){const o=ln();return Me.forEach(i,c=>this.getOverlay(n,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(n,i,o){return o.forEach((c,d)=>{this.ht(n,i,d)}),Me.resolve()}removeOverlaysForBatchId(n,i,o){const c=this.Ir.get(o);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.Ir.delete(o)),Me.resolve()}getOverlaysForCollection(n,i,o){const c=ln(),d=i.length+1,m=new Ot(i.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const M=C.getNext().value,j=M.getKey();if(!i.isPrefixOf(j.path))break;j.path.length===d&&M.largestBatchId>o&&c.set(M.getKey(),M)}return Me.resolve(c)}getOverlaysForCollectionGroup(n,i,o,c){let d=new cn((j,q)=>j-q);const m=this.overlays.getIterator();for(;m.hasNext();){const j=m.getNext().value;if(j.getKey().getCollectionGroup()===i&&j.largestBatchId>o){let q=d.get(j.largestBatchId);null===q&&(q=ln(),d=d.insert(j.largestBatchId,q)),q.set(j.getKey(),j)}}const C=ln(),M=d.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,q)=>C.set(j,q)),!(C.size()>=c)););return Me.resolve(C)}ht(n,i,o){const c=this.overlays.get(o.key);if(null!==c){const m=this.Ir.get(c.largestBatchId).delete(o.key);this.Ir.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new xt(i,o));let d=this.Ir.get(i);void 0===d&&(d=Yn(),this.Ir.set(i,d)),this.Ir.set(i,d.add(o.key))}}class su{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(n){return Me.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Me.resolve()}}class Tu{constructor(){this.Tr=new sn(us.Er),this.dr=new sn(us.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const o=new us(n,i);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(n,i){n.forEach(o=>this.addReference(o,i))}removeReference(n,i){this.Vr(new us(n,i))}mr(n,i){n.forEach(o=>this.removeReference(o,i))}gr(n){const i=new Ot(new yn([])),o=new us(i,n),c=new us(i,n+1),d=[];return this.dr.forEachInRange([o,c],m=>{this.Vr(m),d.push(m.key)}),d}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Ot(new yn([])),o=new us(i,n),c=new us(i,n+1);let d=Yn();return this.dr.forEachInRange([o,c],m=>{d=d.add(m.key)}),d}containsKey(n){const i=new us(n,0),o=this.Tr.firstAfterOrEqual(i);return null!==o&&n.isEqual(o.key)}}class us{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Ot.comparator(n.key,i.key)||on(n.wr,i.wr)}static Ar(n,i){return on(n.wr,i.wr)||Ot.comparator(n.key,i.key)}}class wu{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new sn(us.Er)}checkEmpty(n){return Me.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,o,c){const d=this.Sr;this.Sr++;const m=new Ge(d,i,o,c);this.mutationQueue.push(m);for(const C of c)this.br=this.br.add(new us(C.key,d)),this.indexManager.addToCollectionParentIndex(n,C.key.path.popLast());return Me.resolve(m)}lookupMutationBatch(n,i){return Me.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const c=this.vr(i+1),d=c<0?0:c;return Me.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const o=new us(i,0),c=new us(i,Number.POSITIVE_INFINITY),d=[];return this.br.forEachInRange([o,c],m=>{const C=this.Dr(m.wr);d.push(C)}),Me.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,i){let o=new sn(on);return i.forEach(c=>{const d=new us(c,0),m=new us(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([d,m],C=>{o=o.add(C.wr)})}),Me.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(n,i){const o=i.path,c=o.length+1;let d=o;Ot.isDocumentKey(d)||(d=d.child(""));const m=new us(new Ot(d),0);let C=new sn(on);return this.br.forEachWhile(M=>{const j=M.key.path;return!!o.isPrefixOf(j)&&(j.length===c&&(C=C.add(M.wr)),!0)},m),Me.resolve(this.Cr(C))}Cr(n){const i=[];return n.forEach(o=>{const c=this.Dr(o);null!==c&&i.push(c)}),i}removeMutationBatch(n,i){me(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return Me.forEach(i.mutations,c=>{const d=new us(c.key,i.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.br=o})}On(n){}containsKey(n,i){const o=new us(i,0),c=this.br.firstAfterOrEqual(o);return Me.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(n){return Me.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Yl{constructor(n){this.Mr=n,this.docs=new cn(Ot.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const o=i.key,c=this.docs.get(o),d=c?c.size:0,m=this.Mr(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const o=this.docs.get(i);return Me.resolve(o?o.document.mutableCopy():Ir.newInvalidDocument(i))}getEntries(n,i){let o=Ai();return i.forEach(c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.mutableCopy():Ir.newInvalidDocument(c))}),Me.resolve(o)}getDocumentsMatchingQuery(n,i,o,c){let d=Ai();const m=i.path,C=new Ot(m.child("")),M=this.docs.getIteratorFrom(C);for(;M.hasNext();){const{key:j,value:{document:q}}=M.getNext();if(!m.isPrefixOf(j.path))break;j.path.length>m.length+1||Cr(new Br((u=q).readTime,u.key,-1),o)<=0||(c.has(q.key)||Oi(i,q))&&(d=d.insert(q.key,q.mutableCopy()))}var u;return Me.resolve(d)}getAllFromCollectionGroup(n,i,o,c){pe()}Or(n,i){return Me.forEach(this.docs,o=>i(o))}newChangeBuffer(n){return new aa(this)}getSize(n){return Me.resolve(this.size)}}class aa extends vs{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?i.push(this.cr.addEntry(n,c)):this.cr.removeEntry(o)}),Me.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class hn{constructor(n){this.persistence=n,this.Nr=new as(i=>Ys(i),na),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tu,this.targetCount=0,this.kr=iu.Bn()}forEachTarget(n,i){return this.Nr.forEach((o,c)=>i(c)),Me.resolve()}getLastRemoteSnapshotVersion(n){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Me.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(n,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Lr&&(this.Lr=i),Me.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new iu(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,Me.resolve()}updateTargetData(n,i){return this.Kn(i),Me.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Me.resolve()}removeTargets(n,i,o){let c=0;const d=[];return this.Nr.forEach((m,C)=>{C.sequenceNumber<=i&&null===o.get(C.targetId)&&(this.Nr.delete(m),d.push(this.removeMatchingKeysForTargetId(n,C.targetId)),c++)}),Me.waitFor(d).next(()=>c)}getTargetCount(n){return Me.resolve(this.targetCount)}getTargetData(n,i){const o=this.Nr.get(i)||null;return Me.resolve(o)}addMatchingKeys(n,i,o){return this.Br.Rr(i,o),Me.resolve()}removeMatchingKeys(n,i,o){this.Br.mr(i,o);const c=this.persistence.referenceDelegate,d=[];return c&&i.forEach(m=>{d.push(c.markPotentiallyOrphaned(n,m))}),Me.waitFor(d)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),Me.resolve()}getMatchingKeysForTargetId(n,i){const o=this.Br.yr(i);return Me.resolve(o)}containsKey(n,i){return Me.resolve(this.Br.containsKey(i))}}class ul{constructor(n,i){this.qr={},this.overlays={},this.Qr=new Jn(0),this.Kr=!1,this.Kr=!0,this.$r=new su,this.referenceDelegate=n(this),this.Ur=new hn(this),this.indexManager=new sl,this.remoteDocumentCache=new Yl(o=>this.referenceDelegate.Wr(o)),this.serializer=new Ac(i),this.Gr=new ec(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Nc,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let o=this.qr[n.toKey()];return o||(o=new wu(i,this.referenceDelegate),this.qr[n.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,o){ct("MemoryPersistence","Starting transaction:",n);const c=new cl(this.Qr.next());return this.referenceDelegate.zr(),o(c).next(d=>this.referenceDelegate.jr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Hr(n,i){return Me.or(Object.values(this.qr).map(o=>()=>o.containsKey(n,i)))}}class cl extends Pi{constructor(n){super(),this.currentSequenceNumber=n}}class Wo{constructor(n){this.persistence=n,this.Jr=new Tu,this.Yr=null}static Zr(n){return new Wo(n)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(n,i,o){return this.Jr.addReference(o,i),this.Xr.delete(o.toString()),Me.resolve()}removeReference(n,i,o){return this.Jr.removeReference(o,i),this.Xr.add(o.toString()),Me.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),Me.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(c=>this.Xr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,i.targetId).next(c=>{c.forEach(d=>this.Xr.add(d.toString()))}).next(()=>o.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,o=>{const c=Ot.fromPath(o);return this.ei(n,c).next(d=>{d||i.removeEntry(c,_t.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(o=>{o?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return Me.or([()=>Me.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class nc{constructor(n,i,o,c){this.targetId=n,this.fromCache=i,this.$i=o,this.Ui=c}static Wi(n,i){let o=Yn(),c=Yn();for(const d of i.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new nc(n,i.fromCache,o,c)}}class Go{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Lc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Y.nr)()?8:function fe(u){const n=u.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Y.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,o,c){const d={result:null};return this.Yi(n,i).next(m=>{d.result=m}).next(()=>{if(!d.result)return this.Zi(n,i,c,o).next(m=>{d.result=m})}).next(()=>{if(d.result)return;const m=new Go;return this.Xi(n,i,m).next(C=>{if(d.result=C,this.zi)return this.es(n,i,m,C.size)})}).next(()=>d.result)}es(n,i,o,c){return o.documentReadCount<this.ji?(In()<=ae.$b.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",da(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(In()<=ae.$b.DEBUG&&ct("QueryEngine","Query:",da(i),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Hi*c?(In()<=ae.$b.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",da(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Jt(i))):Me.resolve())}Yi(n,i){if(ia(i))return Me.resolve(null);let o=Jt(i);return this.indexManager.getIndexType(n,o).next(c=>0===c?null:(null!==i.limit&&1===c&&(i=Eo(i,null,"F"),o=Jt(i)),this.indexManager.getDocumentsMatchingTarget(n,o).next(d=>{const m=Yn(...d);return this.Ji.getDocuments(n,m).next(C=>this.indexManager.getMinOffset(n,o).next(M=>{const j=this.ts(i,C);return this.ns(i,j,m,M.readTime)?this.Yi(n,Eo(i,null,"F")):this.rs(n,j,i,M)}))})))}Zi(n,i,o,c){return ia(i)||c.isEqual(_t.min())?Me.resolve(null):this.Ji.getDocuments(n,o).next(d=>{const m=this.ts(i,d);return this.ns(i,m,o,c)?Me.resolve(null):(In()<=ae.$b.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),da(i)),this.rs(n,m,i,function Rn(u,n){const i=u.toTimestamp().seconds,o=u.toTimestamp().nanoseconds+1,c=_t.fromTimestamp(1e9===o?new ir(i+1,0):new ir(i,o));return new Br(c,Ot.empty(),n)}(c,-1)).next(C=>C))})}ts(n,i){let o=new sn(ba(n));return i.forEach((c,d)=>{Oi(n,d)&&(o=o.add(d))}),o}ns(n,i,o,c){if(null===n.limit)return!1;if(o.size!==i.size)return!0;const d="F"===n.limitType?i.last():i.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Xi(n,i,o){return In()<=ae.$b.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",da(i)),this.Ji.getDocumentsMatchingQuery(n,i,Br.min(),o)}rs(n,i,o,c){return this.Ji.getDocumentsMatchingQuery(n,o,c).next(d=>(i.forEach(m=>{d=d.insert(m.key,m)}),d))}}class Zl{constructor(n,i,o,c){this.persistence=n,this.ss=i,this.serializer=c,this.os=new cn(on),this._s=new as(d=>Ys(d),na),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(o)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new ri(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Jl(u,n){return ll.apply(this,arguments)}function ll(){return(ll=(0,V.A)(function*(u,n){const i=be(u);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let c;return i.mutationQueue.getAllMutationBatches(o).next(d=>(c=d,i.ls(n),i.mutationQueue.getAllMutationBatches(o))).next(d=>{const m=[],C=[];let M=Yn();for(const j of c){m.push(j.batchId);for(const q of j.mutations)M=M.add(q.key)}for(const j of d){C.push(j.batchId);for(const q of j.mutations)M=M.add(q.key)}return i.localDocuments.getDocuments(o,M).next(j=>({hs:j,removedBatchIds:m,addedBatchIds:C}))})})})).apply(this,arguments)}function Jd(u){const n=be(u);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function hg(u,n){const i=be(u);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function Fc(u,n,i){return th.apply(this,arguments)}function th(){return(th=(0,V.A)(function*(u,n,i){const o=be(u),c=o.os.get(n),d=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!se(m))throw m;ct("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}o.os=o.os.remove(n),o._s.delete(c.target)})).apply(this,arguments)}function nh(u,n,i){const o=be(u);let c=_t.min(),d=Yn();return o.persistence.runTransaction("Execute query","readwrite",m=>function(M,j,q){const oe=be(M),Pe=oe._s.get(q);return void 0!==Pe?Me.resolve(oe.os.get(Pe)):oe.Ur.getTargetData(j,q)}(o,m,Jt(n)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(m,C.targetId).next(M=>{d=M})}).next(()=>o.ss.getDocumentsMatchingQuery(m,n,i?c:_t.min(),i?d:Yn())).next(C=>(function gg(u,n,i){let o=u.us.get(n)||_t.min();i.forEach((c,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),u.us.set(n,o)}(o,function Js(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}(n),C),{documents:C,Ts:d})))}class xe{constructor(){this.activeTargetIds=function zu(){return Xa}()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class At{constructor(){this.so=new xe,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,o){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,o){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new xe,Promise.resolve()}handleUserChange(n,i,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class rn{_o(n){}shutdown(){}}class An{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cr=null;function Is(){return null===cr?cr=268435456+Math.round(2147483648*Math.random()):cr++,"0x"+cr.toString(16)}const Du={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ko{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Ts="WebChannelConnection";class td extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const o=i.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+i.host,this.vo=`projects/${c}/databases/${d}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get Fo(){return!1}Mo(i,o,c,d,m){const C=Is(),M=this.xo(i,o.toUriEncodedString());ct("RestConnection",`Sending RPC '${i}' ${C}:`,M,c);const j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,d,m),this.No(i,M,j,c).then(q=>(ct("RestConnection",`Received RPC '${i}' ${C}: `,q),q),q=>{throw Xt("RestConnection",`RPC '${i}' ${C} failed with error: `,q,"url: ",M,"request:",c),q})}Lo(i,o,c,d,m,C){return this.Mo(i,o,c,d,m)}Oo(i,o,c){i["X-Goog-Api-Client"]="gl-js/ fire/"+Qe,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((d,m)=>i[m]=d),c&&c.headers.forEach((d,m)=>i[m]=d)}xo(i,o){return`${this.Do}/v1/${o}:${Du[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,o,c){const d=Is();return new Promise((m,C)=>{const M=new Wt;M.setWithCredentials(!0),M.listenOnce(gn.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case He.NO_ERROR:const q=M.getResponseJson();ct(Ts,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(q)),m(q);break;case He.TIMEOUT:ct(Ts,`RPC '${n}' ${d} timed out`),C(new ge(ce.DEADLINE_EXCEEDED,"Request time out"));break;case He.HTTP_ERROR:const oe=M.getStatus();if(ct(Ts,`RPC '${n}' ${d} failed with status:`,oe,"response text:",M.getResponseText()),oe>0){let Pe=M.getResponseJson();Array.isArray(Pe)&&(Pe=Pe[0]);const Ye=Pe?.error;if(Ye&&Ye.status&&Ye.message){const It=function(Ct){const pn=Ct.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(pn)>=0?pn:ce.UNKNOWN}(Ye.status);C(new ge(It,Ye.message))}else C(new ge(ce.UNKNOWN,"Server responded with status "+M.getStatus()))}else C(new ge(ce.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ct(Ts,`RPC '${n}' ${d} completed.`)}});const j=JSON.stringify(c);ct(Ts,`RPC '${n}' ${d} sending request:`,c),M.send(i,"POST",j,o,15)})}Bo(n,i,o){const c=Is(),d=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=Tt(),C=Ce(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.xmlHttpFactory=new zt({})),this.Oo(M.initMessageHeaders,i,o),M.encodeInitMessageHeaders=!0;const q=d.join("");ct(Ts,`Creating RPC '${n}' stream ${c}: ${q}`,M);const oe=m.createWebChannel(q,M);let Pe=!1,Ye=!1;const It=new Ko({Io:Ct=>{Ye?ct(Ts,`Not sending because RPC '${n}' stream ${c} is closed:`,Ct):(Pe||(ct(Ts,`Opening RPC '${n}' stream ${c} transport.`),oe.open(),Pe=!0),ct(Ts,`RPC '${n}' stream ${c} sending:`,Ct),oe.send(Ct))},To:()=>oe.close()}),Nt=(Ct,pn,On)=>{Ct.listen(pn,En=>{try{On(En)}catch(er){setTimeout(()=>{throw er},0)}})};return Nt(oe,Nn.EventType.OPEN,()=>{Ye||(ct(Ts,`RPC '${n}' stream ${c} transport opened.`),It.yo())}),Nt(oe,Nn.EventType.CLOSE,()=>{Ye||(Ye=!0,ct(Ts,`RPC '${n}' stream ${c} transport closed`),It.So())}),Nt(oe,Nn.EventType.ERROR,Ct=>{Ye||(Ye=!0,Xt(Ts,`RPC '${n}' stream ${c} transport errored:`,Ct),It.So(new ge(ce.UNAVAILABLE,"The operation could not be completed")))}),Nt(oe,Nn.EventType.MESSAGE,Ct=>{var pn;if(!Ye){const On=Ct.data[0];me(!!On);const er=On.error||(null===(pn=On[0])||void 0===pn?void 0:pn.error);if(er){ct(Ts,`RPC '${n}' stream ${c} received error:`,er);const en=er.status;let hr=function(ke){const ze=Mn[ke];if(void 0!==ze)return mr(ze)}(en),$e=er.message;void 0===hr&&(hr=ce.INTERNAL,$e="Unknown error status: "+en+" with message "+er.message),Ye=!0,It.So(new ge(hr,$e)),oe.close()}else ct(Ts,`RPC '${n}' stream ${c} received:`,On),It.bo(On)}}),Nt(C,Te.STAT_EVENT,Ct=>{Ct.stat===dt.PROXY?ct(Ts,`RPC '${n}' stream ${c} detected buffering proxy`):Ct.stat===dt.NOPROXY&&ct(Ts,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{It.wo()},0),It}}function rc(){return typeof document<"u"?document:null}function ya(u){return new hf(u,!0)}class ws{constructor(n,i,o=1e3,c=1.5,d=6e4){this.ui=n,this.timerId=i,this.ko=o,this.qo=c,this.Qo=d,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),c=Math.max(0,i-o);c>0&&ct("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ih{constructor(n,i,o,c,d,m,C,M){this.ui=n,this.Ho=o,this.Jo=c,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=M,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ws(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,V.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,V.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var o=this;return(0,V.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==n?o.t_.reset():i&&i.code===ce.RESOURCE_EXHAUSTED?(Mt(i.toString()),Mt("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):i&&i.code===ce.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Yo===i&&this.P_(o,c)},o=>{n(()=>{const c=new ge(ce.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(c)})})}P_(n,i){const o=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{o(()=>this.I_(c))}),this.stream.onMessage(c=>{o(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var n=this;this.state=5,this.t_.Go((0,V.A)(function*(){n.state=0,n.start()}))}I_(n){return ct("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ic extends ih{constructor(n,i,o,c,d,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,c,m),this.serializer=d}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function Ku(u,n){let i;if("targetChange"in n){const o="NO_CHANGE"===(j=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:pe(),c=n.targetChange.targetIds||[],d=function(j,q){return j.useProto3Json?(me(void 0===q||"string"==typeof q),Or.fromBase64String(q||"")):(me(void 0===q||q instanceof Buffer||q instanceof Uint8Array),Or.fromUint8Array(q||new Uint8Array))}(u,n.targetChange.resumeToken),m=n.targetChange.cause,C=m&&function(j){const q=void 0===j.code?ce.UNKNOWN:mr(j.code);return new ge(q,j.message||"")}(m);i=new Ui(o,c,d,C||null)}else if("documentChange"in n){const o=n.documentChange,c=mi(u,o.document.name),d=Ci(o.document.updateTime),m=o.document.createTime?Ci(o.document.createTime):_t.min(),C=new St({mapValue:{fields:o.document.fields}}),M=Ir.newFoundDocument(c,d,m,C);i=new wr(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in n){const o=n.documentDelete,c=mi(u,o.document),d=o.readTime?Ci(o.readTime):_t.min(),m=Ir.newNoDocument(c,d);i=new wr([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const o=n.documentRemove,c=mi(u,o.document);i=new wr([],o.removedTargetIds||[],c,null)}else{if(!("filter"in n))return pe();{const o=n.filter,{count:c=0,unchangedNames:d}=o,m=new xn(c,d);i=new jo(o.targetId,m)}}var j;return i}(this.serializer,n),o=function(d){if(!("targetChange"in d))return _t.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?_t.min():m.readTime?Ci(m.readTime):_t.min()}(n);return this.listener.d_(i,o)}A_(n){const i={};i.database=oa(this.serializer),i.addTarget=function(d,m){let C;const M=m.target;if(C=$i(M)?{documents:wc(d,M)}:{query:Qu(d,M)._t},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){C.resumeToken=mu(d,m.resumeToken);const j=ms(d,m.expectedCount);null!==j&&(C.expectedCount=j)}else if(m.snapshotVersion.compareTo(_t.min())>0){C.readTime=pa(d,m.snapshotVersion.toTimestamp());const j=ms(d,m.expectedCount);null!==j&&(C.expectedCount=j)}return C}(this.serializer,n);const o=function $o(u,n){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);o&&(i.labels=o),this.a_(i)}R_(n){const i={};i.database=oa(this.serializer),i.removeTarget=n,this.a_(i)}}class Cu extends ih{constructor(n,i,o,c,d,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,c,m),this.serializer=d}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return me(!!n.streamToken),this.lastStreamToken=n.streamToken,me(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){me(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function Tc(u,n){return u&&u.length>0?(me(void 0!==n),u.map(i=>function(c,d){let m=Ci(c.updateTime?c.updateTime:d);return m.isEqual(_t.min())&&(m=Ci(d)),new Re(m,c.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),o=Ci(n.commitTime);return this.listener.g_(o,i)}p_(){const n={};n.database=oa(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(o=>function ga(u,n){let i;if(n instanceof Tn)i={update:yu(u,n.key,n.value)};else if(n instanceof B)i={delete:Za(u,n.key)};else if(n instanceof or)i={update:yu(u,n.key,n.data),updateMask:Kd(n.fieldMask)};else{if(!(n instanceof de))return pe();i={verify:Za(u,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(o=>function(d,m){const C=m.transform;if(C instanceof Uo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Di)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ws)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof v)return{fieldPath:m.field.canonicalString(),increment:C.Pe};throw pe()}(0,o))),n.precondition.isNone||(i.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:Ul(u,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:pe()),i;var d}(this.serializer,o))};this.a_(i)}}class qo extends class{}{constructor(n,i,o,c){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=o,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Mo(n,yr(i,o),c,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(ce.UNKNOWN,d.toString())})}Lo(n,i,o,c,d){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.Lo(n,yr(i,o),c,m,C,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ge(ce.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sh{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mt(i),this.D_=!1):ct("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class oh{constructor(n,i,o,c,d){var m=this;this.localStore=n,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=d,this.k_._o(C=>{o.enqueueAndForget((0,V.A)(function*(){var M;Ao(m)&&(ct("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,V.A)(function*(q){const oe=be(q);oe.L_.add(4),yield dl(oe),oe.q_.set("Unknown"),oe.L_.delete(4),yield ah(oe)}),function j(q){return M.apply(this,arguments)})(m))}))}),this.q_=new sh(o,c)}}function ah(u){return ua.apply(this,arguments)}function ua(){return(ua=(0,V.A)(function*(u){if(Ao(u))for(const n of u.B_)yield n(!0)})).apply(this,arguments)}function dl(u){return vf.apply(this,arguments)}function vf(){return(vf=(0,V.A)(function*(u){for(const n of u.B_)yield n(!1)})).apply(this,arguments)}function uh(u,n){const i=be(u);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),dh(i)?nd(i):fl(i).r_()&&ch(i,n))}function sc(u,n){const i=be(u),o=fl(i);i.N_.delete(n),o.r_()&&lh(i,n),0===i.N_.size&&(o.r_()?o.o_():Ao(i)&&i.q_.set("Unknown"))}function ch(u,n){if(u.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(_t.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}fl(u).A_(n)}function lh(u,n){u.Q_.xe(n),fl(u).R_(n)}function nd(u){u.Q_=new eo({getRemoteKeysForTarget:n=>u.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>u.N_.get(n)||null,tt:()=>u.datastore.serializer.databaseId}),fl(u).start(),u.q_.v_()}function dh(u){return Ao(u)&&!fl(u).n_()&&u.N_.size>0}function Ao(u){return 0===be(u).L_.size}function Qn(u){u.Q_=void 0}function Ef(u){return hh.apply(this,arguments)}function hh(){return(hh=(0,V.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function dy(u){return hy.apply(this,arguments)}function hy(){return(hy=(0,V.A)(function*(u){u.N_.forEach((n,i)=>{ch(u,n)})})).apply(this,arguments)}function EE(u,n){return yg.apply(this,arguments)}function yg(){return(yg=(0,V.A)(function*(u,n){Qn(u),dh(u)?(u.q_.M_(n),nd(u)):u.q_.set("Unknown")})).apply(this,arguments)}function IE(u,n,i){return If.apply(this,arguments)}function If(){return If=(0,V.A)(function*(u,n,i){if(u.q_.set("Online"),n instanceof Ui&&2===n.state&&n.cause)try{yield(o=(0,V.A)(function*(d,m){const C=m.cause;for(const M of m.targetIds)d.N_.has(M)&&(yield d.remoteSyncer.rejectListen(M,C),d.N_.delete(M),d.Q_.removeTarget(M))}),function c(d,m){return o.apply(this,arguments)})(u,n)}catch(o){ct("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield Su(u,o)}else if(n instanceof wr?u.Q_.Ke(n):n instanceof jo?u.Q_.He(n):u.Q_.We(n),!i.isEqual(_t.min()))try{const o=yield Jd(u.localStore);i.compareTo(o)>=0&&(yield function(d,m){const C=d.Q_.rt(m);return C.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const q=d.N_.get(j);q&&d.N_.set(j,q.withResumeToken(M.resumeToken,m))}}),C.targetMismatches.forEach((M,j)=>{const q=d.N_.get(M);if(!q)return;d.N_.set(M,q.withResumeToken(Or.EMPTY_BYTE_STRING,q.snapshotVersion)),lh(d,M);const oe=new ma(q.target,M,j,q.sequenceNumber);ch(d,oe)}),d.remoteSyncer.applyRemoteEvent(C)}(u,i))}catch(o){ct("RemoteStore","Failed to raise snapshot:",o),yield Su(u,o)}var o}),If.apply(this,arguments)}function Su(u,n,i){return _g.apply(this,arguments)}function _g(){return(_g=(0,V.A)(function*(u,n,i){if(!se(n))throw n;u.L_.add(1),yield dl(u),u.q_.set("Offline"),i||(i=()=>Jd(u.localStore)),u.asyncQueue.enqueueRetryable((0,V.A)(function*(){ct("RemoteStore","Retrying IndexedDB access"),yield i(),u.L_.delete(1),yield ah(u)}))})).apply(this,arguments)}function fy(u,n){return n().catch(i=>Su(u,i,n))}function rd(u){return vg.apply(this,arguments)}function vg(){return(vg=(0,V.A)(function*(u){const n=be(u),i=ts(n);let o=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;TE(n);)try{const c=yield hg(n.localStore,o);if(null===c){0===n.O_.length&&i.o_();break}o=c.batchId,mt(n,c)}catch(c){yield Su(n,c)}dr(n)&&Eg(n)})).apply(this,arguments)}function TE(u){return Ao(u)&&u.O_.length<10}function mt(u,n){u.O_.push(n);const i=ts(u);i.r_()&&i.V_&&i.m_(n.mutations)}function dr(u){return Ao(u)&&!ts(u).n_()&&u.O_.length>0}function Eg(u){ts(u).start()}function py(u){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,V.A)(function*(u){ts(u).p_()})).apply(this,arguments)}function gy(u){return hl.apply(this,arguments)}function hl(){return(hl=(0,V.A)(function*(u){const n=ts(u);for(const i of u.O_)n.m_(i.mutations)})).apply(this,arguments)}function au(u,n,i){return fh.apply(this,arguments)}function fh(){return(fh=(0,V.A)(function*(u,n,i){const o=u.O_.shift(),c=ft.from(o,n,i);yield fy(u,()=>u.remoteSyncer.applySuccessfulWrite(c)),yield rd(u)})).apply(this,arguments)}function Ig(u,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,V.A)(function*(u,n){var i;n&&ts(u).V_&&(yield(i=(0,V.A)(function*(c,d){if(function br(u){switch(u){default:return pe();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}(C=d.code)&&C!==ce.ABORTED){const m=c.O_.shift();ts(c).s_(),yield fy(c,()=>c.remoteSyncer.rejectFailedWrite(m.batchId,d)),yield rd(c)}var C}),function o(c,d){return i.apply(this,arguments)})(u,n)),dr(u)&&Eg(u)}),Tf.apply(this,arguments)}function wE(u,n){return my.apply(this,arguments)}function my(){return(my=(0,V.A)(function*(u,n){const i=be(u);i.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const o=Ao(i);i.L_.add(3),yield dl(i),o&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield ah(i)})).apply(this,arguments)}function wf(u,n){return Af.apply(this,arguments)}function Af(){return(Af=(0,V.A)(function*(u,n){const i=be(u);n?(i.L_.delete(2),yield ah(i)):n||(i.L_.add(2),yield dl(i),i.q_.set("Unknown"))})).apply(this,arguments)}function fl(u){return u.K_||(u.K_=function(i,o,c){const d=be(i);return d.w_(),new ic(o,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(u.datastore,u.asyncQueue,{Eo:Ef.bind(null,u),Ro:dy.bind(null,u),mo:EE.bind(null,u),d_:IE.bind(null,u)}),u.B_.push(function(){var n=(0,V.A)(function*(i){i?(u.K_.s_(),dh(u)?nd(u):u.q_.set("Unknown")):(yield u.K_.stop(),Qn(u))});return function(i){return n.apply(this,arguments)}}())),u.K_}function ts(u){return u.U_||(u.U_=function(i,o,c){const d=be(i);return d.w_(),new Cu(o,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:py.bind(null,u),mo:Ig.bind(null,u),f_:gy.bind(null,u),g_:au.bind(null,u)}),u.B_.push(function(){var n=(0,V.A)(function*(i){i?(u.U_.s_(),yield rd(u)):(yield u.U_.stop(),u.O_.length>0&&(ct("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(i){return n.apply(this,arguments)}}())),u.U_}class uu{constructor(n,i,o,c,d){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,o,c,d){const m=Date.now()+o,C=new uu(n,i,m,c,d);return C.start(o),C}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(ce.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pl(u,n){if(Mt("AsyncQueue",`${n}: ${u}`),se(u))return new ge(ce.UNAVAILABLE,`${n}: ${u}`);throw u}class Do{constructor(n){this.comparator=n?(i,o)=>n(i,o)||Ot.comparator(i.key,o.key):(i,o)=>Ot.comparator(i.key,o.key),this.keyedMap=zs(),this.sortedSet=new cn(this.comparator)}static emptySet(n){return new Do(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,o)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Do)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const o=new Do;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=i,o}}class bu{constructor(){this.W_=new cn(Ot.comparator)}track(n){const i=n.doc.key,o=this.W_.get(i);o?0!==n.type&&3===o.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==o.type?this.W_=this.W_.insert(i,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.W_=this.W_.remove(i):1===n.type&&2===o.type?this.W_=this.W_.insert(i,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):pe():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,o)=>{n.push(o)}),n}}class id{constructor(n,i,o,c,d,m,C,M,j){this.query=n,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(n,i,o,c,d){const m=[];return i.forEach(C=>{m.push({type:0,doc:C})}),new id(n,i,Do.emptySet(i),m,o,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Io(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,o=n.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class yy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class AE{constructor(){this.queries=_y(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,o){const c=be(i),d=c.queries;c.queries=_y(),d.forEach((m,C)=>{for(const M of C.j_)M.onError(o)})}(this,new ge(ce.ABORTED,"Firestore shutting down"))}}function _y(){return new as(u=>sr(u),Io)}function ph(u,n){return gh.apply(this,arguments)}function gh(){return(gh=(0,V.A)(function*(u,n){const i=be(u);let o=3;const c=n.query;let d=i.queries.get(c);d?!d.H_()&&n.J_()&&(o=2):(d=new yy,o=n.J_()?0:1);try{switch(o){case 0:d.z_=yield i.onListen(c,!0);break;case 1:d.z_=yield i.onListen(c,!1);break;case 2:yield i.onFirstRemoteStoreListen(c)}}catch(m){const C=pl(m,`Initialization of query '${da(n.query)}' failed`);return void n.onError(C)}i.queries.set(c,d),d.j_.push(n),n.Z_(i.onlineState),d.z_&&n.X_(d.z_)&&yh(i)})).apply(this,arguments)}function mh(u,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,V.A)(function*(u,n){const i=be(u),o=n.query;let c=3;const d=i.queries.get(o);if(d){const m=d.j_.indexOf(n);m>=0&&(d.j_.splice(m,1),0===d.j_.length?c=n.J_()?0:1:!d.H_()&&n.J_()&&(c=2))}switch(c){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function DE(u,n){const i=be(u);let o=!1;for(const c of n){const m=i.queries.get(c.query);if(m){for(const C of m.j_)C.X_(c)&&(o=!0);m.z_=c}}o&&yh(i)}function vy(u,n,i){const o=be(u),c=o.queries.get(n);if(c)for(const d of c.j_)d.onError(i);o.queries.delete(n)}function yh(u){u.Y_.forEach(n=>{n.next()})}var Df,Tg;(Tg=Df||(Df={})).ea="default",Tg.Cache="cache";class Cf{constructor(n,i,o){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(n){if(!this.options.includeMetadataChanges){const o=[];for(const c of n.docChanges)3!==c.type&&o.push(c);n=new id(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=id.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Df.Cache}}class Vc{constructor(n){this.key=n}}class _i{constructor(n){this.key=n}}class wg{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Yn(),this.mutatedKeys=Yn(),this.Aa=ba(n),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(n,i){const o=i?i.fa:new bu,c=i?i.Ra:this.Ra;let d=i?i.mutatedKeys:this.mutatedKeys,m=c,C=!1;const M="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,j="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((q,oe)=>{const Pe=c.get(q),Ye=Oi(this.query,oe)?oe:null,It=!!Pe&&this.mutatedKeys.has(Pe.key),Nt=!!Ye&&(Ye.hasLocalMutations||this.mutatedKeys.has(Ye.key)&&Ye.hasCommittedMutations);let Ct=!1;Pe&&Ye?Pe.data.isEqual(Ye.data)?It!==Nt&&(o.track({type:3,doc:Ye}),Ct=!0):this.ga(Pe,Ye)||(o.track({type:2,doc:Ye}),Ct=!0,(M&&this.Aa(Ye,M)>0||j&&this.Aa(Ye,j)<0)&&(C=!0)):!Pe&&Ye?(o.track({type:0,doc:Ye}),Ct=!0):Pe&&!Ye&&(o.track({type:1,doc:Pe}),Ct=!0,(M||j)&&(C=!0)),Ct&&(Ye?(m=m.add(Ye),d=Nt?d.add(q):d.delete(q)):(m=m.delete(q),d=d.delete(q)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const q="F"===this.query.limitType?m.last():m.first();m=m.delete(q.key),d=d.delete(q.key),o.track({type:1,doc:q})}return{Ra:m,fa:o,ns:C,mutatedKeys:d}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,o,c){const d=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const m=n.fa.G_();m.sort((q,oe)=>function(Ye,It){const Nt=Ct=>{switch(Ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Nt(Ye)-Nt(It)}(q.type,oe.type)||this.Aa(q.doc,oe.doc)),this.pa(o),c=null!=c&&c;const C=i&&!c?this.ya():[],M=0===this.da.size&&this.current&&!c?1:0,j=M!==this.Ea;return this.Ea=M,0!==m.length||j?{snapshot:new id(this.query,n.Ra,d,m,n.mutatedKeys,0===M,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Yn(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const i=[];return n.forEach(o=>{this.da.has(o)||i.push(new _i(o))}),this.da.forEach(o=>{n.has(o)||i.push(new Vc(o))}),i}ba(n){this.Ta=n.Ts,this.da=Yn();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return id.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class SE{constructor(n,i,o){this.query=n,this.targetId=i,this.view=o}}class bE{constructor(n){this.key=n,this.va=!1}}class RE{constructor(n,i,o,c,d,m){this.localStore=n,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new as(C=>sr(C),Io),this.Ma=new Map,this.xa=new Set,this.Oa=new cn(Ot.comparator),this.Na=new Map,this.La=new Tu,this.Ba={},this.ka=new Map,this.qa=iu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Iy(u,n){return bf.apply(this,arguments)}function bf(){return(bf=(0,V.A)(function*(u,n,i=!0){const o=oc(u);let c;const d=o.Fa.get(n);return d?(o.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.Da()):c=yield Ty(o,n,i,!0),c})).apply(this,arguments)}function _h(u,n){return Va.apply(this,arguments)}function Va(){return(Va=(0,V.A)(function*(u,n){const i=oc(u);yield Ty(i,n,!0,!1)})).apply(this,arguments)}function Ty(u,n,i,o){return od.apply(this,arguments)}function od(){return(od=(0,V.A)(function*(u,n,i,o){const c=yield function Au(u,n){const i=be(u);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.Ur.getTargetData(o,n).next(d=>d?(c=d,Me.resolve(c)):i.Ur.allocateTargetId(o).next(m=>(c=new ma(n,m,"TargetPurposeListen",o.currentSequenceNumber),i.Ur.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.os.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.os=i.os.insert(o.targetId,o),i._s.set(n,o.targetId)),o})}(u.localStore,Jt(n)),d=c.targetId,m=u.sharedClientState.addLocalQueryTarget(d,i);let C;return o&&(C=yield function ad(u,n,i,o,c){return ud.apply(this,arguments)}(u,n,d,"current"===m,c.resumeToken)),u.isPrimaryClient&&i&&uh(u.remoteStore,c),C})).apply(this,arguments)}function ud(){return ud=(0,V.A)(function*(u,n,i,o,c){u.Ka=(oe,Pe,Ye)=>{return(It=(0,V.A)(function*(Ct,pn,On,En){let er=pn.view.ma(On);er.ns&&(er=yield nh(Ct.localStore,pn.query,!1).then(({documents:Ie})=>pn.view.ma(Ie,er)));const en=En&&En.targetChanges.get(pn.targetId),hr=En&&null!=En.targetMismatches.get(pn.targetId),$e=pn.view.applyChanges(er,Ct.isPrimaryClient,en,hr);return Th(Ct,pn.targetId,$e.wa),$e.snapshot}),function Nt(Ct,pn,On,En){return It.apply(this,arguments)})(u,oe,Pe,Ye);var It};const d=yield nh(u.localStore,n,!0),m=new wg(n,d.Ts),C=m.ma(d.documents),M=Hi.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==u.onlineState,c),j=m.applyChanges(C,u.isPrimaryClient,M);Th(u,i,j.wa);const q=new SE(n,i,m);return u.Fa.set(n,q),u.Ma.has(i)?u.Ma.get(i).push(n):u.Ma.set(i,[n]),j.snapshot}),ud.apply(this,arguments)}function Ag(u,n,i){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,V.A)(function*(u,n,i){const o=be(u),c=o.Fa.get(n),d=o.Ma.get(c.targetId);if(d.length>1)return o.Ma.set(c.targetId,d.filter(m=>!Io(m,n))),void o.Fa.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Fc(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),i&&sc(o.remoteStore,c.targetId),Ru(o,c.targetId)}).catch($r))):(Ru(o,c.targetId),yield Fc(o.localStore,c.targetId,!0))})).apply(this,arguments)}function wy(u,n){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,V.A)(function*(u,n){const i=be(u),o=i.Fa.get(n),c=i.Ma.get(o.targetId);i.isPrimaryClient&&1===c.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),sc(i.remoteStore,o.targetId))})).apply(this,arguments)}function gl(){return(gl=(0,V.A)(function*(u,n,i){const o=function Uc(u){const n=be(u);return n.remoteStore.remoteSyncer.applySuccessfulWrite=ME.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=mw.bind(null,n),n}(u);try{const c=yield function(m,C){const M=be(m),j=ir.now(),q=C.reduce((Ye,It)=>Ye.add(It.key),Yn());let oe,Pe;return M.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let It=Ai(),Nt=Yn();return M.cs.getEntries(Ye,q).next(Ct=>{It=Ct,It.forEach((pn,On)=>{On.isValidDocument()||(Nt=Nt.add(pn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Ye,It)).next(Ct=>{oe=Ct;const pn=[];for(const On of C){const En=Vn(On,oe.get(On.key).overlayedDocument);null!=En&&pn.push(new or(On.key,En,fo(En.value.mapValue),De.exists(!0)))}return M.mutationQueue.addMutationBatch(Ye,j,pn,C)}).next(Ct=>{Pe=Ct;const pn=Ct.applyToLocalDocumentSet(oe,Nt);return M.documentOverlayCache.saveOverlays(Ye,Ct.batchId,pn)})}).then(()=>({batchId:Pe.batchId,changes:Qa(oe)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(c.batchId),function(m,C,M){let j=m.Ba[m.currentUser.toKey()];j||(j=new cn(on)),j=j.insert(C,M),m.Ba[m.currentUser.toKey()]=j}(o,c.batchId,i),yield Pu(o,c.changes),yield rd(o.remoteStore)}catch(c){const d=pl(c,"Failed to persist write");i.reject(d)}})).apply(this,arguments)}function Ay(u,n){return vh.apply(this,arguments)}function vh(){return(vh=(0,V.A)(function*(u,n){const i=be(u);try{const o=yield function vE(u,n){const i=be(u),o=n.snapshotVersion;let c=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=i.cs.newChangeBuffer({trackRemovals:!0});c=i.os;const C=[];n.targetChanges.forEach((q,oe)=>{const Pe=c.get(oe);if(!Pe)return;C.push(i.Ur.removeMatchingKeys(d,q.removedDocuments,oe).next(()=>i.Ur.addMatchingKeys(d,q.addedDocuments,oe)));let Ye=Pe.withSequenceNumber(d.currentSequenceNumber);var Nt,Ct,pn;null!==n.targetMismatches.get(oe)?Ye=Ye.withResumeToken(Or.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):q.resumeToken.approximateByteSize()>0&&(Ye=Ye.withResumeToken(q.resumeToken,o)),c=c.insert(oe,Ye),Ct=Ye,pn=q,(0===(Nt=Pe).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-Nt.snapshotVersion.toMicroseconds()>=3e8||pn.addedDocuments.size+pn.modifiedDocuments.size+pn.removedDocuments.size>0)&&C.push(i.Ur.updateTargetData(d,Ye))});let M=Ai(),j=Yn();if(n.documentUpdates.forEach(q=>{n.resolvedLimboDocuments.has(q)&&C.push(i.persistence.referenceDelegate.updateLimboDocument(d,q))}),C.push(function eh(u,n,i){let o=Yn(),c=Yn();return i.forEach(d=>o=o.add(d)),n.getEntries(u,o).next(d=>{let m=Ai();return i.forEach((C,M)=>{const j=d.get(C);M.isFoundDocument()!==j.isFoundDocument()&&(c=c.add(C)),M.isNoDocument()&&M.version.isEqual(_t.min())?(n.removeEntry(C,M.readTime),m=m.insert(C,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(n.addEntry(M),m=m.insert(C,M)):ct("LocalStore","Ignoring outdated watch update for ",C,". Current version:",j.version," Watch version:",M.version)}),{Ps:m,Is:c}})}(d,m,n.documentUpdates).next(q=>{M=q.Ps,j=q.Is})),!o.isEqual(_t.min())){const q=i.Ur.getLastRemoteSnapshotVersion(d).next(oe=>i.Ur.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(q)}return Me.waitFor(C).next(()=>m.apply(d)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,M,j)).next(()=>M)}).then(d=>(i.os=c,d))}(i.localStore,n);n.targetChanges.forEach((c,d)=>{const m=i.Na.get(d);m&&(me(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.va=!0:c.modifiedDocuments.size>0?me(m.va):c.removedDocuments.size>0&&(me(m.va),m.va=!1))}),yield Pu(i,o,n)}catch(o){yield $r(o)}})).apply(this,arguments)}function Cg(u,n,i){const o=be(u);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.Fa.forEach((d,m)=>{const C=m.view.Z_(n);C.snapshot&&c.push(C.snapshot)}),function(m,C){const M=be(m);M.onlineState=C;let j=!1;M.queries.forEach((q,oe)=>{for(const Pe of oe.j_)Pe.Z_(C)&&(j=!0)}),j&&yh(M)}(o.eventManager,n),c.length&&o.Ca.d_(c),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function PE(u,n,i){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,V.A)(function*(u,n,i){const o=be(u);o.sharedClientState.updateQueryState(n,"rejected",i);const c=o.Na.get(n),d=c&&c.key;if(d){let m=new cn(Ot.comparator);m=m.insert(d,Ir.newNoDocument(d,_t.min()));const C=Yn().add(d),M=new Qr(_t.min(),new Map,new cn(on),m,C);yield Ay(o,M),o.Oa=o.Oa.remove(d),o.Na.delete(n),Sy(o)}else yield Fc(o.localStore,n,!1).then(()=>Ru(o,n,i)).catch($r)})).apply(this,arguments)}function ME(u,n){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,V.A)(function*(u,n){const i=be(u),o=n.batch.batchId;try{const c=yield function yf(u,n){const i=be(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=n.batch.keys(),d=i.cs.newChangeBuffer({trackRemovals:!0});return function(C,M,j,q){const oe=j.batch,Pe=oe.keys();let Ye=Me.resolve();return Pe.forEach(It=>{Ye=Ye.next(()=>q.getEntry(M,It)).next(Nt=>{const Ct=j.docVersions.get(It);me(null!==Ct),Nt.version.compareTo(Ct)<0&&(oe.applyToRemoteDocument(Nt,j),Nt.isValidDocument()&&(Nt.setReadTime(j.commitVersion),q.addEntry(Nt)))})}),Ye.next(()=>C.mutationQueue.removeMutationBatch(M,oe))}(i,o,n,d).next(()=>d.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,c,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let M=Yn();for(let j=0;j<C.mutationResults.length;++j)C.mutationResults[j].transformResults.length>0&&(M=M.add(C.batch.mutations[j].key));return M}(n))).next(()=>i.localDocuments.getDocuments(o,c))})}(i.localStore,n);bg(i,o,null),yl(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Pu(i,c)}catch(c){yield $r(c)}})).apply(this,arguments)}function mw(u,n,i){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,V.A)(function*(u,n,i){const o=be(u);try{const c=yield function(m,C){const M=be(m);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let q;return M.mutationQueue.lookupMutationBatch(j,C).next(oe=>(me(null!==oe),q=oe.keys(),M.mutationQueue.removeMutationBatch(j,oe))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,q,C)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,q)).next(()=>M.localDocuments.getDocuments(j,q))})}(o.localStore,n);bg(o,n,i),yl(o,n),o.sharedClientState.updateMutationState(n,"rejected",i),yield Pu(o,c)}catch(c){yield $r(c)}})).apply(this,arguments)}function yl(u,n){(u.ka.get(n)||[]).forEach(i=>{i.resolve()}),u.ka.delete(n)}function bg(u,n,i){const o=be(u);let c=o.Ba[o.currentUser.toKey()];if(c){const d=c.get(n);d&&(i?d.reject(i):d.resolve(),c=c.remove(n)),o.Ba[o.currentUser.toKey()]=c}}function Ru(u,n,i=null){u.sharedClientState.removeLocalQueryTarget(n);for(const o of u.Ma.get(n))u.Fa.delete(o),i&&u.Ca.$a(o,i);u.Ma.delete(n),u.isPrimaryClient&&u.La.gr(n).forEach(o=>{u.La.containsKey(o)||Cy(u,o)})}function Cy(u,n){u.xa.delete(n.path.canonicalString());const i=u.Oa.get(n);null!==i&&(sc(u.remoteStore,i),u.Oa=u.Oa.remove(n),u.Na.delete(i),Sy(u))}function Th(u,n,i){for(const o of i)o instanceof Vc?(u.La.addReference(o.key,n),Pf(u,o)):o instanceof _i?(ct("SyncEngine","Document no longer in limbo: "+o.key),u.La.removeReference(o.key,n),u.La.containsKey(o.key)||Cy(u,o.key)):pe()}function Pf(u,n){const i=n.key,o=i.path.canonicalString();u.Oa.get(i)||u.xa.has(o)||(ct("SyncEngine","New document in limbo: "+i),u.xa.add(o),Sy(u))}function Sy(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const n=u.xa.values().next().value;u.xa.delete(n);const i=new Ot(yn.fromString(n)),o=u.qa.next();u.Na.set(o,new bE(i)),u.Oa=u.Oa.insert(i,o),uh(u.remoteStore,new ma(Jt(bs(i.path)),o,"TargetPurposeLimboResolution",Jn.oe))}}function Pu(u,n,i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,V.A)(function*(u,n,i){const o=be(u),c=[],d=[],m=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,M)=>{m.push(o.Ka(M,n,i).then(j=>{var q;if((j||i)&&o.isPrimaryClient){const oe=j?!j.fromCache:null===(q=i?.targetChanges.get(M.targetId))||void 0===q?void 0:q.current;o.sharedClientState.updateQueryState(M.targetId,oe?"current":"not-current")}if(j){c.push(j);const oe=nc.Wi(M.targetId,j);d.push(oe)}}))}),yield Promise.all(m),o.Ca.d_(c),yield(C=(0,V.A)(function*(j,q){const oe=be(j);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pe=>Me.forEach(q,Ye=>Me.forEach(Ye.$i,It=>oe.persistence.referenceDelegate.addReference(Pe,Ye.targetId,It)).next(()=>Me.forEach(Ye.Ui,It=>oe.persistence.referenceDelegate.removeReference(Pe,Ye.targetId,It)))))}catch(Pe){if(!se(Pe))throw Pe;ct("LocalStore","Failed to update sequence numbers: "+Pe)}for(const Pe of q){const Ye=Pe.targetId;if(!Pe.fromCache){const It=oe.os.get(Ye),Ct=It.withLastLimboFreeSnapshotVersion(It.snapshotVersion);oe.os=oe.os.insert(Ye,Ct)}}}),function M(j,q){return C.apply(this,arguments)})(o.localStore,d))}),Mf.apply(this,arguments)}function NE(u,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,V.A)(function*(u,n){const i=be(u);if(!i.currentUser.isEqual(n)){ct("SyncEngine","User change. New user:",n.toKey());const o=yield Jl(i.localStore,n);i.currentUser=n,(d=i).ka.forEach(C=>{C.forEach(M=>{M.reject(new ge(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ka.clear(),i.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield Pu(i,o.hs)}var d})).apply(this,arguments)}function OE(u,n){const i=be(u),o=i.Na.get(n);if(o&&o.va)return Yn().add(o.key);{let c=Yn();const d=i.Ma.get(n);if(!d)return c;for(const m of d){const C=i.Fa.get(m);c=c.unionWith(C.view.Va)}return c}}function oc(u){const n=be(u);return n.remoteStore.remoteSyncer.applyRemoteEvent=Ay.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=PE.bind(null,n),n.Ca.d_=DE.bind(null,n.eventManager),n.Ca.$a=vy.bind(null,n.eventManager),n}class dd{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,V.A)(function*(){i.serializer=ya(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return function mf(u,n,i,o){return new Zl(u,n,i,o)}(this.persistence,new Lc,n.initialUser,this.serializer)}createPersistence(n){return new ul(Wo.Zr,this.serializer)}createSharedClientState(n){return new At}terminate(){var n=this;return(0,V.A)(function*(){var i,o;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(o=n.indexBackfillerScheduler)||void 0===o||o.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class vl{initialize(n,i){var o=this;return(0,V.A)(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Cg(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=NE.bind(null,o.syncEngine),yield wf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new AE}createDatastore(n){const i=ya(n.databaseInfo.databaseId),o=new td(n.databaseInfo);return new qo(n.authCredentials,n.appCheckCredentials,o,i)}createRemoteStore(n){return o=this.localStore,c=this.datastore,d=n.asyncQueue,m=i=>Cg(this.syncEngine,i,0),C=An.D()?new An:new rn,new oh(o,c,d,m,C);var o,c,d,m,C}createSyncEngine(n,i){return function(c,d,m,C,M,j,q){const oe=new RE(c,d,m,C,M,j);return q&&(oe.Qa=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,V.A)(function*(){var i,o,c;yield(c=(0,V.A)(function*(m){const C=be(m);ct("RemoteStore","RemoteStore shutting down."),C.L_.add(5),yield dl(C),C.k_.shutdown(),C.q_.set("Unknown")}),function d(m){return c.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(o=n.eventManager)||void 0===o||o.terminate()})()}}class Ff{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):Mt("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class ky{constructor(n,i,o,c){var d=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=c,this.user=Ae.UNAUTHENTICATED,this.clientId=ui.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,V.A)(function*(C){ct("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(ct("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(o){const c=pl(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function Uf(u,n){return xg.apply(this,arguments)}function xg(){return xg=(0,V.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield n.initialize(i);let o=i.initialUser;u.setCredentialChangeListener(function(){var c=(0,V.A)(function*(d){o.isEqual(d)||(yield Jl(n.localStore,d),o=d)});return function(d){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=n}),xg.apply(this,arguments)}function kg(u,n){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,V.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress();const i=yield function jf(u){return Lg.apply(this,arguments)}(u);ct("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,u.configuration),u.setCredentialChangeListener(o=>wE(n.remoteStore,o)),u.setAppCheckTokenChangeListener((o,c)=>wE(n.remoteStore,c)),u._onlineComponents=n})).apply(this,arguments)}function Lg(){return(Lg=(0,V.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uf(u,u._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!function Ly(u){return"FirebaseError"===u.name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}(i))throw i;Xt("Error using user provided cache. Falling back to memory cache: "+i),yield Uf(u,new dd)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),yield Uf(u,new dd);return u._offlineComponents})).apply(this,arguments)}function $f(u){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,V.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield kg(u,u._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),yield kg(u,new vl))),u._onlineComponents})).apply(this,arguments)}function Ch(u){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,V.A)(function*(u){const n=yield $f(u),i=n.eventManager;return i.onListen=Iy.bind(null,n.syncEngine),i.onUnlisten=Ag.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=_h.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=wy.bind(null,n.syncEngine),i})).apply(this,arguments)}function LE(u){const n={};return void 0!==u.timeoutSeconds&&(n.timeoutSeconds=u.timeoutSeconds),n}const Wf=new Map;function fd(u,n,i){if(!i)throw new ge(ce.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${n}.`)}function ki(u){if(!Ot.isDocumentKey(u))throw new ge(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function zy(u){if(Ot.isDocumentKey(u))throw new ge(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function pd(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const n=(o=u).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof u?"a function":pe()}function Ar(u,n){if("_delegate"in u&&(u=u._delegate),!(u instanceof n)){if(n.name===u.constructor.name)throw new ge(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pd(u);throw new ge(ce.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return u}class Gf{constructor(n){var i,o;if(void 0===n.host){if(void 0!==n.ssl)throw new ge(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ge(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function FE(u,n,i,o){if(!0===n&&!0===o)throw new ge(ce.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LE(null!==(o=n.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class gd{constructor(n,i,o,c){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ge(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(n),void 0!==n.credentials&&(this._authCredentials=function(o){if(!o)return new Dr;switch(o.type){case"firstParty":return new Ur(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ge(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=Wf.get(i);o&&(ct("ComponentProvider","Removing Datastore"),Wf.delete(i),o.terminate())}(this),Promise.resolve()}}class Ms{constructor(n,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new Ms(this.firestore,n,this._query)}}class cs{constructor(n,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new cs(this.firestore,n,this._key)}}class Nu extends Ms{constructor(n,i,o){super(n,i,bs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new cs(this.firestore,null,new Ot(n))}withConverter(n){return new Nu(this.firestore,n,this._path)}}function Ky(u,n,...i){if(u=(0,Y.Ku)(u),fd("collection","path",n),u instanceof gd){const o=yn.fromString(n,...i);return zy(o),new Nu(u,null,o)}{if(!(u instanceof cs||u instanceof Nu))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(yn.fromString(n,...i));return zy(o),new Nu(u.firestore,null,o)}}function Ou(u,n,...i){if(u=(0,Y.Ku)(u),1===arguments.length&&(n=ui.newId()),fd("doc","path",n),u instanceof gd){const o=yn.fromString(n,...i);return ki(o),new cs(u,null,new Ot(o))}{if(!(u instanceof cs||u instanceof Nu))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(yn.fromString(n,...i));return ki(o),new cs(u.firestore,u instanceof Nu?u.converter:null,new Ot(o))}}class Iw{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ws(this,"async_queue_retry"),this.Eu=()=>{const i=rc();i&&ct("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const n=rc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const i=rc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const i=new Ut;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}Ru(){var n=this;return(0,V.A)(function*(){if(0!==n.uu.length){try{yield n.uu[0](),n.uu.shift(),n.t_.reset()}catch(i){if(!se(i))throw i;ct("AsyncQueue","Operation failed with retryable error: "+i)}n.uu.length>0&&n.t_.Go(()=>n.Ru())}})()}Au(n){const i=this.au.then(()=>(this.Pu=!0,n().catch(o=>{throw this.hu=o,this.Pu=!1,Mt("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(o)),o}).then(o=>(this.Pu=!1,o))));return this.au=i,i}enqueueAfterDelay(n,i,o){this.du(),this.Tu.indexOf(n)>-1&&(i=0);const c=uu.createAndSchedule(this,n,i,o,d=>this.Vu(d));return this.lu.push(c),c}du(){this.hu&&pe()}verifyOperationInProgress(){}mu(){var n=this;return(0,V.A)(function*(){let i;do{i=n.au,yield i}while(i!==n.au)})()}fu(n){for(const i of this.lu)if(i.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const i=this.lu.indexOf(n);this.lu.splice(i,1)}}function qy(u){return function(i){if("object"!=typeof i||null===i)return!1;const c=i;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(u)}class vi extends gd{constructor(n,i,o,c){super(n,i,o,c),this.type="firestore",this._queue=new Iw,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bg(this),this._firestoreClient.terminate()}}function md(u,n){const i="object"==typeof u?u:(0,K.Sx)(),o="string"==typeof u?u:n||"(default)",c=(0,K.j6)(i,"firestore").getImmediate({identifier:o});if(!c._initialized){const d=(0,Y.yU)("firestore");d&&function Gy(u,n,i,o={}){var c;const d=(u=Ar(u,gd))._getSettings(),m=`${n}:${i}`;if("firestore.googleapis.com"!==d.host&&d.host!==m&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},d),{host:m,ssl:!1})),o.mockUserToken){let C,M;if("string"==typeof o.mockUserToken)C=o.mockUserToken,M=Ae.MOCK_USER;else{C=(0,Y.Fy)(o.mockUserToken,null===(c=u._app)||void 0===c?void 0:c.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new ge(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Ae(j)}u._authCredentials=new nn(new Gn(C,M))}}(c,...d)}return c}function Ei(u){return u._firestoreClient||Bg(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Bg(u){var n,i,o;const c=u._freezeSettings(),d=(M=(null===(n=u._app)||void 0===n?void 0:n.options.appId)||"",new Wa(u._databaseId,M,u._persistenceKey,(q=c).host,q.ssl,q.experimentalForceLongPolling,q.experimentalAutoDetectLongPolling,LE(q.experimentalLongPollingOptions),q.useFetchStreams));var M,q;u._firestoreClient=new ky(u._authCredentials,u._appCheckCredentials,u._queue,d),null!==(i=c.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(o=c.localCache)&&void 0!==o&&o._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}class Bc{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Bc(Or.fromBase64String(n))}catch(i){throw new ge(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Bc(Or.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ac{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new ge(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Ns{constructor(n){this._methodName=n}}class bh{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new ge(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new ge(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return on(this._lat,n._lat)||on(this._long,n._long)}}class Rh{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(o,c){if(o.length!==c.length)return!1;for(let d=0;d<o.length;++d)if(o[d]!==c[d])return!1;return!0}(this._values,n._values)}}const Qf=/^__.*__$/;class Sw{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return null!==this.fieldMask?new or(n,this.data,this.fieldMask,i,this.fieldTransforms):new Tn(n,this.data,i,this.fieldTransforms)}}class jE{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return new or(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function io(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class uc{constructor(n,i,o,c,d,m){this.settings=n,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===d&&this.yu(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(n){return new uc(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.Su({path:o,Du:!1});return c.vu(n),c}Cu(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.Su({path:o,Du:!1});return c.yu(),c}Fu(n){return this.Su({path:void 0,Du:!0})}Mu(n){return Mh(n,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}yu(){if(this.path)for(let n=0;n<this.path.length;n++)this.vu(this.path.get(n))}vu(n){if(0===n.length)throw this.Mu("Document fields must not be empty");if(io(this.wu)&&Qf.test(n))throw this.Mu('Document fields cannot begin and end with "__"')}}class Jy{constructor(n,i,o){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=o||ya(n)}Nu(n,i,o,c=!1){return new uc({wu:n,methodName:i,Ou:o,path:yt.emptyPath(),Du:!1,xu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jc(u){const n=u._freezeSettings(),i=ya(u._databaseId);return new Jy(u._databaseId,!!n.ignoreUndefinedProperties,i)}function Xf(u,n,i,o,c,d={}){const m=u.Nu(d.merge||d.mergeFields?2:0,n,i,c);vd("Data must be an object, but it was:",m,o);const C=Wg(o,m);let M,j;if(d.merge)M=new qr(m.fieldMask),j=m.fieldTransforms;else if(d.mergeFields){const q=[];for(const oe of d.mergeFields){const Pe=Ed(n,oe,i);if(!m.contains(Pe))throw new ge(ce.INVALID_ARGUMENT,`Field '${Pe}' is specified in your field mask but missing from your input data.`);r_(q,Pe)||q.push(Pe)}M=new qr(q),j=m.fieldTransforms.filter(oe=>M.covers(oe.field))}else M=null,j=m.fieldTransforms;return new Sw(new St(C),M,j)}class _d extends Ns{_toFieldTransform(n){if(2!==n.wu)throw n.Mu(1===n.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof _d}}function $c(u,n){if(Gg(u=(0,Y.Ku)(u)))return vd("Unsupported field value:",n,u),Wg(u,n);if(u instanceof Ns)return function(o,c){if(!io(c.wu))throw c.Mu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Mu(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(u,n),null;if(void 0===u&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),u instanceof Array){if(n.settings.Du&&4!==n.wu)throw n.Mu("Nested arrays are not supported");return function(o,c){const d=[];let m=0;for(const C of o){let M=$c(C,c.Fu(m));null==M&&(M={nullValue:"NULL_VALUE"}),d.push(M),m++}return{arrayValue:{values:d}}}(u,n)}return function(o,c){if(null===(o=(0,Y.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ec(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=ir.fromDate(o);return{timestampValue:pa(c.serializer,d)}}if(o instanceof ir){const d=new ir(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:pa(c.serializer,d)}}if(o instanceof bh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Bc)return{bytesValue:mu(c.serializer,o._byteString)};if(o instanceof cs){const d=c.databaseId,m=o.firestore._databaseId;if(!m.isEqual(d))throw c.Mu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Pr(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof Rh)return C=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(M=>{if("number"!=typeof M)throw C.Mu("VectorValues must only contain numeric values.");return Ra(C.serializer,M)})}}}}};var C;throw c.Mu(`Unsupported field value: ${pd(o)}`)}(u,n)}function Wg(u,n){const i={};return pr(u)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):qn(u,(o,c)=>{const d=$c(c,n.bu(o));null!=d&&(i[o]=d)}),{mapValue:{fields:i}}}function Gg(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof ir||u instanceof bh||u instanceof Bc||u instanceof cs||u instanceof Ns||u instanceof Rh)}function vd(u,n,i){if(!Gg(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=pd(i);throw n.Mu("an object"===o?u+" a custom object":u+" "+o)}var c}function Ed(u,n,i){if((n=(0,Y.Ku)(n))instanceof ac)return n._internalPath;if("string"==typeof n)return Ph(u,n);throw Mh("Field path arguments must be of type string or ",u,!1,void 0,i)}const n_=new RegExp("[~\\*/\\[\\]]");function Ph(u,n,i){if(n.search(n_)>=0)throw Mh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new ac(...n.split("."))._internalPath}catch{throw Mh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function Mh(u,n,i,o,c){const d=o&&!o.isEmpty(),m=void 0!==c;let C=`Function ${n}() called with invalid data`;i&&(C+=" (via `toFirestore()`)"),C+=". ";let M="";return(d||m)&&(M+=" (found",d&&(M+=` in field ${o}`),m&&(M+=` in document ${c}`),M+=")"),new ge(ce.INVALID_ARGUMENT,C+u+M)}function r_(u,n){return u.some(i=>i.isEqual(n))}class Nh{constructor(n,i,o,c,d){this._firestore=n,this._userDataWriter=i,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new $E(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Jf("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class $E extends Nh{data(){return super.data()}}function Jf(u,n){return"string"==typeof n?Ph(u,n):n instanceof ac?n._internalPath:n._delegate._internalPath}function Kg(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new ge(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i_{}class Id extends i_{}function HE(u,n,...i){let o=[];n instanceof i_&&o.push(n),o=o.concat(i),function(d){const m=d.filter(M=>M instanceof Td).length,C=d.filter(M=>M instanceof Oh).length;if(m>1||m>0&&C>0)throw new ge(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)u=c._apply(u);return u}class Oh extends Id{constructor(n,i,o){super(),this._field=n,this._op=i,this._value=o,this.type="where"}static _create(n,i,o){return new Oh(n,i,o)}_apply(n){const i=this._parse(n);return o_(n._query,i),new Ms(n.firestore,n.converter,Hu(n._query,i))}_parse(n){const i=jc(n.firestore);return function(d,m,C,M,j,q,oe){let Pe;if(j.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){xh(oe,q);const Ye=[];for(const It of oe)Ye.push(KE(M,d,It));Pe={arrayValue:{values:Ye}}}else Pe=KE(M,d,oe)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||xh(oe,q),Pe=function t_(u,n,i,o=!1){return $c(i,u.Nu(o?4:3,n))}(C,"where",oe,"in"===q||"not-in"===q);return jn.create(j,q,Pe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function bw(u,n,i){const o=n,c=Jf("where",u);return Oh._create(c,o,i)}class Td extends i_{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Td(n,i)}_parse(n){const i=this._queryConstraints.map(o=>o._parse(n)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:$n.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(c,d){let m=c;const C=d.getFlattenedFilters();for(const M of C)o_(m,M),m=Hu(m,M)}(n._query,i),new Ms(n.firestore,n.converter,Hu(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function KE(u,n,i){if("string"==typeof(i=(0,Y.Ku)(i))){if(""===i)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Da(n)&&-1!==i.indexOf("/"))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=n.path.child(yn.fromString(i));if(!Ot.isDocumentKey(o))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return lo(u,new Ot(o))}if(i instanceof cs)return lo(u,i._key);throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(i)}.`)}function xh(u,n){if(!Array.isArray(u)||0===u.length)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function o_(u,n){const i=function(c,d){for(const m of c)for(const C of m.getFlattenedFilters())if(d.indexOf(C.op)>=0)return C.op;return null}(u.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new ge(ce.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class np{convertValue(n,i="none"){switch(Bs(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(ds(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw pe()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const o={};return qn(n,(c,d)=>{o[c]=this.convertValue(d,i)}),o}convertVectorValue(n){var i,o,c;const d=null===(c=null===(o=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.map(m=>Fr(m.doubleValue));return new Rh(d)}convertGeoPoint(n){return new bh(Fr(n.latitude),Fr(n.longitude))}convertArray(n,i){return(n.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(n,i){switch(i){case"previous":const o=Po(n);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Mo(n));default:return null}}convertTimestamp(n){const i=Qi(n);return new ir(i.seconds,i.nanos)}convertDocumentKey(n,i){const o=yn.fromString(n);me(Xu(o));const c=new No(o.get(1),o.get(3)),d=new Ot(o.popFirst(5));return c.isEqual(i)||Mt(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),d}}class xu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ku extends Nh{constructor(n,i,o,c,d,m){super(n,i,o,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const o=this._document.data.field(Jf("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class wd extends ku{data(n={}){return super.data(n)}}class Lh{constructor(n,i,o,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new xu(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(o=>{n.call(i,new wd(this._firestore,this._userDataWriter,o.key,o,new xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let m=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new wd(c._firestore,c._userDataWriter,C.doc.key,C.doc,new xu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:m++}))}{let m=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>d||3!==C.type).map(C=>{const M=new wd(c._firestore,c._userDataWriter,C.doc.key,C.doc,new xu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let j=-1,q=-1;return 0!==C.type&&(j=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),q=m.indexOf(C.doc.key)),{type:Qg(C.type),doc:M,oldIndex:j,newIndex:q}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Qg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class lc extends np{constructor(n){super(),this.firestore=n}convertBytes(n){return new Bc(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new cs(this.firestore,null,i)}}function Xg(u){u=Ar(u,Ms);const n=Ar(u.firestore,vi),i=Ei(n),o=new lc(n);return Kg(u._query),function jy(u,n,i={}){const o=new Ut;return u.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(d,m,C,M,j){const q=new Ff({next:Pe=>{m.enqueueAndForget(()=>mh(d,oe)),Pe.fromCache&&"server"===M.source?j.reject(new ge(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Pe)},error:Pe=>j.reject(Pe)}),oe=new Cf(C,q,{includeMetadataChanges:!0,_a:!0});return ph(d,oe)}(yield Ch(u),u.asyncQueue,n,i,o)})),o.promise}(i,u._query).then(c=>new Lh(n,o,u,c))}function QE(u,n,i){u=Ar(u,cs);const o=Ar(u.firestore,vi),c=function cc(u,n,i){let o;return o=u?i&&(i.merge||i.mergeFields)?u.toFirestore(n,i):u.toFirestore(n):n,o}(u.converter,n,i);return ap(o,[Xf(jc(o),"setDoc",u._key,c,null!==u.converter,i).toMutation(u._key,De.none())])}function Fh(u,n,i,...o){u=Ar(u,cs);const c=Ar(u.firestore,vi),d=jc(c);let m;return m="string"==typeof(n=(0,Y.Ku)(n))||n instanceof ac?function zg(u,n,i,o,c,d){const m=u.Nu(1,n,i),C=[Ed(n,o,i)],M=[c];if(d.length%2!=0)throw new ge(ce.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Pe=0;Pe<d.length;Pe+=2)C.push(Ed(n,d[Pe])),M.push(d[Pe+1]);const j=[],q=St.empty();for(let Pe=C.length-1;Pe>=0;--Pe)if(!r_(j,C[Pe])){const Ye=C[Pe];let It=M[Pe];It=(0,Y.Ku)(It);const Nt=m.Cu(Ye);if(It instanceof _d)j.push(Ye);else{const Ct=$c(It,Nt);null!=Ct&&(j.push(Ye),q.set(Ye,Ct))}}const oe=new qr(j);return new jE(q,oe,m.fieldTransforms)}(d,"updateDoc",u._key,n,i,o):function Hg(u,n,i,o){const c=u.Nu(1,n,i);vd("Data must be an object, but it was:",c,o);const d=[],m=St.empty();qn(o,(M,j)=>{const q=Ph(n,M,i);j=(0,Y.Ku)(j);const oe=c.Cu(q);if(j instanceof _d)d.push(q);else{const Pe=$c(j,oe);null!=Pe&&(d.push(q),m.set(q,Pe))}});const C=new qr(d);return new jE(m,C,c.fieldTransforms)}(d,"updateDoc",u._key,n),ap(c,[m.toMutation(u._key,De.exists(!0))])}function c_(u){return ap(Ar(u.firestore,vi),[new B(u._key,De.none())])}function ap(u,n){return function(o,c){const d=new Ut;return o.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function cd(u,n,i){return gl.apply(this,arguments)}(yield function Vy(u){return $f(u).then(n=>n.syncEngine)}(o),c,d)})),d.promise}(Ei(u),n)}!function(n,i=!0){Qe=K.MF,(0,K.om)(new te.uA("firestore",(o,{instanceIdentifier:c,options:d})=>{const m=o.getProvider("app").getImmediate(),C=new vi(new Un(o.getProvider("auth-internal")),new Er(o.getProvider("app-check-internal")),function(j,q){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new ge(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(j.options.projectId,q)}(m,c),m);return d=Object.assign({useFetchStreams:i},d),C._setSettings(d),C},"PUBLIC").setMultipleInstances(!0)),(0,K.KO)(Ft,"4.7.2",n),(0,K.KO)(Ft,"4.7.2","esm2017")}();var Ww=X(1985),rI=X(6354),Uh=function(){return Uh=Object.assign||function(n){for(var i,o=1,c=arguments.length;o<c;o++)for(var d in i=arguments[o])Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d]);return n},Uh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var iI={includeMetadataChanges:!1};function rm(u,n){return void 0===n&&(n=iI),new Ww.c(function(i){var o=function XE(u,...n){var i,o,c;u=(0,Y.Ku)(u);let d={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof n[m]||qy(n[m])||(d=n[m],m++);const C={includeMetadataChanges:d.includeMetadataChanges,source:d.source};if(qy(n[m])){const oe=n[m];n[m]=null===(i=oe.next)||void 0===i?void 0:i.bind(oe),n[m+1]=null===(o=oe.error)||void 0===o?void 0:o.bind(oe),n[m+2]=null===(c=oe.complete)||void 0===c?void 0:c.bind(oe)}let M,j,q;if(u instanceof cs)j=Ar(u.firestore,vi),q=bs(u._key.path),M={next:oe=>{n[m]&&n[m](function Dl(u,n,i){const o=i.docs.get(n._key),c=new lc(u);return new ku(u,c,n._key,o,new xu(i.hasPendingWrites,i.fromCache),n.converter)}(j,u,oe))},error:n[m+1],complete:n[m+2]};else{const oe=Ar(u,Ms);j=Ar(oe.firestore,vi),q=oe._query;const Pe=new lc(j);M={next:Ye=>{n[m]&&n[m](new Lh(j,Pe,oe,Ye))},error:n[m+1],complete:n[m+2]},Kg(u._query)}return function(Pe,Ye,It,Nt){const Ct=new Ff(Nt),pn=new Cf(Ye,Ct,It);return Pe.asyncQueue.enqueueAndForget((0,V.A)(function*(){return ph(yield Ch(Pe),pn)})),()=>{Ct.za(),Pe.asyncQueue.enqueueAndForget((0,V.A)(function*(){return mh(yield Ch(Pe),pn)}))}}(Ei(j),q,C,M)}(u,n,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:o}})}function uI(u,n){return void 0===n&&(n={}),function Kw(u){return rm(u,{includeMetadataChanges:!0}).pipe((0,rI.T)(function(n){return n.docs}))}(u).pipe((0,rI.T)(function(i){return i.map(function(o){return function Lu(u,n){var i;void 0===n&&(n={});var o=u.data(n);return u.exists()&&"object"==typeof o&&null!==o&&n.idField?Uh(Uh({},o),((i={})[n.idField]=u.id,i)):o}(o,n)})}))}class gp{constructor(n){return n}}const D_="firestore",sm=new P.nKC("angularfire2.firestore-instances");function S_(u){return(n,i)=>{const o=n.runOutsideAngular(()=>u(i));return new gp(o)}}const mp={provide:class C_{constructor(){return(0,S.CA)(D_)}},deps:[[new P.Xx1,sm]]},hI={provide:gp,useFactory:function dI(u,n){const i=(0,S.lR)(D_,u,n);return i&&new gp(i)},deps:[[new P.Xx1,sm],Ee.XU]};function fI(u,...n){return(0,F.KO)("angularfire",S.xv.full,"fst"),(0,P.EmA)([hI,mp,{provide:sm,useFactory:S_(u),multi:!0,deps:[P.SKi,P.zZn,S.u0,Ee.gL,[new P.Xx1,he.DF],[new P.Xx1,S.Jv],...n]}])}const P_=(0,S.S3)(uI,!0),yI=(0,S.S3)(Ky,!0),c0=(0,S.S3)(c_,!0),l0=(0,S.S3)(Ou,!0),Cd=(0,S.S3)(Xg,!0),O_=(0,S.S3)(md,!0),CI=(0,S.S3)(HE,!0),lm=(0,S.S3)(QE,!0),Cl=(0,S.S3)(Fh,!0),B_=(0,S.S3)(bw,!0)},5407:(tn,ut,X)=>{X.d(ut,{xv:()=>Ke,u0:()=>Te,Jv:()=>zt,CA:()=>Wt,lR:()=>Lt,S3:()=>ct});var S=X(3953),P=X(2214),Ee=X(6780),F=X(3604);const K=new class V extends F.q{}(class he extends Ee.R{constructor(Xt,Yt){super(Xt,Yt),this.scheduler=Xt,this.work=Yt}schedule(Xt,Yt=0){return Yt>0?super.schedule(Xt,Yt):(this.delay=Yt,this.state=Xt,this.scheduler.flush(this),this)}execute(Xt,Yt){return Yt>0||this.closed?super.execute(Xt,Yt):this._execute(Xt,Yt)}requestAsyncId(Xt,Yt,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(Xt,Yt,pe):(Xt.flush(this),0)}});var ae=X(3236),Y=X(1985),ee=X(8141),Se=X(6745),Be=X(941);const Ke=new S.RxE("ANGULARFIRE2_VERSION");function Lt(Mt,Xt,Yt){if(Xt){if(1===Xt.length)return Xt[0];const et=Xt.filter(be=>be.app===Yt);if(1===et.length)return et[0]}return Yt.container.getProvider(Mt).getImmediate({optional:!0})}const Wt=(Mt,Xt)=>{const Yt=Xt?[Xt]:(0,P.Dk)(),pe=[];return Yt.forEach(me=>{me.container.getProvider(Mt).instances.forEach(be=>{pe.includes(be)||pe.push(be)})}),pe};class zt{constructor(){return Wt(Nn)}}const Nn="app-check";function gn(){}class He{zone;delegate;constructor(Xt,Yt=K){this.zone=Xt,this.delegate=Yt}now(){return this.delegate.now()}schedule(Xt,Yt,pe){const me=this.zone;return this.delegate.schedule(function(be){me.runGuarded(()=>{Xt.apply(this,[be])})},Yt,pe)}}class dt{zone;task=null;constructor(Xt){this.zone=Xt}call(Xt,Yt){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gn,{},gn,gn)),Yt.pipe((0,ee.M)({next:pe,complete:pe,error:pe})).subscribe(Xt).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Te=(()=>{class Mt{ngZone;outsideAngular;insideAngular;constructor(Yt){this.ngZone=Yt,this.outsideAngular=Yt.runOutsideAngular(()=>new He(Zone.current)),this.insideAngular=Yt.run(()=>new He(Zone.current,ae.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(pe){return new(pe||Mt)(S.KVO(S.SKi))};static \u0275prov=S.jDH({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();function Ce(){const Mt=globalThis.\u0275AngularFireScheduler;if(!Mt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Mt}function Ft(Mt){return Ce().ngZone.run(()=>Mt())}function bt(Mt){return function In(Mt){return function(Yt){return(Yt=Yt.lift(new dt(Mt.ngZone))).pipe((0,Se._)(Mt.outsideAngular),(0,Be.Q)(Mt.insideAngular))}}(Ce())(Mt)}const Wn=(Mt,Xt)=>function(){const pe=arguments;return Xt&&setTimeout(()=>{"scheduled"===Xt.state&&Xt.invoke()},10),Ft(()=>Mt.apply(void 0,pe))},ct=(Mt,Xt)=>function(){let Yt;const pe=arguments;for(let et=0;et<arguments.length;et++)"function"==typeof pe[et]&&(Xt&&(Yt||=Ft(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gn,{},gn,gn))),pe[et]=Wn(pe[et],Yt));const me=function Tt(Mt){return Ce().ngZone.runOutsideAngular(()=>Mt())}(()=>Mt.apply(this,pe));if(!Xt){if(me instanceof Y.c){const et=Ce();return me.pipe((0,Se._)(et.outsideAngular),(0,Be.Q)(et.insideAngular))}return Ft(()=>me)}return me instanceof Y.c?me.pipe(bt):me instanceof Promise?Ft(()=>new Promise((et,be)=>me.then(ce=>Ft(()=>et(ce)),ce=>Ft(()=>be(ce))))):"function"==typeof me&&Yt?function(){return setTimeout(()=>{Yt&&"scheduled"===Yt.state&&Yt.invoke()},10),me.apply(this,arguments)}:Ft(()=>me)}},345:(tn,ut,X)=>{X.d(ut,{B7:()=>Tt,Bb:()=>Gr,hE:()=>on,sG:()=>Kn});var S=X(177),P=X(3953);class Ee extends S.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends Ee{static makeCurrent(){(0,S.ZD)(new he)}onAndCancel(Xe,fe,Le){return Xe.addEventListener(fe,Le),()=>{Xe.removeEventListener(fe,Le)}}dispatchEvent(Xe,fe){Xe.dispatchEvent(fe)}remove(Xe){Xe.remove()}createElement(Xe,fe){return(fe=fe||this.getDefaultDocument()).createElement(Xe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Xe){return Xe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Xe){return Xe instanceof DocumentFragment}getGlobalEventTarget(Xe,fe){return"window"===fe?window:"document"===fe?Xe:"body"===fe?Xe.body:null}getBaseHref(Xe){const fe=function V(){return F=F||document.querySelector("base"),F?F.getAttribute("href"):null}();return null==fe?null:function K(tt){return new URL(tt,document.baseURI).pathname}(fe)}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}getCookie(Xe){return(0,S._b)(document.cookie,Xe)}}let F=null,ae=(()=>{class tt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Le){return new(Le||tt)}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const Y=new P.nKC("");let ee=(()=>{class tt{constructor(fe,Le){this._zone=Le,this._eventNameToPlugin=new Map,fe.forEach(at=>{at.manager=this}),this._plugins=fe.slice().reverse()}addEventListener(fe,Le,at){return this._findPluginFor(Le).addEventListener(fe,Le,at)}getZone(){return this._zone}_findPluginFor(fe){let Le=this._eventNameToPlugin.get(fe);if(Le)return Le;if(Le=this._plugins.find(se=>se.supports(fe)),!Le)throw new P.wOt(5101,!1);return this._eventNameToPlugin.set(fe,Le),Le}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(Y),P.KVO(P.SKi))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();class Se{constructor(Xe){this._doc=Xe}}const Be="ng-app-id";let Ke=(()=>{class tt{constructor(fe,Le,at,se={}){this.doc=fe,this.appId=Le,this.nonce=at,this.platformId=se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,S.Vy)(se),this.resetHostNodes()}addStyles(fe){for(const Le of fe)1===this.changeUsageCount(Le,1)&&this.onStyleAdded(Le)}removeStyles(fe){for(const Le of fe)this.changeUsageCount(Le,-1)<=0&&this.onStyleRemoved(Le)}ngOnDestroy(){const fe=this.styleNodesInDOM;fe&&(fe.forEach(Le=>Le.remove()),fe.clear());for(const Le of this.getAllStyles())this.onStyleRemoved(Le);this.resetHostNodes()}addHost(fe){this.hostNodes.add(fe);for(const Le of this.getAllStyles())this.addStyleToHost(fe,Le)}removeHost(fe){this.hostNodes.delete(fe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(fe){for(const Le of this.hostNodes)this.addStyleToHost(Le,fe)}onStyleRemoved(fe){const Le=this.styleRef;Le.get(fe)?.elements?.forEach(at=>at.remove()),Le.delete(fe)}collectServerRenderedStyles(){const fe=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(fe?.length){const Le=new Map;return fe.forEach(at=>{null!=at.textContent&&Le.set(at.textContent,at)}),Le}return null}changeUsageCount(fe,Le){const at=this.styleRef;if(at.has(fe)){const se=at.get(fe);return se.usage+=Le,se.usage}return at.set(fe,{usage:Le,elements:[]}),Le}getStyleElement(fe,Le){const at=this.styleNodesInDOM,se=at?.get(Le);if(se?.parentNode===fe)return at.delete(Le),se.removeAttribute(Be),se;{const ue=this.doc.createElement("style");return this.nonce&&ue.setAttribute("nonce",this.nonce),ue.textContent=Le,this.platformIsServer&&ue.setAttribute(Be,this.appId),fe.appendChild(ue),ue}}addStyleToHost(fe,Le){const at=this.getStyleElement(fe,Le),se=this.styleRef,ue=se.get(Le)?.elements;ue?ue.push(at):se.set(Le,{elements:[at],usage:1})}resetHostNodes(){const fe=this.hostNodes;fe.clear(),fe.add(this.doc.head)}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(S.qQ),P.KVO(P.sZ2),P.KVO(P.BIS,8),P.KVO(P.Agw))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lt=/%COMP%/g,He=new P.nKC("",{providedIn:"root",factory:()=>!0});function Ce(tt,Xe){return Xe.map(fe=>fe.replace(Lt,tt))}let Tt=(()=>{class tt{constructor(fe,Le,at,se,ue,we,it,Ue=null){this.eventManager=fe,this.sharedStylesHost=Le,this.appId=at,this.removeStylesOnCompDestroy=se,this.doc=ue,this.platformId=we,this.ngZone=it,this.nonce=Ue,this.rendererByCompId=new Map,this.platformIsServer=(0,S.Vy)(we),this.defaultRenderer=new Ft(fe,ue,it,this.platformIsServer)}createRenderer(fe,Le){if(!fe||!Le)return this.defaultRenderer;this.platformIsServer&&Le.encapsulation===P.gXe.ShadowDom&&(Le={...Le,encapsulation:P.gXe.Emulated});const at=this.getOrCreateRenderer(fe,Le);return at instanceof ct?at.applyToHost(fe):at instanceof Wn&&at.applyStyles(),at}getOrCreateRenderer(fe,Le){const at=this.rendererByCompId;let se=at.get(Le.id);if(!se){const ue=this.doc,we=this.ngZone,it=this.eventManager,Ue=this.sharedStylesHost,kt=this.removeStylesOnCompDestroy,mn=this.platformIsServer;switch(Le.encapsulation){case P.gXe.Emulated:se=new ct(it,Ue,Le,this.appId,kt,ue,we,mn);break;case P.gXe.ShadowDom:return new In(it,Ue,fe,Le,ue,we,this.nonce,mn);default:se=new Wn(it,Ue,Le,kt,ue,we,mn)}at.set(Le.id,se)}return se}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(ee),P.KVO(Ke),P.KVO(P.sZ2),P.KVO(He),P.KVO(S.qQ),P.KVO(P.Agw),P.KVO(P.SKi),P.KVO(P.BIS))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();class Ft{constructor(Xe,fe,Le,at){this.eventManager=Xe,this.doc=fe,this.ngZone=Le,this.platformIsServer=at,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Xe,fe){return fe?this.doc.createElementNS(Dt[fe]||fe,Xe):this.doc.createElement(Xe)}createComment(Xe){return this.doc.createComment(Xe)}createText(Xe){return this.doc.createTextNode(Xe)}appendChild(Xe,fe){(bt(Xe)?Xe.content:Xe).appendChild(fe)}insertBefore(Xe,fe,Le){Xe&&(bt(Xe)?Xe.content:Xe).insertBefore(fe,Le)}removeChild(Xe,fe){fe.remove()}selectRootElement(Xe,fe){let Le="string"==typeof Xe?this.doc.querySelector(Xe):Xe;if(!Le)throw new P.wOt(-5104,!1);return fe||(Le.textContent=""),Le}parentNode(Xe){return Xe.parentNode}nextSibling(Xe){return Xe.nextSibling}setAttribute(Xe,fe,Le,at){if(at){fe=at+":"+fe;const se=Dt[at];se?Xe.setAttributeNS(se,fe,Le):Xe.setAttribute(fe,Le)}else Xe.setAttribute(fe,Le)}removeAttribute(Xe,fe,Le){if(Le){const at=Dt[Le];at?Xe.removeAttributeNS(at,fe):Xe.removeAttribute(`${Le}:${fe}`)}else Xe.removeAttribute(fe)}addClass(Xe,fe){Xe.classList.add(fe)}removeClass(Xe,fe){Xe.classList.remove(fe)}setStyle(Xe,fe,Le,at){at&(P.czy.DashCase|P.czy.Important)?Xe.style.setProperty(fe,Le,at&P.czy.Important?"important":""):Xe.style[fe]=Le}removeStyle(Xe,fe,Le){Le&P.czy.DashCase?Xe.style.removeProperty(fe):Xe.style[fe]=""}setProperty(Xe,fe,Le){null!=Xe&&(Xe[fe]=Le)}setValue(Xe,fe){Xe.nodeValue=fe}listen(Xe,fe,Le){if("string"==typeof Xe&&!(Xe=(0,S.QT)().getGlobalEventTarget(this.doc,Xe)))throw new Error(`Unsupported event target ${Xe} for event ${fe}`);return this.eventManager.addEventListener(Xe,fe,this.decoratePreventDefault(Le))}decoratePreventDefault(Xe){return fe=>{if("__ngUnwrap__"===fe)return Xe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Xe(fe)):Xe(fe))&&fe.preventDefault()}}}function bt(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class In extends Ft{constructor(Xe,fe,Le,at,se,ue,we,it){super(Xe,se,ue,it),this.sharedStylesHost=fe,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ue=Ce(at.id,at.styles);for(const kt of Ue){const mn=document.createElement("style");we&&mn.setAttribute("nonce",we),mn.textContent=kt,this.shadowRoot.appendChild(mn)}}nodeOrShadowRoot(Xe){return Xe===this.hostEl?this.shadowRoot:Xe}appendChild(Xe,fe){return super.appendChild(this.nodeOrShadowRoot(Xe),fe)}insertBefore(Xe,fe,Le){return super.insertBefore(this.nodeOrShadowRoot(Xe),fe,Le)}removeChild(Xe,fe){return super.removeChild(null,fe)}parentNode(Xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Xe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wn extends Ft{constructor(Xe,fe,Le,at,se,ue,we,it){super(Xe,se,ue,we),this.sharedStylesHost=fe,this.removeStylesOnCompDestroy=at,this.styles=it?Ce(it,Le.styles):Le.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ct extends Wn{constructor(Xe,fe,Le,at,se,ue,we,it){const Ue=at+"-"+Le.id;super(Xe,fe,Le,se,ue,we,it,Ue),this.contentAttr=function dt(tt){return"_ngcontent-%COMP%".replace(Lt,tt)}(Ue),this.hostAttr=function Te(tt){return"_nghost-%COMP%".replace(Lt,tt)}(Ue)}applyToHost(Xe){this.applyStyles(),this.setAttribute(Xe,this.hostAttr,"")}createElement(Xe,fe){const Le=super.createElement(Xe,fe);return super.setAttribute(Le,this.contentAttr,""),Le}}let Mt=(()=>{class tt extends Se{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,Le,at){return fe.addEventListener(Le,at,!1),()=>this.removeEventListener(fe,Le,at)}removeEventListener(fe,Le,at){return fe.removeEventListener(Le,at)}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(S.qQ))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})(),Xt=(()=>{class tt extends Se{constructor(fe){super(fe),this.delegate=(0,P.WQX)(P.zAP,{optional:!0})}supports(fe){return!!this.delegate&&this.delegate.supports(fe)}addEventListener(fe,Le,at){return this.delegate.addEventListener(fe,Le,at)}removeEventListener(fe,Le,at){return this.delegate.removeEventListener(fe,Le,at)}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(S.qQ))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const Yt=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},me={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let et=(()=>{class tt extends Se{constructor(fe){super(fe)}supports(fe){return null!=tt.parseEventName(fe)}addEventListener(fe,Le,at){const se=tt.parseEventName(Le),ue=tt.eventCallback(se.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,S.QT)().onAndCancel(fe,se.domEventName,ue))}static parseEventName(fe){const Le=fe.toLowerCase().split("."),at=Le.shift();if(0===Le.length||"keydown"!==at&&"keyup"!==at)return null;const se=tt._normalizeKey(Le.pop());let ue="",we=Le.indexOf("code");if(we>-1&&(Le.splice(we,1),ue="code."),Yt.forEach(Ue=>{const kt=Le.indexOf(Ue);kt>-1&&(Le.splice(kt,1),ue+=Ue+".")}),ue+=se,0!=Le.length||0===se.length)return null;const it={};return it.domEventName=at,it.fullKey=ue,it}static matchEventFullKeyCode(fe,Le){let at=pe[fe.key]||fe.key,se="";return Le.indexOf("code.")>-1&&(at=fe.code,se="code."),!(null==at||!at)&&(at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),Yt.forEach(ue=>{ue!==at&&(0,me[ue])(fe)&&(se+=ue+".")}),se+=at,se===Le)}static eventCallback(fe,Le,at){return se=>{tt.matchEventFullKeyCode(se,fe)&&at.runGuarded(()=>Le(se))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(S.qQ))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const Kn=(0,P.oH4)(P.fpN,"browser",[{provide:P.Agw,useValue:S.AJ},{provide:P.PLl,useValue:function Gn(){he.makeCurrent()},multi:!0},{provide:S.qQ,useFactory:function nn(){return(0,P.TL$)(document),document},deps:[]}]),Ur=new P.nKC(""),nr=[{provide:P.e01,useClass:class te{addToWindow(Xe){P.JZv.getAngularTestability=(Le,at=!0)=>{const se=Xe.findTestabilityInTree(Le,at);if(null==se)throw new P.wOt(5103,!1);return se},P.JZv.getAllAngularTestabilities=()=>Xe.getAllTestabilities(),P.JZv.getAllAngularRootElements=()=>Xe.getAllRootElements(),P.JZv.frameworkStabilizers||(P.JZv.frameworkStabilizers=[]),P.JZv.frameworkStabilizers.push(Le=>{const at=P.JZv.getAllAngularTestabilities();let se=at.length;const ue=function(){se--,0==se&&Le()};at.forEach(we=>{we.whenStable(ue)})})}findTestabilityInTree(Xe,fe,Le){return null==fe?null:Xe.getTestability(fe)??(Le?(0,S.QT)().isShadowRoot(fe)?this.findTestabilityInTree(Xe,fe.host,!0):this.findTestabilityInTree(Xe,fe.parentElement,!0):null)}},deps:[]},{provide:P.WHO,useClass:P.NYb,deps:[P.SKi,P.giA,P.e01]},{provide:P.NYb,useClass:P.NYb,deps:[P.SKi,P.giA,P.e01]}],Er=[{provide:P.H8p,useValue:"root"},{provide:P.zcH,useFactory:function Dr(){return new P.zcH},deps:[]},{provide:Y,useClass:Mt,multi:!0,deps:[S.qQ,P.SKi,P.Agw]},{provide:Y,useClass:et,multi:!0,deps:[S.qQ]},{provide:Y,useClass:Xt,multi:!0},Tt,Ke,ee,{provide:P._9s,useExisting:Tt},{provide:S.N0,useClass:ae,deps:[]},[]];let Gr=(()=>{class tt{constructor(fe){}static withServerTransition(fe){return{ngModule:tt,providers:[{provide:P.sZ2,useValue:fe.appId}]}}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(Ur,12))}}static{this.\u0275mod=P.$C({type:tt})}static{this.\u0275inj=P.G2t({providers:[...Er,...nr],imports:[S.MD,P.Hbi]})}}return tt})(),on=(()=>{class tt{constructor(fe){this._doc=fe}getTitle(){return this._doc.title}setTitle(fe){this._doc.title=fe||""}static{this.\u0275fac=function(Le){return new(Le||tt)(P.KVO(S.qQ))}}static{this.\u0275prov=P.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})()},1069:(tn,ut,X)=>{X.d(ut,{nX:()=>Ni,Ix:()=>Bi,Wk:()=>Wu,wQ:()=>hf,iI:()=>Na,n3:()=>fs});var S=X(3953),P=X(1985),Ee=X(8071),F=X(8455),V=X(7673),K=X(4412),te=X(3073),ae=X(3669),Y=X(6450),ee=X(9326),Se=X(8496),Be=X(4360),Ke=X(5225);function Dt(...y){const b=(0,ee.lI)(y),E=(0,ee.ms)(y),{args:R,keys:L}=(0,te.D)(y);if(0===R.length)return(0,F.H)([],b);const Q=new P.c(function Lt(y,b,E=ae.D){return R=>{Wt(b,()=>{const{length:L}=y,Q=new Array(L);let le=L,Je=L;for(let Ve=0;Ve<L;Ve++)Wt(b,()=>{const Pt=(0,F.H)(y[Ve],b);let wn=!1;Pt.subscribe((0,Be._)(R,vn=>{Q[Ve]=vn,wn||(wn=!0,Je--),Je||R.next(E(Q.slice()))},()=>{--le||R.complete()}))},R)},R)}}(R,b,L?le=>(0,Se.e)(L,le):ae.D));return E?Q.pipe((0,Y.I)(E)):Q}function Wt(y,b,E){y?(0,Ke.N)(E,y,b):b()}const Nn=(0,X(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var gn=X(1397);function He(y=1/0){return(0,gn.Z)(ae.D,y)}function Te(...y){return function dt(){return He(1)}()((0,F.H)(y,(0,ee.lI)(y)))}var Ce=X(8750);function Tt(y){return new P.c(b=>{(0,Ce.Tg)(y()).subscribe(b)})}var Ft=X(1203);function Ae(y,b){const E=(0,Ee.T)(y)?y:()=>y,R=L=>L.error(E());return new P.c(b?L=>b.schedule(R,0,L):R)}const Qe=new P.c(y=>y.complete());var Wn=X(8359),ct=X(9974);function Mt(){return(0,ct.N)((y,b)=>{let E=null;y._refCount++;const R=(0,Be._)(b,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(E=null);const L=y._connection,Q=E;E=null,L&&(!Q||L===Q)&&L.unsubscribe(),b.unsubscribe()});y.subscribe(R),R.closed||(E=y.connect())})}class Xt extends P.c{constructor(b,E){super(),this.source=b,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ct.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Wn.yU;const E=this.getSubject();b.add(this.source.subscribe((0,Be._)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Wn.yU.EMPTY)}return b}refCount(){return Mt()(this)}}var Yt=X(1413),pe=X(177),me=X(6354),et=X(5558);function be(y){return y<=0?()=>Qe:(0,ct.N)((b,E)=>{let R=0;b.subscribe((0,Be._)(E,L=>{++R<=y&&(E.next(L),y<=R&&E.complete())}))})}var ge=X(5964);function Ut(y){return(0,ct.N)((b,E)=>{let R=!1;b.subscribe((0,Be._)(E,L=>{R=!0,E.next(L)},()=>{R||E.next(y),E.complete()}))})}function Gn(y=Dr){return(0,ct.N)((b,E)=>{let R=!1;b.subscribe((0,Be._)(E,L=>{R=!0,E.next(L)},()=>R?E.complete():E.error(y())))})}function Dr(){return new Nn}function nn(y,b){const E=arguments.length>=2;return R=>R.pipe(y?(0,ge.p)((L,Q)=>y(L,Q,R)):ae.D,be(1),E?Ut(b):Gn(()=>new Nn))}var Un=X(274),Kn=X(8141);function Ur(y){return(0,ct.N)((b,E)=>{let Q,R=null,L=!1;R=b.subscribe((0,Be._)(E,void 0,void 0,le=>{Q=(0,Ce.Tg)(y(le,Ur(y)(b))),R?(R.unsubscribe(),R=null,Q.subscribe(E)):L=!0})),L&&(R.unsubscribe(),R=null,Q.subscribe(E))})}function Gr(y){return y<=0?()=>Qe:(0,ct.N)((b,E)=>{let R=[];b.subscribe((0,Be._)(E,L=>{R.push(L),y<R.length&&R.shift()},()=>{for(const L of R)E.next(L);E.complete()},void 0,()=>{R=null}))})}var on=X(980),pi=X(5343),ir=X(345);const _t="primary",bi=Symbol("RouteTitle");class yn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E[0]:E}return null}getAll(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function zn(y){return new yn(y)}function yt(y,b,E){const R=E.path.split("/");if(R.length>y.length||"full"===E.pathMatch&&(b.hasChildren()||R.length<y.length))return null;const L={};for(let Q=0;Q<R.length;Q++){const le=R[Q],Je=y[Q];if(":"===le[0])L[le.substring(1)]=Je;else if(le!==Je.path)return null}return{consumed:y.slice(0,R.length),posParams:L}}function lr(y,b){const E=y?Zr(y):void 0,R=b?Zr(b):void 0;if(!E||!R||E.length!=R.length)return!1;let L;for(let Q=0;Q<E.length;Q++)if(L=E[Q],!Ti(y[L],b[L]))return!1;return!0}function Zr(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function Ti(y,b){if(Array.isArray(y)&&Array.isArray(b)){if(y.length!==b.length)return!1;const E=[...y].sort(),R=[...b].sort();return E.every((L,Q)=>R[Q]===L)}return y===b}function Lr(y){return y.length>0?y[y.length-1]:null}function xr(y){return function he(y){return!!y&&(y instanceof P.c||(0,Ee.T)(y.lift)&&(0,Ee.T)(y.subscribe))}(y)?y:(0,S.jNT)(y)?(0,F.H)(Promise.resolve(y)):(0,V.of)(y)}const kr={exact:function Br(y,b,E){if(!fe(y.segments,b.segments)||!$r(y.segments,b.segments,E)||y.numberOfChildren!==b.numberOfChildren)return!1;for(const R in b.children)if(!y.children[R]||!Br(y.children[R],b.children[R],E))return!1;return!0},subset:jr},Ri={exact:function ur(y,b){return lr(y,b)},subset:function Cr(y,b){return Object.keys(b).length<=Object.keys(y).length&&Object.keys(b).every(E=>Ti(y[E],b[E]))},ignored:()=>!0};function Rn(y,b,E){return kr[E.paths](y.root,b.root,E.matrixParams)&&Ri[E.queryParams](y.queryParams,b.queryParams)&&!("exact"===E.fragment&&y.fragment!==b.fragment)}function jr(y,b,E){return Pi(y,b,b.segments,E)}function Pi(y,b,E,R){if(y.segments.length>E.length){const L=y.segments.slice(0,E.length);return!(!fe(L,E)||b.hasChildren()||!$r(L,E,R))}if(y.segments.length===E.length){if(!fe(y.segments,E)||!$r(y.segments,E,R))return!1;for(const L in b.children)if(!y.children[L]||!jr(y.children[L],b.children[L],R))return!1;return!0}{const L=E.slice(0,y.segments.length),Q=E.slice(y.segments.length);return!!(fe(y.segments,L)&&$r(y.segments,L,R)&&y.children[_t])&&Pi(y.children[_t],b,Q,R)}}function $r(y,b,E){return b.every((R,L)=>Ri[E](y[L].parameters,R.parameters))}class Jr{constructor(b=new Me([],{}),E={},R=null){this.root=b,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){return ue.serialize(this)}}class Me{constructor(b,E){this.segments=b,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return we(this)}}class tt{constructor(b,E){this.path=b,this.parameters=E}get parameterMap(){return this._parameterMap??=zn(this.parameters),this._parameterMap}toString(){return ci(this)}}function fe(y,b){return y.length===b.length&&y.every((E,R)=>E.path===b[R].path)}let at=(()=>{class y{static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:()=>new se,providedIn:"root"})}}return y})();class se{parse(b){const E=new je(b);return new Jr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(b){const E=`/${it(b.root,!0)}`,R=function ii(y){const b=Object.entries(y).map(([E,R])=>Array.isArray(R)?R.map(L=>`${kt(E)}=${kt(L)}`).join("&"):`${kt(E)}=${kt(R)}`).filter(E=>E);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${E}${R}${"string"==typeof b.fragment?`#${function mn(y){return encodeURI(y)}(b.fragment)}`:""}`}}const ue=new se;function we(y){return y.segments.map(b=>ci(b)).join("/")}function it(y,b){if(!y.hasChildren())return we(y);if(b){const E=y.children[_t]?it(y.children[_t],!1):"",R=[];return Object.entries(y.children).forEach(([L,Q])=>{L!==_t&&R.push(`${L}:${it(Q,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function Le(y,b){let E=[];return Object.entries(y.children).forEach(([R,L])=>{R===_t&&(E=E.concat(b(L,R)))}),Object.entries(y.children).forEach(([R,L])=>{R!==_t&&(E=E.concat(b(L,R)))}),E}(y,(R,L)=>L===_t?[it(y.children[_t],!1)]:[`${L}:${it(R,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[_t]?`${we(y)}/${E[0]}`:`${we(y)}/(${E.join("//")})`}}function Ue(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(y){return Ue(y).replace(/%3B/gi,";")}function Jn(y){return Ue(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nr(y){return decodeURIComponent(y)}function fr(y){return Nr(y.replace(/\+/g,"%20"))}function ci(y){return`${Jn(y.path)}${function Pn(y){return Object.entries(y).map(([b,E])=>`;${Jn(b)}=${Jn(E)}`).join("")}(y.parameters)}`}const ji=/^[^\/()?;#]+/;function ei(y){const b=y.match(ji);return b?b[0]:""}const Vs=/^[^\/()?;=#]+/,Us=/^[^=?&#]+/,Xo=/^[^&#]+/;class je{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(b.length>0||Object.keys(E).length>0)&&(R[_t]=new Me(b,E)),R}parseSegment(){const b=ei(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(b),new tt(Nr(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const E=function rs(y){const b=y.match(Vs);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const L=ei(this.remaining);L&&(R=L,this.capture(R))}b[Nr(E)]=Nr(R)}parseQueryParam(b){const E=function Ds(y){const b=y.match(Us);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const le=function rt(y){const b=y.match(Xo);return b?b[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const L=fr(E),Q=fr(R);if(b.hasOwnProperty(L)){let le=b[L];Array.isArray(le)||(le=[le],b[L]=le),le.push(Q)}else b[L]=Q}parseParens(b){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=ei(this.remaining),L=this.remaining[R.length];if("/"!==L&&")"!==L&&";"!==L)throw new S.wOt(4010,!1);let Q;R.indexOf(":")>-1?(Q=R.slice(0,R.indexOf(":")),this.capture(Q),this.capture(":")):b&&(Q=_t);const le=this.parseChildren();E[Q]=1===Object.keys(le).length?le[_t]:new Me([],le),this.consumeOptional("//")}return E}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new S.wOt(4011,!1)}}function gt(y){return y.segments.length>0?new Me([],{[_t]:y}):y}function $t(y){const b={};for(const[R,L]of Object.entries(y.children)){const Q=$t(L);if(R===_t&&0===Q.segments.length&&Q.hasChildren())for(const[le,Je]of Object.entries(Q.children))b[le]=Je;else(Q.segments.length>0||Q.hasChildren())&&(b[R]=Q)}return function Sn(y){if(1===y.numberOfChildren&&y.children[_t]){const b=y.children[_t];return new Me(y.segments.concat(b.segments),b.children)}return y}(new Me(y.segments,b))}function un(y){return y instanceof Jr}function tr(y){let b;const L=gt(function E(Q){const le={};for(const Ve of Q.children){const Pt=E(Ve);le[Ve.outlet]=Pt}const Je=new Me(Q.url,le);return Q===y&&(b=Je),Je}(y.root));return b??L}function Sr(y,b,E,R){let L=y;for(;L.parent;)L=L.parent;if(0===b.length)return _e(L,L,L,E,R);const Q=function wt(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new ot(!0,0,y);let b=0,E=!1;const R=y.reduce((L,Q,le)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const Je={};return Object.entries(Q.outlets).forEach(([Ve,Pt])=>{Je[Ve]="string"==typeof Pt?Pt.split("/"):Pt}),[...L,{outlets:Je}]}if(Q.segmentPath)return[...L,Q.segmentPath]}return"string"!=typeof Q?[...L,Q]:0===le?(Q.split("/").forEach((Je,Ve)=>{0==Ve&&"."===Je||(0==Ve&&""===Je?E=!0:".."===Je?b++:""!=Je&&L.push(Je))}),L):[...L,Q]},[]);return new ot(E,b,R)}(b);if(Q.toRoot())return _e(L,L,new Me([],{}),E,R);const le=function Ht(y,b,E){if(y.isAbsolute)return new Rt(b,!0,0);if(!E)return new Rt(b,!1,NaN);if(null===E.parent)return new Rt(E,!0,0);const R=li(y.commands[0])?0:1;return function Dn(y,b,E){let R=y,L=b,Q=E;for(;Q>L;){if(Q-=L,R=R.parent,!R)throw new S.wOt(4005,!1);L=R.segments.length}return new Rt(R,!1,L-Q)}(E,E.segments.length-1+R,y.numberOfDoubleDots)}(Q,L,y),Je=le.processChildren?ti(le.segmentGroup,le.index,Q.commands):_r(le.segmentGroup,le.index,Q.commands);return _e(L,le.segmentGroup,Je,E,R)}function li(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function J(y){return"object"==typeof y&&null!=y&&y.outlets}function _e(y,b,E,R,L){let le,Q={};R&&Object.entries(R).forEach(([Ve,Pt])=>{Q[Ve]=Array.isArray(Pt)?Pt.map(wn=>`${wn}`):`${Pt}`}),le=y===b?E:ve(y,b,E);const Je=gt($t(le));return new Jr(Je,Q,L)}function ve(y,b,E){const R={};return Object.entries(y.children).forEach(([L,Q])=>{R[L]=Q===b?E:ve(Q,b,E)}),new Me(y.segments,R)}class ot{constructor(b,E,R){if(this.isAbsolute=b,this.numberOfDoubleDots=E,this.commands=R,b&&R.length>0&&li(R[0]))throw new S.wOt(4003,!1);const L=R.find(J);if(L&&L!==Lr(R))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rt{constructor(b,E,R){this.segmentGroup=b,this.processChildren=E,this.index=R}}function _r(y,b,E){if(y??=new Me([],{}),0===y.segments.length&&y.hasChildren())return ti(y,b,E);const R=function Bn(y,b,E){let R=0,L=b;const Q={match:!1,pathIndex:0,commandIndex:0};for(;L<y.segments.length;){if(R>=E.length)return Q;const le=y.segments[L],Je=E[R];if(J(Je))break;const Ve=`${Je}`,Pt=R<E.length-1?E[R+1]:null;if(L>0&&void 0===Ve)break;if(Ve&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!pr(Ve,Pt,le))return Q;R+=2}else{if(!pr(Ve,{},le))return Q;R++}L++}return{match:!0,pathIndex:L,commandIndex:R}}(y,b,E),L=E.slice(R.commandIndex);if(R.match&&R.pathIndex<y.segments.length){const Q=new Me(y.segments.slice(0,R.pathIndex),{});return Q.children[_t]=new Me(y.segments.slice(R.pathIndex),y.children),ti(Q,0,L)}return R.match&&0===L.length?new Me(y.segments,{}):R.match&&!y.hasChildren()?ni(y,b,E):R.match?ti(y,0,L):ni(y,b,E)}function ti(y,b,E){if(0===E.length)return new Me(y.segments,{});{const R=function fn(y){return J(y[0])?y[0].outlets:{[_t]:y}}(E),L={};if(Object.keys(R).some(Q=>Q!==_t)&&y.children[_t]&&1===y.numberOfChildren&&0===y.children[_t].segments.length){const Q=ti(y.children[_t],b,E);return new Me(y.segments,Q.children)}return Object.entries(R).forEach(([Q,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(L[Q]=_r(y.children[Q],b,le))}),Object.entries(y.children).forEach(([Q,le])=>{void 0===R[Q]&&(L[Q]=le)}),new Me(y.segments,L)}}function ni(y,b,E){const R=y.segments.slice(0,b);let L=0;for(;L<E.length;){const Q=E[L];if(J(Q)){const Ve=qn(Q.outlets);return new Me(R,Ve)}if(0===L&&li(E[0])){R.push(new tt(y.segments[b].path,Hr(E[0]))),L++;continue}const le=J(Q)?Q.outlets[_t]:`${Q}`,Je=L<E.length-1?E[L+1]:null;le&&Je&&li(Je)?(R.push(new tt(le,Hr(Je))),L+=2):(R.push(new tt(le,{})),L++)}return new Me(R,{})}function qn(y){const b={};return Object.entries(y).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(b[E]=ni(new Me([],{}),0,R))}),b}function Hr(y){const b={};return Object.entries(y).forEach(([E,R])=>b[E]=`${R}`),b}function pr(y,b,E){return y==E.path&&lr(b,E.parameters)}const cn="imperative";var _n=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(_n||{});class vr{constructor(b,E){this.id=b,this.url=E}}class sn extends vr{constructor(b,E,R="imperative",L=null){super(b,E),this.type=_n.NavigationStart,this.navigationTrigger=R,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends vr{constructor(b,E,R){super(b,E),this.urlAfterRedirects=R,this.type=_n.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kr=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Kr||{}),qr=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(qr||{});class Li extends vr{constructor(b,E,R,L){super(b,E),this.reason=R,this.code=L,this.type=_n.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends vr{constructor(b,E,R,L){super(b,E),this.reason=R,this.code=L,this.type=_n.NavigationSkipped}}class Or extends vr{constructor(b,E,R,L){super(b,E),this.error=R,this.target=L,this.type=_n.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ca extends vr{constructor(b,E,R,L){super(b,E),this.urlAfterRedirects=R,this.state=L,this.type=_n.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends vr{constructor(b,E,R,L){super(b,E),this.urlAfterRedirects=R,this.state=L,this.type=_n.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr extends vr{constructor(b,E,R,L,Q){super(b,E),this.urlAfterRedirects=R,this.state=L,this.shouldActivate=Q,this.type=_n.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ds extends vr{constructor(b,E,R,L){super(b,E),this.urlAfterRedirects=R,this.state=L,this.type=_n.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends vr{constructor(b,E,R,L){super(b,E),this.urlAfterRedirects=R,this.state=L,this.type=_n.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po{constructor(b){this.route=b,this.type=_n.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mo{constructor(b){this.route=b,this.type=_n.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wa{constructor(b){this.snapshot=b,this.type=_n.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(b){this.snapshot=b,this.type=_n.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(b){this.snapshot=b,this.type=_n.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(b){this.snapshot=b,this.type=_n.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(b,E,R){this.routerEvent=b,this.position=E,this.anchor=R,this.type=_n.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hs{}class Cs{constructor(b,E){this.url=b,this.navigationBehaviorOptions=E}}function Fi(y){return y.outlet||_t}function js(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let b=y.parent;b;b=b.parent){const E=b.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class xo{get injector(){return js(this.route?.snapshot)??this.rootInjector}set injector(b){}constructor(b){this.rootInjector=b,this.outlet=null,this.route=null,this.children=new $s(this.rootInjector),this.attachRef=null}}let $s=(()=>{class y{constructor(E){this.rootInjector=E,this.contexts=new Map}onChildOutletCreated(E,R){const L=this.getOrCreateContext(E);L.outlet=R,this.contexts.set(E,L)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new xo(this.rootInjector),this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static{this.\u0275fac=function(R){return new(R||y)(S.KVO(S.uvJ))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class Ka{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const E=this.pathFromRoot(b);return E.length>1?E[E.length-2]:null}children(b){const E=Ta(b,this._root);return E?E.children.map(R=>R.value):[]}firstChild(b){const E=Ta(b,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(b){const E=qa(b,this._root);return E.length<2?[]:E[E.length-2].children.map(L=>L.value).filter(L=>L!==b)}pathFromRoot(b){return qa(b,this._root).map(E=>E.value)}}function Ta(y,b){if(y===b.value)return b;for(const E of b.children){const R=Ta(y,E);if(R)return R}return null}function qa(y,b){if(y===b.value)return[b];for(const E of b.children){const R=qa(y,E);if(R.length)return R.unshift(b),R}return[]}class wi{constructor(b,E){this.value=b,this.children=E}toString(){return`TreeNode(${this.value})`}}function ho(y){const b={};return y&&y.children.forEach(E=>b[E.value.outlet]=E),b}class St extends Ka{constructor(b,E){super(b),this.snapshot=E,Yi(this,b)}toString(){return this.snapshot.toString()}}function fo(y){const b=function Ir(y){const Q=new go([],{},{},"",{},_t,y,null,{});return new mo("",new wi(Q,[]))}(y),E=new K.t([new tt("",{})]),R=new K.t({}),L=new K.t({}),Q=new K.t({}),le=new K.t(""),Je=new Ni(E,R,Q,le,L,_t,y,b.root);return Je.snapshot=b.root,new St(new wi(Je,[]),b)}class Ni{constructor(b,E,R,L,Q,le,Je,Ve){this.urlSubject=b,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=L,this.dataSubject=Q,this.outlet=le,this.component=Je,this._futureSnapshot=Ve,this.title=this.dataSubject?.pipe((0,me.T)(Pt=>Pt[bi]))??(0,V.of)(void 0),this.url=b,this.params=E,this.queryParams=R,this.fragment=L,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,me.T)(b=>zn(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,me.T)(b=>zn(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function po(y,b,E="emptyOnly"){let R;const{routeConfig:L}=y;return R=null===b||"always"!==E&&""!==L?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...y._resolvedData??{}}}:{params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.data,...L?.data,...y._resolvedData}},L&&yo(L)&&(R.resolve[bi]=L.title),R}class go{get title(){return this.data?.[bi]}constructor(b,E,R,L,Q,le,Je,Ve,Pt){this.url=b,this.params=E,this.queryParams=R,this.fragment=L,this.data=Q,this.outlet=le,this.component=Je,this.routeConfig=Ve,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends Ka{constructor(b,E){super(E),this.url=b,Yi(this,E)}toString(){return ko(this._root)}}function Yi(y,b){b.value._routerState=y,b.children.forEach(E=>Yi(y,E))}function ko(y){const b=y.children.length>0?` { ${y.children.map(ko).join(", ")} } `:"";return`${y.value}${b}`}function jn(y){if(y.snapshot){const b=y.snapshot,E=y._futureSnapshot;y.snapshot=E,lr(b.queryParams,E.queryParams)||y.queryParamsSubject.next(E.queryParams),b.fragment!==E.fragment&&y.fragmentSubject.next(E.fragment),lr(b.params,E.params)||y.paramsSubject.next(E.params),function Ot(y,b){if(y.length!==b.length)return!1;for(let E=0;E<y.length;++E)if(!lr(y[E],b[E]))return!1;return!0}(b.url,E.url)||y.urlSubject.next(E.url),lr(b.data,E.data)||y.dataSubject.next(E.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function $n(y,b){const E=lr(y.params,b.params)&&function Xe(y,b){return fe(y,b)&&y.every((E,R)=>lr(E.parameters,b[R].parameters))}(y.url,b.url);return E&&!(!y.parent!=!b.parent)&&(!y.parent||$n(y.parent,b.parent))}function yo(y){return"string"==typeof y.title||null===y.title}let fs=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new S.bkB,this.deactivateEvents=new S.bkB,this.attachEvents=new S.bkB,this.detachEvents=new S.bkB,this.parentContexts=(0,S.WQX)($s),this.location=(0,S.WQX)(S.c1b),this.changeDetector=(0,S.WQX)(S.gRc),this.inputBinder=(0,S.WQX)(wa,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:L}=E.name;if(R)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=E;const L=this.location,le=E.snapshot.component,Je=this.parentContexts.getOrCreateContext(this.name).children,Ve=new Xs(E,Je,L.injector);this.activated=L.createComponent(le,{index:L.length,injector:Ve,environmentInjector:R}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275dir=S.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.OA$]})}}return y})();class Xs{__ngOutletInjector(b){return new Xs(this.route,this.childContexts,b)}constructor(b,E,R){this.route=b,this.childContexts=E,this.parent=R}get(b,E){return b===Ni?this.route:b===$s?this.childContexts:this.parent.get(b,E)}}const wa=new S.nKC("");let di=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,L=Dt([R.queryParams,R.params,R.data]).pipe((0,et.n)(([Q,le,Je],Ve)=>(Je={...Q,...le,...Je},0===Ve?(0,V.of)(Je):Promise.resolve(Je)))).subscribe(Q=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const le=(0,S.HJs)(R.component);if(le)for(const{templateName:Je}of le.inputs)E.activatedComponentRef.setInput(Je,Q[Je]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,L)}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function Hs(y,b,E){if(E&&y.shouldReuseRoute(b.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=b.value;const L=function Tr(y,b,E){return b.children.map(R=>{for(const L of E.children)if(y.shouldReuseRoute(R.value,L.value.snapshot))return Hs(y,R,L);return Hs(y,R)})}(y,b,E);return new wi(R,L)}{if(y.shouldAttach(b.value)){const Q=y.retrieve(b.value);if(null!==Q){const le=Q.route;return le.value._futureSnapshot=b.value,le.children=b.children.map(Je=>Hs(y,Je)),le}}const R=function ss(y){return new Ni(new K.t(y.url),new K.t(y.params),new K.t(y.queryParams),new K.t(y.fragment),new K.t(y.data),y.outlet,y.component,y)}(b.value),L=b.children.map(Q=>Hs(y,Q));return new wi(R,L)}}class si{constructor(b,E){this.redirectTo=b,this.navigationBehaviorOptions=E}}const _o="ngNavigationCancelingError";function vo(y,b){const{redirectTo:E,navigationBehaviorOptions:R}=un(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,L=os(!1,Kr.Redirect);return L.url=E,L.navigationBehaviorOptions=R,L}function os(y,b){const E=new Error(`NavigationCancelingError: ${y||""}`);return E[_o]=!0,E.cancellationCode=b,E}function bn(y){return!!y&&y[_o]}class ta{constructor(b,E,R,L,Q){this.routeReuseStrategy=b,this.futureState=E,this.currState=R,this.forwardEvent=L,this.inputBindingEnabled=Q}activate(b){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,b),jn(this.futureState.root),this.activateChildRoutes(E,R,b)}deactivateChildRoutes(b,E,R){const L=ho(E);b.children.forEach(Q=>{const le=Q.value.outlet;this.deactivateRoutes(Q,L[le],R),delete L[le]}),Object.values(L).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,R)})}deactivateRoutes(b,E,R){const L=b.value,Q=E?E.value:null;if(L===Q)if(L.component){const le=R.getContext(L.outlet);le&&this.deactivateChildRoutes(b,E,le.children)}else this.deactivateChildRoutes(b,E,R);else Q&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(b,E){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,E):this.deactivateRouteAndOutlet(b,E)}detachAndStoreRouteSubtree(b,E){const R=E.getContext(b.value.outlet),L=R&&b.value.component?R.children:E,Q=ho(b);for(const le of Object.values(Q))this.deactivateRouteAndItsChildren(le,L);if(R&&R.outlet){const le=R.outlet.detach(),Je=R.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:le,route:b,contexts:Je})}}deactivateRouteAndOutlet(b,E){const R=E.getContext(b.value.outlet),L=R&&b.value.component?R.children:E,Q=ho(b);for(const le of Object.values(Q))this.deactivateRouteAndItsChildren(le,L);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(b,E,R){const L=ho(E);b.children.forEach(Q=>{this.activateRoutes(Q,L[Q.value.outlet],R),this.forwardEvent(new Oo(Q.value.snapshot))}),b.children.length&&this.forwardEvent(new No(b.value.snapshot))}activateRoutes(b,E,R){const L=b.value,Q=E?E.value:null;if(jn(L),L===Q)if(L.component){const le=R.getOrCreateContext(L.outlet);this.activateChildRoutes(b,E,le.children)}else this.activateChildRoutes(b,E,R);else if(L.component){const le=R.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Je=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),le.children.onOutletReAttached(Je.contexts),le.attachRef=Je.componentRef,le.route=Je.route.value,le.outlet&&le.outlet.attach(Je.componentRef,Je.route.value),jn(Je.route.value),this.activateChildRoutes(b,null,le.children)}else le.attachRef=null,le.route=L,le.outlet&&le.outlet.activateWith(L,le.injector),this.activateChildRoutes(b,null,le.children)}else this.activateChildRoutes(b,null,R)}}class Ys{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class na{constructor(b,E){this.component=b,this.route=E}}function $i(y,b,E){const R=y._root;return ps(R,b?b._root:null,E,[R.value])}function Fn(y,b){const E=Symbol(),R=b.get(y,E);return R===E?"function"!=typeof y||(0,S.LfX)(y)?b.get(y):y:R}function ps(y,b,E,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const Q=ho(b);return y.children.forEach(le=>{(function Zs(y,b,E,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const Q=y.value,le=b?b.value:null,Je=E?E.getContext(y.value.outlet):null;if(le&&Q.routeConfig===le.routeConfig){const Ve=function hu(y,b,E){if("function"==typeof E)return E(y,b);switch(E){case"pathParamsChange":return!fe(y.url,b.url);case"pathParamsOrQueryParamsChange":return!fe(y.url,b.url)||!lr(y.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(y,b)||!lr(y.queryParams,b.queryParams);default:return!$n(y,b)}}(le,Q,Q.routeConfig.runGuardsAndResolvers);Ve?L.canActivateChecks.push(new Ys(R)):(Q.data=le.data,Q._resolvedData=le._resolvedData),ps(y,b,Q.component?Je?Je.children:null:E,R,L),Ve&&Je&&Je.outlet&&Je.outlet.isActivated&&L.canDeactivateChecks.push(new na(Je.outlet.component,le))}else le&&bs(b,Je,L),L.canActivateChecks.push(new Ys(R)),ps(y,null,Q.component?Je?Je.children:null:E,R,L)})(le,Q[le.value.outlet],E,R.concat([le.value]),L),delete Q[le.value.outlet]}),Object.entries(Q).forEach(([le,Je])=>bs(Je,E.getContext(le),L)),L}function bs(y,b,E){const R=ho(y),L=y.value;Object.entries(R).forEach(([Q,le])=>{bs(le,L.component?b?b.children.getContext(Q):null:b,E)}),E.canDeactivateChecks.push(new na(L.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,L))}function ia(y){return"function"==typeof y}function Eo(y){return y instanceof Nn||"EmptyError"===y?.name}const Io=Symbol("INITIAL_VALUE");function sr(){return(0,et.n)(y=>Dt(y.map(b=>b.pipe(be(1),function ce(...y){const b=(0,ee.lI)(y);return(0,ct.N)((E,R)=>{(b?Te(y,E,b):Te(y,E)).subscribe(R)})}(Io)))).pipe((0,me.T)(b=>{for(const E of b)if(!0!==E){if(E===Io)return Io;if(!1===E||da(E))return E}return!0}),(0,ge.p)(b=>b!==Io),be(1)))}function da(y){return un(y)||y instanceof si}function Qa(y){return(0,Ft.F)((0,Kn.M)(b=>{if("boolean"!=typeof b)throw vo(0,b)}),(0,me.T)(b=>!0===b))}class Lo{constructor(b){this.segmentGroup=b||null}}class Zi extends Error{constructor(b){super(),this.urlTree=b}}function gs(y){return Ae(new Lo(y))}class zu{constructor(b,E){this.urlSerializer=b,this.urlTree=E}lineralizeSegments(b,E){let R=[],L=E.root;for(;;){if(R=R.concat(L.segments),0===L.numberOfChildren)return(0,V.of)(R);if(L.numberOfChildren>1||!L.children[_t])return Ae(new S.wOt(4e3,!1));L=L.children[_t]}}applyRedirectCommands(b,E,R,L,Q){if("string"!=typeof E){const Je=E,{queryParams:Ve,fragment:Pt,routeConfig:wn,url:vn,outlet:ai,params:ys,data:no,title:_s}=L,ro=(0,S.N4e)(Q,()=>Je({params:ys,data:no,queryParams:Ve,fragment:Pt,routeConfig:wn,url:vn,outlet:ai,title:_s}));if(ro instanceof Jr)throw new Zi(ro);E=ro}const le=this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),b,R);if("/"===E[0])throw new Zi(le);return le}applyRedirectCreateUrlTree(b,E,R,L){const Q=this.createSegmentGroup(b,E.root,R,L);return new Jr(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(b,E){const R={};return Object.entries(b).forEach(([L,Q])=>{if("string"==typeof Q&&":"===Q[0]){const Je=Q.substring(1);R[L]=E[Je]}else R[L]=Q}),R}createSegmentGroup(b,E,R,L){const Q=this.createSegments(b,E.segments,R,L);let le={};return Object.entries(E.children).forEach(([Je,Ve])=>{le[Je]=this.createSegmentGroup(b,Ve,R,L)}),new Me(Q,le)}createSegments(b,E,R,L){return E.map(Q=>":"===Q.path[0]?this.findPosParam(b,Q,L):this.findOrReturn(Q,R))}findPosParam(b,E,R){const L=R[E.path.substring(1)];if(!L)throw new S.wOt(4001,!1);return L}findOrReturn(b,E){let R=0;for(const L of E){if(L.path===b.path)return E.splice(R),L;R++}return b}}const Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vl(y,b,E,R,L){const Q=Ec(y,b,E);return Q.matched?(R=function Yo(y,b){return y.providers&&!y._injector&&(y._injector=(0,S.Ol2)(y.providers,b,`Route: ${y.path}`)),y._injector??b}(b,R),function ln(y,b,E,R){const L=b.canMatch;if(!L||0===L.length)return(0,V.of)(!0);const Q=L.map(le=>{const Je=Fn(le,y);return xr(function Hu(y){return y&&ia(y.canMatch)}(Je)?Je.canMatch(b,E):(0,S.N4e)(y,()=>Je(b,E)))});return(0,V.of)(Q).pipe(sr(),Qa())}(R,b,E).pipe((0,me.T)(le=>!0===le?Q:{...Ra}))):(0,V.of)(Q)}function Ec(y,b,E){if("**"===b.path)return function Fo(y){return{matched:!0,parameters:y.length>0?Lr(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(E);if(""===b.path)return"full"===b.pathMatch&&(y.hasChildren()||E.length>0)?{...Ra}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const L=(b.matcher||yt)(E,y,b);if(!L)return{...Ra};const Q={};Object.entries(L.posParams??{}).forEach(([Je,Ve])=>{Q[Je]=Ve.path});const le=L.consumed.length>0?{...Q,...L.consumed[L.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:L.consumed,remainingSegments:E.slice(L.consumed.length),parameters:le,positionalParamSegments:L.posParams??{}}}function sa(y,b,E,R){return E.length>0&&function Uo(y,b,E){return E.some(R=>Bo(y,b,R)&&Fi(R)!==_t)}(y,E,R)?{segmentGroup:new Me(b,Vo(R,new Me(E,y.children))),slicedSegments:[]}:0===E.length&&function Di(y,b,E){return E.some(R=>Bo(y,b,R))}(y,E,R)?{segmentGroup:new Me(y.segments,gu(y,E,R,y.children)),slicedSegments:E}:{segmentGroup:new Me(y.segments,y.children),slicedSegments:E}}function gu(y,b,E,R){const L={};for(const Q of E)if(Bo(y,b,Q)&&!R[Fi(Q)]){const le=new Me([],{});L[Fi(Q)]=le}return{...R,...L}}function Vo(y,b){const E={};E[_t]=b;for(const R of y)if(""===R.path&&Fi(R)!==_t){const L=new Me([],{});E[Fi(R)]=L}return E}function Bo(y,b,E){return(!(y.hasChildren()||b.length>0)||"full"!==E.pathMatch)&&""===E.path}class U{}class x{constructor(b,E,R,L,Q,le,Je){this.injector=b,this.configLoader=E,this.rootComponentType=R,this.config=L,this.urlTree=Q,this.paramsInheritanceStrategy=le,this.urlSerializer=Je,this.applyRedirects=new zu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new S.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=sa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,me.T)(({children:E,rootSnapshot:R})=>{const L=new wi(R,E),Q=new mo("",L),le=function kn(y,b,E=null,R=null){return Sr(tr(y),b,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(le),{state:Q,tree:le}}))}match(b){const E=new go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),_t,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,b,_t,E).pipe((0,me.T)(R=>({children:R,rootSnapshot:E})),Ur(R=>{if(R instanceof Zi)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof Lo?this.noMatchError(R):R}))}processSegmentGroup(b,E,R,L,Q){return 0===R.segments.length&&R.hasChildren()?this.processChildren(b,E,R,Q):this.processSegment(b,E,R,R.segments,L,!0,Q).pipe((0,me.T)(le=>le instanceof wi?[le]:[]))}processChildren(b,E,R,L){const Q=[];for(const le of Object.keys(R.children))"primary"===le?Q.unshift(le):Q.push(le);return(0,F.H)(Q).pipe((0,Un.H)(le=>{const Je=R.children[le],Ve=function Xi(y,b){const E=y.filter(R=>Fi(R)===b);return E.push(...y.filter(R=>Fi(R)!==b)),E}(E,le);return this.processSegmentGroup(b,Ve,Je,le,L)}),function Er(y,b){return(0,ct.N)(function nr(y,b,E,R,L){return(Q,le)=>{let Je=E,Ve=b,Pt=0;Q.subscribe((0,Be._)(le,wn=>{const vn=Pt++;Ve=Je?y(Ve,wn,vn):(Je=!0,wn),R&&le.next(Ve)},L&&(()=>{Je&&le.next(Ve),le.complete()})))}}(y,b,arguments.length>=2,!0))}((le,Je)=>(le.push(...Je),le)),Ut(null),function ar(y,b){const E=arguments.length>=2;return R=>R.pipe(y?(0,ge.p)((L,Q)=>y(L,Q,R)):ae.D,Gr(1),E?Ut(b):Gn(()=>new Nn))}(),(0,gn.Z)(le=>{if(null===le)return gs(R);const Je=Re(le);return function $(y){y.sort((b,E)=>b.value.outlet===_t?-1:E.value.outlet===_t?1:b.value.outlet.localeCompare(E.value.outlet))}(Je),(0,V.of)(Je)}))}processSegment(b,E,R,L,Q,le,Je){return(0,F.H)(E).pipe((0,Un.H)(Ve=>this.processSegmentAgainstRoute(Ve._injector??b,E,Ve,R,L,Q,le,Je).pipe(Ur(Pt=>{if(Pt instanceof Lo)return(0,V.of)(null);throw Pt}))),nn(Ve=>!!Ve),Ur(Ve=>{if(Eo(Ve))return function Ws(y,b,E){return 0===b.length&&!y.children[E]}(R,L,Q)?(0,V.of)(new U):gs(R);throw Ve}))}processSegmentAgainstRoute(b,E,R,L,Q,le,Je,Ve){return Fi(R)===le||le!==_t&&Bo(L,Q,R)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(b,L,R,Q,le,Ve):this.allowRedirects&&Je?this.expandSegmentAgainstRouteUsingRedirect(b,L,E,R,Q,le,Ve):gs(L):gs(L)}expandSegmentAgainstRouteUsingRedirect(b,E,R,L,Q,le,Je){const{matched:Ve,parameters:Pt,consumedSegments:wn,positionalParamSegments:vn,remainingSegments:ai}=Ec(E,L,Q);if(!Ve)return gs(E);"string"==typeof L.redirectTo&&"/"===L.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ys=new go(Q,Pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fe(L),Fi(L),L.component??L._loadedComponent??null,L,lt(L)),no=po(ys,Je,this.paramsInheritanceStrategy);ys.params=Object.freeze(no.params),ys.data=Object.freeze(no.data);const _s=this.applyRedirects.applyRedirectCommands(wn,L.redirectTo,vn,ys,b);return this.applyRedirects.lineralizeSegments(L,_s).pipe((0,gn.Z)(ro=>this.processSegment(b,R,E,ro.concat(ai),le,!1,Je)))}matchSegmentAgainstRoute(b,E,R,L,Q,le){const Je=Vl(E,R,L,b);return"**"===R.path&&(E.children={}),Je.pipe((0,et.n)(Ve=>Ve.matched?this.getChildConfig(b=R._injector??b,R,L).pipe((0,et.n)(({routes:Pt})=>{const wn=R._loadedInjector??b,{parameters:vn,consumedSegments:ai,remainingSegments:ys}=Ve,no=new go(ai,vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fe(R),Fi(R),R.component??R._loadedComponent??null,R,lt(R)),_s=po(no,le,this.paramsInheritanceStrategy);no.params=Object.freeze(_s.params),no.data=Object.freeze(_s.data);const{segmentGroup:ro,slicedSegments:Ho}=sa(E,ai,ys,Pt);if(0===Ho.length&&ro.hasChildren())return this.processChildren(wn,Pt,ro,no).pipe((0,me.T)(To=>new wi(no,To)));if(0===Pt.length&&0===Ho.length)return(0,V.of)(new wi(no,[]));const Oa=Fi(R)===Q;return this.processSegment(wn,Pt,ro,Ho,Oa?_t:Q,!0,no).pipe((0,me.T)(To=>new wi(no,To instanceof wi?[To]:[])))})):gs(E)))}getChildConfig(b,E,R){return E.children?(0,V.of)({routes:E.children,injector:b}):E.loadChildren?void 0!==E._loadedRoutes?(0,V.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function zs(y,b,E,R){const L=b.canLoad;if(void 0===L||0===L.length)return(0,V.of)(!0);const Q=L.map(le=>{const Je=Fn(le,y);return xr(function Xr(y){return y&&ia(y.canLoad)}(Je)?Je.canLoad(b,E):(0,S.N4e)(y,()=>Je(b,E)))});return(0,V.of)(Q).pipe(sr(),Qa())}(b,E,R).pipe((0,gn.Z)(L=>L?this.configLoader.loadChildren(b,E).pipe((0,Kn.M)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Xa(){return Ae(os(!1,Kr.GuardRejected))}())):(0,V.of)({routes:[],injector:b})}}function ne(y){const b=y.value.routeConfig;return b&&""===b.path}function Re(y){const b=[],E=new Set;for(const R of y){if(!ne(R)){b.push(R);continue}const L=b.find(Q=>R.value.routeConfig===Q.value.routeConfig);void 0!==L?(L.children.push(...R.children),E.add(L)):b.push(R)}for(const R of E){const L=Re(R.children);b.push(new wi(R.value,L))}return b.filter(R=>!E.has(R))}function Fe(y){return y.data||{}}function lt(y){return y.resolve||{}}function Hn(y){const b=y.children.map(E=>Hn(E)).flat();return[y,...b]}function or(y){return(0,et.n)(b=>{const E=y(b);return E?(0,F.H)(E).pipe((0,me.T)(()=>b)):(0,V.of)(b)})}let w=(()=>{class y{buildTitle(E){let R,L=E.root;for(;void 0!==L;)R=this.getResolvedTitleForRoute(L)??R,L=L.children.find(Q=>Q.outlet===_t);return R}getResolvedTitleForRoute(E){return E.data[bi]}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:()=>(0,S.WQX)(G),providedIn:"root"})}}return y})(),G=(()=>{class y extends w{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||y)(S.KVO(ir.hE))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const N=new S.nKC("",{providedIn:"root",factory:()=>({})});let B=(()=>{class y{static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275cmp=S.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.aNF],decls:1,vars:0,template:function(R,L){1&R&&S.nrm(0,"router-outlet")},dependencies:[fs],encapsulation:2})}}return y})();function de(y){const b=y.children&&y.children.map(de),E=b?{...y,children:b}:{...y};return!E.component&&!E.loadComponent&&(b||E.loadChildren)&&E.outlet&&E.outlet!==_t&&(E.component=B),E}const Ge=new S.nKC("");let ft=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.WQX)(S.Ql9)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,V.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=xr(E.loadComponent()).pipe((0,me.T)(xn),(0,Kn.M)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),(0,on.j)(()=>{this.componentLoaders.delete(E)})),L=new Xt(R,()=>new Yt.B).pipe(Mt());return this.componentLoaders.set(E,L),L}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,V.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const Q=function xt(y,b,E,R){return xr(y.loadChildren()).pipe((0,me.T)(xn),(0,gn.Z)(L=>L instanceof S.Co$||Array.isArray(L)?(0,V.of)(L):(0,F.H)(b.compileModuleAsync(L))),(0,me.T)(L=>{R&&R(y);let Q,le,Je=!1;return Array.isArray(L)?(le=L,!0):(Q=L.create(E).injector,le=Q.get(Ge,[],{optional:!0,self:!0}).flat()),{routes:le.map(de),injector:Q}}))}(R,this.compiler,E,this.onLoadEndListener).pipe((0,on.j)(()=>{this.childrenLoaders.delete(R)})),le=new Xt(Q,()=>new Yt.B).pipe(Mt());return this.childrenLoaders.set(R,le),le}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function xn(y){return function gr(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Mn=(()=>{class y{static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:()=>(0,S.WQX)(ht),providedIn:"root"})}}return y})(),ht=(()=>{class y{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const br=new S.nKC(""),mr=new S.nKC("");function zr(y,b,E){const R=y.get(mr),L=y.get(pe.qQ);return y.get(S.SKi).runOutsideAngular(()=>{if(!L.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise(Pt=>setTimeout(Pt));let Q;const le=new Promise(Pt=>{Q=Pt}),Je=L.startViewTransition(()=>(Q(),function Qt(y){return new Promise(b=>{(0,S.mal)({read:()=>setTimeout(b)},{injector:y})})}(y))),{onViewTransitionCreated:Ve}=R;return Ve&&(0,S.N4e)(y,()=>Ve({transition:Je,from:b,to:E})),le})}const Zt=new S.nKC("");let an=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yt.B,this.transitionAbortSubject=new Yt.B,this.configLoader=(0,S.WQX)(ft),this.environmentInjector=(0,S.WQX)(S.uvJ),this.urlSerializer=(0,S.WQX)(at),this.rootContexts=(0,S.WQX)($s),this.location=(0,S.WQX)(pe.aZ),this.inputBindingEnabled=null!==(0,S.WQX)(wa,{optional:!0}),this.titleStrategy=(0,S.WQX)(w),this.options=(0,S.WQX)(N,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,S.WQX)(Mn),this.createViewTransition=(0,S.WQX)(br,{optional:!0}),this.navigationErrorHandler=(0,S.WQX)(Zt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new Mo(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new Po(L))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,L){return this.transitions=new K.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cn,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ge.p)(Q=>0!==Q.id),(0,me.T)(Q=>({...Q,extractedUrl:this.urlHandlingStrategy.extract(Q.rawUrl)})),(0,et.n)(Q=>{let le=!1,Je=!1;return(0,V.of)(Q).pipe((0,et.n)(Ve=>{if(this.navigationId>Q.id)return this.cancelNavigationTransition(Q,"",Kr.SupersededByNewNavigation),Qe;this.currentTransition=Q,this.currentNavigation={id:Ve.id,initialUrl:Ve.rawUrl,extractedUrl:Ve.extractedUrl,targetBrowserUrl:"string"==typeof Ve.extras.browserUrl?this.urlSerializer.parse(Ve.extras.browserUrl):Ve.extras.browserUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pt=!E.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Pt&&"reload"!==(Ve.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const vn="";return this.events.next(new co(Ve.id,this.urlSerializer.serialize(Ve.rawUrl),vn,qr.IgnoredSameUrlNavigation)),Ve.resolve(!1),Qe}if(this.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return(0,V.of)(Ve).pipe((0,et.n)(vn=>{const ai=this.transitions?.getValue();return this.events.next(new sn(vn.id,this.urlSerializer.serialize(vn.extractedUrl),vn.source,vn.restoredState)),ai!==this.transitions?.getValue()?Qe:Promise.resolve(vn)}),function qt(y,b,E,R,L,Q){return(0,gn.Z)(le=>function v(y,b,E,R,L,Q,le="emptyOnly"){return new x(y,b,E,R,L,le,Q).recognize()}(y,b,E,R,le.extractedUrl,L,Q).pipe((0,me.T)(({state:Je,tree:Ve})=>({...le,targetSnapshot:Je,urlAfterRedirects:Ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Kn.M)(vn=>{Q.targetSnapshot=vn.targetSnapshot,Q.urlAfterRedirects=vn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:vn.urlAfterRedirects};const ai=new ca(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(ai)}));if(Pt&&this.urlHandlingStrategy.shouldProcessUrl(Ve.currentRawUrl)){const{id:vn,extractedUrl:ai,source:ys,restoredState:no,extras:_s}=Ve,ro=new sn(vn,this.urlSerializer.serialize(ai),ys,no);this.events.next(ro);const Ho=fo(this.rootComponentType).snapshot;return this.currentTransition=Q={...Ve,targetSnapshot:Ho,urlAfterRedirects:ai,extras:{..._s,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ai,(0,V.of)(Q)}{const vn="";return this.events.next(new co(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),vn,qr.IgnoredByUrlHandlingStrategy)),Ve.resolve(!1),Qe}}),(0,Kn.M)(Ve=>{const Pt=new Qi(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(Pt)}),(0,me.T)(Ve=>(this.currentTransition=Q={...Ve,guards:$i(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)},Q)),function Oi(y,b){return(0,gn.Z)(E=>{const{targetSnapshot:R,currentSnapshot:L,guards:{canActivateChecks:Q,canDeactivateChecks:le}}=E;return 0===le.length&&0===Q.length?(0,V.of)({...E,guardsResult:!0}):function Js(y,b,E,R){return(0,F.H)(y).pipe((0,gn.Z)(L=>function fu(y,b,E,R,L){const Q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,V.of)(!0);const le=Q.map(Je=>{const Ve=js(b)??L,Pt=Fn(Je,Ve);return xr(function Sa(y){return y&&ia(y.canDeactivate)}(Pt)?Pt.canDeactivate(y,b,E,R):(0,S.N4e)(Ve,()=>Pt(y,b,E,R))).pipe(nn())});return(0,V.of)(le).pipe(sr())}(L.component,L.route,E,b,R)),nn(L=>!0!==L,!0))}(le,R,L,y).pipe((0,gn.Z)(Je=>Je&&function Da(y){return"boolean"==typeof y}(Je)?function ba(y,b,E,R){return(0,F.H)(b).pipe((0,Un.H)(L=>Te(function as(y,b){return null!==y&&b&&b(new Wa(y)),(0,V.of)(!0)}(L.route.parent,R),function ha(y,b){return null!==y&&b&&b(new qs(y)),(0,V.of)(!0)}(L.route,R),function Ai(y,b,E){const R=b[b.length-1],Q=b.slice(0,b.length-1).reverse().map(le=>function ra(y){const b=y.routeConfig?y.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:y,guards:b}:null}(le)).filter(le=>null!==le).map(le=>Tt(()=>{const Je=le.guards.map(Ve=>{const Pt=js(le.node)??E,wn=Fn(Ve,Pt);return xr(function Ca(y){return y&&ia(y.canActivateChild)}(wn)?wn.canActivateChild(R,y):(0,S.N4e)(Pt,()=>wn(R,y))).pipe(nn())});return(0,V.of)(Je).pipe(sr())}));return(0,V.of)(Q).pipe(sr())}(y,L.path,E),function fa(y,b,E){const R=b.routeConfig?b.routeConfig.canActivate:null;if(!R||0===R.length)return(0,V.of)(!0);const L=R.map(Q=>Tt(()=>{const le=js(b)??E,Je=Fn(Q,le);return xr(function Jt(y){return y&&ia(y.canActivate)}(Je)?Je.canActivate(b,y):(0,S.N4e)(le,()=>Je(b,y))).pipe(nn())}));return(0,V.of)(L).pipe(sr())}(y,L.route,E))),nn(L=>!0!==L,!0))}(R,Q,y,b):(0,V.of)(Je)),(0,me.T)(Je=>({...E,guardsResult:Je})))})}(this.environmentInjector,Ve=>this.events.next(Ve)),(0,Kn.M)(Ve=>{if(Q.guardsResult=Ve.guardsResult,Ve.guardsResult&&"boolean"!=typeof Ve.guardsResult)throw vo(0,Ve.guardsResult);const Pt=new Fr(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.events.next(Pt)}),(0,ge.p)(Ve=>!!Ve.guardsResult||(this.cancelNavigationTransition(Ve,"",Kr.GuardRejected),!1)),or(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,V.of)(Ve).pipe((0,Kn.M)(Pt=>{const wn=new ds(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(wn)}),(0,et.n)(Pt=>{let wn=!1;return(0,V.of)(Pt).pipe(function Bt(y,b){return(0,gn.Z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:L}}=E;if(!L.length)return(0,V.of)(E);const Q=new Set(L.map(Ve=>Ve.route)),le=new Set;for(const Ve of Q)if(!le.has(Ve))for(const Pt of Hn(Ve))le.add(Pt);let Je=0;return(0,F.H)(le).pipe((0,Un.H)(Ve=>Q.has(Ve)?function Vn(y,b,E,R){const L=y.routeConfig,Q=y._resolve;return void 0!==L?.title&&!yo(L)&&(Q[bi]=L.title),function dn(y,b,E,R){const L=Zr(y);if(0===L.length)return(0,V.of)({});const Q={};return(0,F.H)(L).pipe((0,gn.Z)(le=>function Tn(y,b,E,R){const L=js(b)??R,Q=Fn(y,L);return xr(Q.resolve?Q.resolve(b,E):(0,S.N4e)(L,()=>Q(b,E)))}(y[le],b,E,R).pipe(nn(),(0,Kn.M)(Je=>{if(Je instanceof si)throw vo(new se,Je);Q[le]=Je}))),Gr(1),function ui(y){return(0,me.T)(()=>y)}(Q),Ur(le=>Eo(le)?Qe:Ae(le)))}(Q,y,b,R).pipe((0,me.T)(le=>(y._resolvedData=le,y.data=po(y,y.parent,E).resolve,null)))}(Ve,R,y,b):(Ve.data=po(Ve,Ve.parent,y).resolve,(0,V.of)(void 0))),(0,Kn.M)(()=>Je++),Gr(1),(0,gn.Z)(Ve=>Je===le.size?(0,V.of)(E):Qe))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Kn.M)({next:()=>wn=!0,complete:()=>{wn||this.cancelNavigationTransition(Pt,"",Kr.NoDataFromResolver)}}))}),(0,Kn.M)(Pt=>{const wn=new Ea(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(wn)}))}),or(Ve=>{const Pt=wn=>{const vn=[];wn.routeConfig?.loadComponent&&!wn.routeConfig._loadedComponent&&vn.push(this.configLoader.loadComponent(wn.routeConfig).pipe((0,Kn.M)(ai=>{wn.component=ai}),(0,me.T)(()=>{})));for(const ai of wn.children)vn.push(...Pt(ai));return vn};return Dt(Pt(Ve.targetSnapshot.root)).pipe(Ut(null),be(1))}),or(()=>this.afterPreactivation()),(0,et.n)(()=>{const{currentSnapshot:Ve,targetSnapshot:Pt}=Q,wn=this.createViewTransition?.(this.environmentInjector,Ve.root,Pt.root);return wn?(0,F.H)(wn).pipe((0,me.T)(()=>Q)):(0,V.of)(Q)}),(0,me.T)(Ve=>{const Pt=function vc(y,b,E){const R=Hs(y,b._root,E?E._root:void 0);return new St(R,b)}(E.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return this.currentTransition=Q={...Ve,targetRouterState:Pt},this.currentNavigation.targetRouterState=Pt,Q}),(0,Kn.M)(()=>{this.events.next(new hs)}),((y,b,E,R)=>(0,me.T)(L=>(new ta(b,L.targetRouterState,L.currentRouterState,E,R).activate(y),L)))(this.rootContexts,E.routeReuseStrategy,Ve=>this.events.next(Ve),this.inputBindingEnabled),be(1),(0,Kn.M)({next:Ve=>{le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects))),this.titleStrategy?.updateTitle(Ve.targetRouterState.snapshot),Ve.resolve(!0)},complete:()=>{le=!0}}),function ls(y){return(0,ct.N)((b,E)=>{(0,Ce.Tg)(y).subscribe((0,Be._)(E,()=>E.complete(),pi.l)),!E.closed&&b.subscribe(E)})}(this.transitionAbortSubject.pipe((0,Kn.M)(Ve=>{throw Ve}))),(0,on.j)(()=>{!le&&!Je&&this.cancelNavigationTransition(Q,"",Kr.SupersededByNewNavigation),this.currentTransition?.id===Q.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ur(Ve=>{if(Je=!0,bn(Ve))this.events.next(new Li(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Ve.message,Ve.cancellationCode)),function ea(y){return bn(y)&&un(y.url)}(Ve)?this.events.next(new Cs(Ve.url,Ve.navigationBehaviorOptions)):Q.resolve(!1);else{const Pt=new Or(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Ve,Q.targetSnapshot??void 0);try{const wn=(0,S.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Pt));if(wn instanceof si){const{message:vn,cancellationCode:ai}=vo(0,wn);this.events.next(new Li(Q.id,this.urlSerializer.serialize(Q.extractedUrl),vn,ai)),this.events.next(new Cs(wn.redirectTo,wn.navigationBehaviorOptions))}else{this.events.next(Pt);const vn=E.errorHandler(Ve);Q.resolve(!!vn)}}catch(wn){this.options.resolveNavigationPromiseOnError?Q.resolve(!1):Q.reject(wn)}}return Qe}))}))}cancelNavigationTransition(E,R,L){const Q=new Li(E.id,this.urlSerializer.serialize(E.extractedUrl),R,L);this.events.next(Q),E.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const E=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),R=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return E.toString()!==R?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Xn(y){return y!==cn}let Rr=(()=>{class y{static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:()=>(0,S.WQX)(Qr),providedIn:"root"})}}return y})();class oi{shouldDetach(b){return!1}store(b,E){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,E){return b.routeConfig===E.routeConfig}}let Qr=(()=>{class y extends oi{static{this.\u0275fac=(()=>{let E;return function(L){return(E||(E=S.xGo(y)))(L||y)}})()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Hi=(()=>{class y{static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:()=>(0,S.WQX)(wr),providedIn:"root"})}}return y})(),wr=(()=>{class y extends Hi{constructor(){super(...arguments),this.location=(0,S.WQX)(pe.aZ),this.urlSerializer=(0,S.WQX)(at),this.options=(0,S.WQX)(N,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,S.WQX)(Mn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(E){return this.location.subscribe(R=>{"popstate"===R.type&&E(R.url,R.state)})}handleRouterEvent(E,R){if(E instanceof sn)this.stateMemento=this.createStateMemento();else if(E instanceof co)this.rawUrlTree=R.initialUrl;else if(E instanceof ca){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(R.targetBrowserUrl??L,R)}}else E instanceof hs?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&!R.extras.skipLocationChange&&this.setBrowserUrl(R.targetBrowserUrl??this.rawUrlTree,R)):E instanceof Li&&(E.code===Kr.GuardRejected||E.code===Kr.NoDataFromResolver)?this.restoreHistory(R):E instanceof Or?this.restoreHistory(R,!0):E instanceof Mi&&(this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId)}setBrowserUrl(E,R){const L=E instanceof Jr?this.urlSerializer.serialize(E):E;if(this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl){const le={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(L,"",le)}else{const Q={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(L,"",Q)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.currentUrlTree===E.finalUrl&&0===Q&&(this.resetState(E),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static{this.\u0275fac=(()=>{let E;return function(L){return(E||(E=S.xGo(y)))(L||y)}})()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var jo=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(jo||{});function Ui(y,b){y.events.pipe((0,ge.p)(E=>E instanceof Mi||E instanceof Li||E instanceof Or||E instanceof co),(0,me.T)(E=>E instanceof Mi||E instanceof co?jo.COMPLETE:E instanceof Li&&(E.code===Kr.Redirect||E.code===Kr.SupersededByNewNavigation)?jo.REDIRECTING:jo.FAILED),(0,ge.p)(E=>E!==jo.REDIRECTING),be(1)).subscribe(()=>{b()})}function gi(y){throw y}const eo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,S.WQX)(S.H3F),this.stateManager=(0,S.WQX)(Hi),this.options=(0,S.WQX)(N,{optional:!0})||{},this.pendingTasks=(0,S.WQX)(S.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,S.WQX)(an),this.urlSerializer=(0,S.WQX)(at),this.location=(0,S.WQX)(pe.aZ),this.urlHandlingStrategy=(0,S.WQX)(Mn),this._events=new Yt.B,this.errorHandler=this.options.errorHandler||gi,this.navigated=!1,this.routeReuseStrategy=(0,S.WQX)(Rr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,S.WQX)(Ge,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,S.WQX)(wa,{optional:!0}),this.eventsSubscription=new Wn.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:E=>{this.console.warn(E)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const L=this.navigationTransitions.currentTransition,Q=this.navigationTransitions.currentNavigation;if(null!==L&&null!==Q)if(this.stateManager.handleRouterEvent(R,Q),R instanceof Li&&R.code!==Kr.Redirect&&R.code!==Kr.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof Mi)this.navigated=!0;else if(R instanceof Cs){const le=R.navigationBehaviorOptions,Je=this.urlHandlingStrategy.merge(R.url,L.currentRawUrl),Ve={browserUrl:L.extras.browserUrl,info:L.extras.info,skipLocationChange:L.extras.skipLocationChange,replaceUrl:L.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Xn(L.source),...le};this.scheduleNavigation(Je,cn,null,Ve,{resolve:L.resolve,reject:L.reject,promise:L.promise})}(function dg(y){return!(y instanceof hs||y instanceof Cs)})(R)&&this._events.next(R)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((E,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(E,"popstate",R)},0)})}navigateToSyncWithBrowser(E,R,L){const Q={replaceUrl:!0},le=L?.navigationId?L:null;if(L){const Ve={...L};delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(Q.state=Ve)}const Je=this.parseUrl(E);this.scheduleNavigation(Je,R,le,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(de),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:L,queryParams:Q,fragment:le,queryParamsHandling:Je,preserveFragment:Ve}=R,Pt=Ve?this.currentUrlTree.fragment:le;let vn,wn=null;switch(Je??this.options.defaultQueryParamsHandling){case"merge":wn={...this.currentUrlTree.queryParams,...Q};break;case"preserve":wn=this.currentUrlTree.queryParams;break;default:wn=Q||null}null!==wn&&(wn=this.removeEmptyProps(wn));try{vn=tr(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||"/"!==E[0][0])&&(E=[]),vn=this.currentUrlTree.root}return Sr(vn,E,wn,Pt??null)}navigateByUrl(E,R={skipLocationChange:!1}){const L=un(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Q,cn,null,R)}navigate(E,R={skipLocationChange:!1}){return function Ya(y){for(let b=0;b<y.length;b++)if(null==y[b])throw new S.wOt(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){try{return this.urlSerializer.parse(E)}catch{return this.urlSerializer.parse("/")}}isActive(E,R){let L;if(L=!0===R?{...eo}:!1===R?{...zi}:R,un(E))return Rn(this.currentUrlTree,E,L);const Q=this.parseUrl(E);return Rn(this.currentUrlTree,Q,L)}removeEmptyProps(E){return Object.entries(E).reduce((R,[L,Q])=>(null!=Q&&(R[L]=Q),R),{})}scheduleNavigation(E,R,L,Q,le){if(this.disposed)return Promise.resolve(!1);let Je,Ve,Pt;le?(Je=le.resolve,Ve=le.reject,Pt=le.promise):Pt=new Promise((vn,ai)=>{Je=vn,Ve=ai});const wn=this.pendingTasks.add();return Ui(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(wn))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:Q,resolve:Je,reject:Ve,promise:Pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pt.catch(vn=>Promise.reject(vn))}static{this.\u0275fac=function(R){return new(R||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Wu=(()=>{class y{constructor(E,R,L,Q,le,Je){this.router=E,this.route=R,this.tabIndexAttribute=L,this.renderer=Q,this.el=le,this.locationStrategy=Je,this.href=null,this.onChanges=new Yt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Ve=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ve||"area"===Ve,this.isAnchorElement?this.subscription=E.events.subscribe(Pt=>{Pt instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null==E?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=un(E)||Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0"))}onClick(E,R,L,Q,le){const Je=this.urlTree;return!!(null===Je||this.isAnchorElement&&(0!==E||R||L||Q||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Je,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const E=this.urlTree;this.href=null!==E&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(E)):null;const R=null===this.href?null:(0,S.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(E,R){const L=this.renderer,Q=this.el.nativeElement;null!==R?L.setAttribute(Q,E,R):L.removeAttribute(Q,E)}get urlTree(){return null===this.routerLinkInput?null:un(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||y)(S.rXU(Bi),S.rXU(Ni),S.kS0("tabindex"),S.rXU(S.sFG),S.rXU(S.aKT),S.rXU(pe.hb))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,L){1&R&&S.bIt("click",function(le){return L.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&R&&S.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",S.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",S.L39],replaceUrl:[2,"replaceUrl","replaceUrl",S.L39],routerLink:"routerLink"},standalone:!0,features:[S.GFd,S.OA$]})}}return y})(),hf=(()=>{class y{get isActive(){return this._isActive}constructor(E,R,L,Q,le){this.router=E,this.element=R,this.renderer=L,this.cdr=Q,this.link=le,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new S.bkB,this.routerEventsSubscription=E.events.subscribe(Je=>{Je instanceof Mi&&this.update()})}ngAfterContentInit(){(0,V.of)(this.links.changes,(0,V.of)(null)).pipe(He()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,F.H)(E).pipe(He()).subscribe(R=>{this._isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(E){const R=Array.isArray(E)?E:E.split(" ");this.classes=R.filter(L=>!!L)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const E=this.hasActiveLinks();this.classes.forEach(R=>{E?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.isActiveChange.emit(E))})}isLinkActive(E){const R=function ms(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>{const Q=L.urlTree;return!!Q&&E.isActive(Q,R)}}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}static{this.\u0275fac=function(R){return new(R||y)(S.rXU(Bi),S.rXU(S.aKT),S.rXU(S.sFG),S.rXU(S.gRc),S.rXU(Wu,8))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(R,L,Q){if(1&R&&S.wni(Q,Wu,5),2&R){let le;S.mGM(le=S.lsd())&&(L.links=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[S.OA$]})}}return y})();class pa{}let Ci=(()=>{class y{constructor(E,R,L,Q,le){this.router=E,this.injector=L,this.preloadingStrategy=Q,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.p)(E=>E instanceof Mi),(0,Un.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const L=[];for(const Q of R){Q.providers&&!Q._injector&&(Q._injector=(0,S.Ol2)(Q.providers,E,`Route: ${Q.path}`));const le=Q._injector??E,Je=Q._loadedInjector??le;(Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent)&&L.push(this.preloadConfig(le,Q)),(Q.children||Q._loadedRoutes)&&L.push(this.processRoutes(Je,Q.children??Q._loadedRoutes))}return(0,F.H)(L).pipe(He())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let L;L=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,V.of)(null);const Q=L.pipe((0,gn.Z)(le=>null===le?(0,V.of)(void 0):(R._loadedRoutes=le.routes,R._loadedInjector=le.injector,this.processRoutes(le.injector??E,le.routes))));if(R.loadComponent&&!R._loadedComponent){const le=this.loader.loadComponent(R);return(0,F.H)([Q,le]).pipe(He())}return Q})}static{this.\u0275fac=function(R){return new(R||y)(S.KVO(Bi),S.KVO(S.Ql9),S.KVO(S.uvJ),S.KVO(pa),S.KVO(ft))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const Pr=new S.nKC("");let yr=(()=>{class y{constructor(E,R,L,Q,le={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=L,this.zone=Q,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration||="disabled",le.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Mi?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof co&&E.code===qr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Bs&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bs(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(R){S.QTQ()}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function mi(y,b){return{\u0275kind:y,\u0275providers:b}}function yu(){const y=(0,S.WQX)(S.zZn);return b=>{const E=y.get(S.o8S);if(b!==E.components[0])return;const R=y.get(Bi),L=y.get(_u);1===y.get(Ma)&&R.initialNavigation(),y.get(Tc,null,S.$GK.Optional)?.setUpPreloading(),y.get(Pr,null,S.$GK.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const _u=new S.nKC("",{factory:()=>new Yt.B}),Ma=new S.nKC("",{providedIn:"root",factory:()=>1}),Tc=new S.nKC("");function wc(y){return mi(0,[{provide:Tc,useExisting:Ci},{provide:pa,useExisting:y}])}function jl(y){return mi(9,[{provide:br,useValue:zr},{provide:mr,useValue:{skipNextTransition:!!y?.skipInitialTransition,...y}}])}const $l=new S.nKC("ROUTER_FORROOT_GUARD"),Gd=[pe.aZ,{provide:at,useClass:se},Bi,$s,{provide:Ni,useFactory:function Za(y){return y.routerState.root},deps:[Bi]},ft,[]];let Na=(()=>{class y{constructor(E){}static forRoot(E,R){return{ngModule:y,providers:[Gd,[],{provide:Ge,multi:!0,useValue:E},{provide:$l,useFactory:Xu,deps:[[Bi,new S.Xx1,new S.kdw]]},{provide:N,useValue:R||{}},R?.useHash?{provide:pe.hb,useClass:pe.fw}:{provide:pe.hb,useClass:pe.Sm},{provide:Pr,useFactory:()=>{const y=(0,S.WQX)(pe.Xr),b=(0,S.WQX)(S.SKi),E=(0,S.WQX)(N),R=(0,S.WQX)(an),L=(0,S.WQX)(at);return E.scrollOffset&&y.setOffset(E.scrollOffset),new yr(L,R,y,b,E)}},R?.preloadingStrategy?wc(R.preloadingStrategy).\u0275providers:[],R?.initialNavigation?ma(R):[],R?.bindToComponentInputs?mi(8,[di,{provide:wa,useExisting:di}]).\u0275providers:[],R?.enableViewTransitions?jl().\u0275providers:[],[{provide:Ac,useFactory:yu},{provide:S.iLQ,multi:!0,useExisting:Ac}]]}}static forChild(E){return{ngModule:y,providers:[{provide:Ge,multi:!0,useValue:E}]}}static{this.\u0275fac=function(R){return new(R||y)(S.KVO($l,8))}}static{this.\u0275mod=S.$C({type:y})}static{this.\u0275inj=S.G2t({})}}return y})();function Xu(y){return"guarded"}function ma(y){return["disabled"===y.initialNavigation?mi(3,[{provide:S.hnV,multi:!0,useFactory:()=>{const b=(0,S.WQX)(Bi);return()=>{b.setUpLocationChangeListener()}}},{provide:Ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?mi(2,[{provide:Ma,useValue:0},{provide:S.hnV,multi:!0,deps:[S.zZn],useFactory:b=>{const E=b.get(pe.hj,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const L=b.get(Bi),Q=b.get(_u);Ui(L,()=>{R(!0)}),b.get(an).afterPreactivation=()=>(R(!0),Q.closed?(0,V.of)(void 0):Q),L.initialNavigation()}))}}]).\u0275providers:[]]}const Ac=new S.nKC("")},7852:(tn,ut,X)=>{X.d(ut,{MF:()=>$r,j6:()=>xr,xZ:()=>Rn,om:()=>Lr,Sx:()=>tt,Dk:()=>Xe,Wp:()=>Jr,KO:()=>at});var S=X(467),P=X(1362),Ee=X(8041),he=X(1076);const F=(rt,je)=>je.some(gt=>rt instanceof gt);let V,K;const Y=new WeakMap,ee=new WeakMap,Se=new WeakMap,Be=new WeakMap,Ke=new WeakMap;let Wt={get(rt,je,gt){if(rt instanceof IDBTransaction){if("done"===je)return ee.get(rt);if("objectStoreNames"===je)return rt.objectStoreNames||Se.get(rt);if("store"===je)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return He(rt[je])},set:(rt,je,gt)=>(rt[je]=gt,!0),has:(rt,je)=>rt instanceof IDBTransaction&&("done"===je||"store"===je)||je in rt};function gn(rt){return"function"==typeof rt?function Nn(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...je){return rt.apply(dt(this),je),He(Y.get(this))}:function(...je){return He(rt.apply(dt(this),je))}:function(je,...gt){const $t=rt.call(dt(this),je,...gt);return Se.set($t,je.sort?je.sort():[je]),He($t)}}(rt):(rt instanceof IDBTransaction&&function Lt(rt){if(ee.has(rt))return;const je=new Promise((gt,$t)=>{const Sn=()=>{rt.removeEventListener("complete",un),rt.removeEventListener("error",kn),rt.removeEventListener("abort",kn)},un=()=>{gt(),Sn()},kn=()=>{$t(rt.error||new DOMException("AbortError","AbortError")),Sn()};rt.addEventListener("complete",un),rt.addEventListener("error",kn),rt.addEventListener("abort",kn)});ee.set(rt,je)}(rt),F(rt,function te(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,Wt):rt)}function He(rt){if(rt instanceof IDBRequest)return function Dt(rt){const je=new Promise((gt,$t)=>{const Sn=()=>{rt.removeEventListener("success",un),rt.removeEventListener("error",kn)},un=()=>{gt(He(rt.result)),Sn()},kn=()=>{$t(rt.error),Sn()};rt.addEventListener("success",un),rt.addEventListener("error",kn)});return je.then(gt=>{gt instanceof IDBCursor&&Y.set(gt,rt)}).catch(()=>{}),Ke.set(je,rt),je}(rt);if(Be.has(rt))return Be.get(rt);const je=gn(rt);return je!==rt&&(Be.set(rt,je),Ke.set(je,rt)),je}const dt=rt=>Ke.get(rt),Tt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Ae=new Map;function Qe(rt,je){if(!(rt instanceof IDBDatabase)||je in rt||"string"!=typeof je)return;if(Ae.get(je))return Ae.get(je);const gt=je.replace(/FromIndex$/,""),$t=je!==gt,Sn=Ft.includes(gt);if(!(gt in($t?IDBIndex:IDBObjectStore).prototype)||!Sn&&!Tt.includes(gt))return;const un=function(){var kn=(0,S.A)(function*(tr,...Sr){const li=this.transaction(tr,Sn?"readwrite":"readonly");let J=li.store;return $t&&(J=J.index(Sr.shift())),(yield Promise.all([J[gt](...Sr),Sn&&li.done]))[0]});return function(Sr){return kn.apply(this,arguments)}}();return Ae.set(je,un),un}!function zt(rt){Wt=rt(Wt)}(rt=>({...rt,get:(je,gt,$t)=>Qe(je,gt)||rt.get(je,gt,$t),has:(je,gt)=>!!Qe(je,gt)||rt.has(je,gt)}));class bt{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function In(rt){const je=rt.getComponent();return"VERSION"===je?.type}(gt)){const $t=gt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(gt=>gt).join(" ")}}const Wn="@firebase/app",ct="0.10.11",Mt=new Ee.Vy("@firebase/app"),Xt="@firebase/app-compat",Yt="@firebase/analytics-compat",pe="@firebase/analytics",me="@firebase/app-check-compat",et="@firebase/app-check",be="@firebase/auth",ce="@firebase/auth-compat",ge="@firebase/database",Ut="@firebase/database-compat",Gn="@firebase/functions",Dr="@firebase/functions-compat",nn="@firebase/installations",Un="@firebase/installations-compat",Kn="@firebase/messaging",Ur="@firebase/messaging-compat",nr="@firebase/performance",Er="@firebase/performance-compat",Gr="@firebase/remote-config",ar="@firebase/remote-config-compat",ui="@firebase/storage",on="@firebase/storage-compat",pi="@firebase/firestore",ls="@firebase/vertexai-preview",ir="@firebase/firestore-compat",_t="firebase",yn="[DEFAULT]",zn={[Wn]:"fire-core",[Xt]:"fire-core-compat",[pe]:"fire-analytics",[Yt]:"fire-analytics-compat",[et]:"fire-app-check",[me]:"fire-app-check-compat",[be]:"fire-auth",[ce]:"fire-auth-compat",[ge]:"fire-rtdb",[Ut]:"fire-rtdb-compat",[Gn]:"fire-fn",[Dr]:"fire-fn-compat",[nn]:"fire-iid",[Un]:"fire-iid-compat",[Kn]:"fire-fcm",[Ur]:"fire-fcm-compat",[nr]:"fire-perf",[Er]:"fire-perf-compat",[Gr]:"fire-rc",[ar]:"fire-rc-compat",[ui]:"fire-gcs",[on]:"fire-gcs-compat",[pi]:"fire-fst",[ir]:"fire-fst-compat",[ls]:"fire-vertex","fire-js":"fire-js",[_t]:"fire-js-all"},yt=new Map,Ot=new Map,lr=new Map;function Zr(rt,je){try{rt.container.addComponent(je)}catch(gt){Mt.debug(`Component ${je.name} failed to register with FirebaseApp ${rt.name}`,gt)}}function Lr(rt){const je=rt.name;if(lr.has(je))return Mt.debug(`There were multiple attempts to register component ${je}.`),!1;lr.set(je,rt);for(const gt of yt.values())Zr(gt,rt);for(const gt of Ot.values())Zr(gt,rt);return!0}function xr(rt,je){const gt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),rt.container.getProvider(je)}function Rn(rt){return void 0!==rt.settings}const Cr=new he.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jr{constructor(je,gt,$t){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new P.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const $r="10.13.2";function Jr(rt,je={}){let gt=rt;"object"!=typeof je&&(je={name:je});const $t=Object.assign({name:yn,automaticDataCollectionEnabled:!1},je),Sn=$t.name;if("string"!=typeof Sn||!Sn)throw Cr.create("bad-app-name",{appName:String(Sn)});if(gt||(gt=(0,he.T9)()),!gt)throw Cr.create("no-options");const un=yt.get(Sn);if(un){if((0,he.bD)(gt,un.options)&&(0,he.bD)($t,un.config))return un;throw Cr.create("duplicate-app",{appName:Sn})}const kn=new P.h1(Sn);for(const Sr of lr.values())kn.addComponent(Sr);const tr=new jr(gt,$t,kn);return yt.set(Sn,tr),tr}function tt(rt=yn){const je=yt.get(rt);if(!je&&rt===yn&&(0,he.T9)())return Jr();if(!je)throw Cr.create("no-app",{appName:rt});return je}function Xe(){return Array.from(yt.values())}function at(rt,je,gt){var $t;let Sn=null!==($t=zn[rt])&&void 0!==$t?$t:rt;gt&&(Sn+=`-${gt}`);const un=Sn.match(/\s|\//),kn=je.match(/\s|\//);if(un||kn){const tr=[`Unable to register library "${Sn}" with version "${je}":`];return un&&tr.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),un&&kn&&tr.push("and"),kn&&tr.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void Mt.warn(tr.join(" "))}Lr(new P.uA(`${Sn}-version`,()=>({library:Sn,version:je}),"VERSION"))}const we="firebase-heartbeat-database",it=1,Ue="firebase-heartbeat-store";let kt=null;function mn(){return kt||(kt=function Te(rt,je,{blocked:gt,upgrade:$t,blocking:Sn,terminated:un}={}){const kn=indexedDB.open(rt,je),tr=He(kn);return $t&&kn.addEventListener("upgradeneeded",Sr=>{$t(He(kn.result),Sr.oldVersion,Sr.newVersion,He(kn.transaction),Sr)}),gt&&kn.addEventListener("blocked",Sr=>gt(Sr.oldVersion,Sr.newVersion,Sr)),tr.then(Sr=>{un&&Sr.addEventListener("close",()=>un()),Sn&&Sr.addEventListener("versionchange",li=>Sn(li.oldVersion,li.newVersion,li))}).catch(()=>{}),tr}(we,it,{upgrade:(rt,je)=>{if(0===je)try{rt.createObjectStore(Ue)}catch(gt){console.warn(gt)}}}).catch(rt=>{throw Cr.create("idb-open",{originalErrorMessage:rt.message})})),kt}function Nr(){return(Nr=(0,S.A)(function*(rt){try{const gt=(yield mn()).transaction(Ue),$t=yield gt.objectStore(Ue).get(Pn(rt));return yield gt.done,$t}catch(je){if(je instanceof he.g)Mt.warn(je.message);else{const gt=Cr.create("idb-get",{originalErrorMessage:je?.message});Mt.warn(gt.message)}}})).apply(this,arguments)}function fr(rt,je){return ci.apply(this,arguments)}function ci(){return(ci=(0,S.A)(function*(rt,je){try{const $t=(yield mn()).transaction(Ue,"readwrite");yield $t.objectStore(Ue).put(je,Pn(rt)),yield $t.done}catch(gt){if(gt instanceof he.g)Mt.warn(gt.message);else{const $t=Cr.create("idb-set",{originalErrorMessage:gt?.message});Mt.warn($t.message)}}})).apply(this,arguments)}function Pn(rt){return`${rt.name}!${rt.options.appId}`}class ei{constructor(je){this.container=je,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new Us(gt),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var je=this;return(0,S.A)(function*(){var gt,$t;try{const un=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=Vs();return null==(null===(gt=je._heartbeatsCache)||void 0===gt?void 0:gt.heartbeats)&&(je._heartbeatsCache=yield je._heartbeatsCachePromise,null==(null===($t=je._heartbeatsCache)||void 0===$t?void 0:$t.heartbeats))||je._heartbeatsCache.lastSentHeartbeatDate===kn||je._heartbeatsCache.heartbeats.some(tr=>tr.date===kn)?void 0:(je._heartbeatsCache.heartbeats.push({date:kn,agent:un}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(tr=>{const Sr=new Date(tr.date).valueOf();return Date.now()-Sr<=2592e6}),je._storage.overwrite(je._heartbeatsCache))}catch(Sn){Mt.warn(Sn)}})()}getHeartbeatsHeader(){var je=this;return(0,S.A)(function*(){var gt;try{if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null==(null===(gt=je._heartbeatsCache)||void 0===gt?void 0:gt.heartbeats)||0===je._heartbeatsCache.heartbeats.length)return"";const $t=Vs(),{heartbeatsToSend:Sn,unsentEntries:un}=function rs(rt,je=1024){const gt=[];let $t=rt.slice();for(const Sn of rt){const un=gt.find(kn=>kn.agent===Sn.agent);if(un){if(un.dates.push(Sn.date),Ds(gt)>je){un.dates.pop();break}}else if(gt.push({agent:Sn.agent,dates:[Sn.date]}),Ds(gt)>je){gt.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:gt,unsentEntries:$t}}(je._heartbeatsCache.heartbeats),kn=(0,he.Uj)(JSON.stringify({version:2,heartbeats:Sn}));return je._heartbeatsCache.lastSentHeartbeatDate=$t,un.length>0?(je._heartbeatsCache.heartbeats=un,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),kn}catch($t){return Mt.warn($t),""}})()}}function Vs(){return(new Date).toISOString().substring(0,10)}class Us{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,he.zW)()&&(0,he.eX)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,S.A)(function*(){if(yield je._canUseIndexedDBPromise){const $t=yield function Jn(rt){return Nr.apply(this,arguments)}(je.app);return $t?.heartbeats?$t:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(je){var gt=this;return(0,S.A)(function*(){var $t;if(yield gt._canUseIndexedDBPromise){const un=yield gt.read();return fr(gt.app,{lastSentHeartbeatDate:null!==($t=je.lastSentHeartbeatDate)&&void 0!==$t?$t:un.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var gt=this;return(0,S.A)(function*(){var $t;if(yield gt._canUseIndexedDBPromise){const un=yield gt.read();return fr(gt.app,{lastSentHeartbeatDate:null!==($t=je.lastSentHeartbeatDate)&&void 0!==$t?$t:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...je.heartbeats]})}})()}}function Ds(rt){return(0,he.Uj)(JSON.stringify({version:2,heartbeats:rt})).length}!function Xo(rt){Lr(new P.uA("platform-logger",je=>new bt(je),"PRIVATE")),Lr(new P.uA("heartbeat",je=>new ei(je),"PRIVATE")),at(Wn,ct,rt),at(Wn,ct,"esm2017"),at("fire-js","")}("")},1362:(tn,ut,X)=>{X.d(ut,{h1:()=>te,uA:()=>Ee});var S=X(467),P=X(1076);class Ee{constructor(Y,ee,Se){this.name=Y,this.instanceFactory=ee,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const he="[DEFAULT]";class F{constructor(Y,ee){this.name=Y,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const ee=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(ee)){const Se=new P.cY;if(this.instancesDeferred.set(ee,Se),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:ee});Be&&Se.resolve(Be)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(Y){var ee;const Se=this.normalizeInstanceIdentifier(Y?.identifier),Be=null!==(ee=Y?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Ke){if(Be)return null;throw Ke}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function K(ae){return"EAGER"===ae.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ee,Se]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(ee);try{const Ke=this.getOrInitializeService({instanceIdentifier:Be});Se.resolve(Ke)}catch{}}}}clearInstance(Y=he){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,S.A)(function*(){const ee=Array.from(Y.instances.values());yield Promise.all([...ee.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ee.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=he){return this.instances.has(Y)}getOptions(Y=he){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:ee={}}=Y,Se=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Se,options:ee});for(const[Ke,Dt]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Ke)&&Dt.resolve(Be);return Be}onInit(Y,ee){var Se;const Be=this.normalizeInstanceIdentifier(ee),Ke=null!==(Se=this.onInitCallbacks.get(Be))&&void 0!==Se?Se:new Set;Ke.add(Y),this.onInitCallbacks.set(Be,Ke);const Dt=this.instances.get(Be);return Dt&&Y(Dt,Be),()=>{Ke.delete(Y)}}invokeOnInitCallbacks(Y,ee){const Se=this.onInitCallbacks.get(ee);if(Se)for(const Be of Se)try{Be(Y,ee)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:ee={}}){let Se=this.instances.get(Y);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=Y,ae===he?void 0:ae),options:ee}),this.instances.set(Y,Se),this.instancesOptions.set(Y,ee),this.invokeOnInitCallbacks(Se,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Se)}catch{}var ae;return Se||null}normalizeInstanceIdentifier(Y=he){return this.component?this.component.multipleInstances?Y:he:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const ee=this.getProvider(Y.name);if(ee.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);ee.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const ee=new F(Y,this);return this.providers.set(Y,ee),ee}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,ut,X)=>{X.d(ut,{$b:()=>P,Vy:()=>K});const S=[];var P=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(P||{});const Ee={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},he=P.INFO,F={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},V=(Y,ee,...Se)=>{if(ee<Y.logLevel)return;const Be=(new Date).toISOString(),Ke=F[ee];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ke](`[${Be}]  ${Y.name}:`,...Se)};class K{constructor(ee){this.name=ee,this._logLevel=he,this._logHandler=V,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in P))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?Ee[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...ee),this._logHandler(this,P.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...ee),this._logHandler(this,P.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,P.INFO,...ee),this._logHandler(this,P.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,P.WARN,...ee),this._logHandler(this,P.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...ee),this._logHandler(this,P.ERROR,...ee)}}},2214:(tn,ut,X)=>{X.d(ut,{Dk:()=>S.Dk,KO:()=>S.KO,Sx:()=>S.Sx,Wp:()=>S.Wp});var S=X(7852);(0,S.KO)("firebase","10.13.2","app")},9579:(tn,ut,X)=>{X.d(ut,{HF:()=>wa,xI:()=>ed,df:()=>zl,CI:()=>br});var S=X(467),P=X(7852),Ee=X(1076),he=X(8041),F=X(1635),V=X(1362);const Dt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new Ee.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zt=new he.Vy("@firebase/auth");function gn(T,...h){zt.logLevel<=he.$b.ERROR&&zt.error(`Auth (${P.MF}): ${T}`,...h)}function He(T,...h){throw Ft(T,...h)}function dt(T,...h){return Ft(T,...h)}function Te(T,h,g){const A=Object.assign(Object.assign({},Dt()),{[h]:g});return new Ee.FA("auth","Firebase",A).create(h,{appName:T.name})}function Ce(T){return Te(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ft(T,...h){if("string"!=typeof T){const g=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=T.name),T._errorFactory.create(g,...A)}return Lt.create(T,...h)}function Ae(T,h,...g){if(!T)throw Ft(h,...g)}function Qe(T){const h="INTERNAL ASSERTION FAILED: "+T;throw gn(h),new Error(h)}function bt(T,h){T||Qe(h)}function In(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function ct(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Yt{constructor(h,g){this.shortDelay=h,this.longDelay=g,bt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ee.jZ)()||(0,Ee.lV)()}get(){return function Mt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wn(){return"http:"===ct()||"https:"===ct()}()||(0,Ee.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pe(T,h){bt(T.emulator,"Emulator should always be set here");const{url:g}=T.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class me{static initialize(h,g,A){this.fetchImpl=h,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new Yt(3e4,6e4);function ce(T,h){return T.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:T.tenantId}):h}function ge(T,h,g,A){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,S.A)(function*(T,h,g,A,W={}){return Gn(T,W,(0,S.A)(function*(){let Z={},xe={};A&&("GET"===h?xe=A:Z={body:JSON.stringify(A)});const st=(0,Ee.Am)(Object.assign({key:T.config.apiKey},xe)).slice(1),At=yield T._getAdditionalHeaders();At["Content-Type"]="application/json",T.languageCode&&(At["X-Firebase-Locale"]=T.languageCode);const rn=Object.assign({method:h,headers:At},Z);return(0,Ee.c1)()||(rn.referrerPolicy="no-referrer"),me.fetch()(Kn(T,T.config.apiHost,g,st),rn)}))})).apply(this,arguments)}function Gn(T,h,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,S.A)(function*(T,h,g){T._canInitEmulator=!1;const A=Object.assign(Object.assign({},et),h);try{const W=new nr(T),Z=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const xe=yield Z.json();if("needConfirmation"in xe)throw Er(T,"account-exists-with-different-credential",xe);if(Z.ok&&!("errorMessage"in xe))return xe;{const st=Z.ok?xe.errorMessage:xe.error.message,[At,rn]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw Er(T,"credential-already-in-use",xe);if("EMAIL_EXISTS"===At)throw Er(T,"email-already-in-use",xe);if("USER_DISABLED"===At)throw Er(T,"user-disabled",xe);const An=A[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw Te(T,An,rn);He(T,An)}}catch(W){if(W instanceof Ee.g)throw W;He(T,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Un(){return(Un=(0,S.A)(function*(T,h,g,A,W={}){const Z=yield ge(T,h,g,A,W);return"mfaPendingCredential"in Z&&He(T,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Kn(T,h,g,A){const W=`${h}${g}?${A}`;return T.config.emulator?pe(T.config,W):`${T.config.apiScheme}://${W}`}class nr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(dt(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Er(T,h,g){const A={appName:T.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const W=dt(T,h,A);return W.customData._tokenResponse=g,W}function bi(){return(bi=(0,S.A)(function*(T,h){return ge(T,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function yt(T,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,S.A)(function*(T,h){return ge(T,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function lr(T){if(T)try{const h=new Date(Number(T));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Lr(){return(Lr=(0,S.A)(function*(T,h=!1){const g=(0,Ee.Ku)(T),A=yield g.getIdToken(h),W=kr(A);Ae(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const Z="object"==typeof W.firebase?W.firebase:void 0,xe=Z?.sign_in_provider;return{claims:W,token:A,authTime:lr(xr(W.auth_time)),issuedAtTime:lr(xr(W.iat)),expirationTime:lr(xr(W.exp)),signInProvider:xe||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function xr(T){return 1e3*Number(T)}function kr(T){const[h,g,A]=T.split(".");if(void 0===h||void 0===g||void 0===A)return gn("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,Ee.u)(g);return W?JSON.parse(W):(gn("Failed to decode base64 JWT payload"),null)}catch(W){return gn("Caught error parsing JWT payload as JSON",W?.toString()),null}}function Ri(T){const h=kr(T);return Ae(h,"internal-error"),Ae(typeof h.exp<"u","internal-error"),Ae(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Rn(T,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,S.A)(function*(T,h,g=!1){if(g)return h;try{return yield h}catch(A){throw A instanceof Ee.g&&function Br({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(A)&&T.auth.currentUser===T&&(yield T.auth.signOut()),A}})).apply(this,arguments)}class Cr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,S.A)(function*(){yield g.iteration()}),A)}iteration(){var h=this;return(0,S.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class jr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(T){return $r.apply(this,arguments)}function $r(){return($r=(0,S.A)(function*(T){var h;const g=T.auth,A=yield T.getIdToken(),W=yield Rn(T,yt(g,{idToken:A}));Ae(W?.users.length,g,"internal-error");const Z=W.users[0];T._notifyReloadListener(Z);const xe=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?Xe(Z.providerUserInfo):[],st=function tt(T,h){return[...T.filter(A=>!h.some(W=>W.providerId===A.providerId)),...h]}(T.providerData,xe),An=!!T.isAnonymous&&!(T.email&&Z.passwordHash||st?.length),cr={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:st,metadata:new jr(Z.createdAt,Z.lastLoginAt),isAnonymous:An};Object.assign(T,cr)})).apply(this,arguments)}function Me(){return(Me=(0,S.A)(function*(T){const h=(0,Ee.Ku)(T);yield Pi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Xe(T){return T.map(h=>{var{providerId:g}=h,A=(0,F.Tt)(h,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Le(){return(Le=(0,S.A)(function*(T,h){const g=yield Gn(T,{},(0,S.A)(function*(){const A=(0,Ee.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:Z}=T.config,xe=Kn(T,W,"/v1/token",`key=${Z}`),st=yield T._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(xe,{method:"POST",headers:st,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function se(){return(se=(0,S.A)(function*(T,h){return ge(T,"POST","/v2/accounts:revokeToken",ce(T,h))})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ae(h.idToken,"internal-error"),Ae(typeof h.idToken<"u","internal-error"),Ae(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Ri(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Ae(0!==h.length,"internal-error");const g=Ri(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var A=this;return(0,S.A)(function*(){return g||!A.accessToken||A.isExpired?(Ae(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var A=this;return(0,S.A)(function*(){const{accessToken:W,refreshToken:Z,expiresIn:xe}=yield function fe(T,h){return Le.apply(this,arguments)}(h,g);A.updateTokensAndExpiration(W,Z,Number(xe))})()}updateTokensAndExpiration(h,g,A){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,g){const{refreshToken:A,accessToken:W,expirationTime:Z}=g,xe=new ue;return A&&(Ae("string"==typeof A,"internal-error",{appName:h}),xe.refreshToken=A),W&&(Ae("string"==typeof W,"internal-error",{appName:h}),xe.accessToken=W),Z&&(Ae("number"==typeof Z,"internal-error",{appName:h}),xe.expirationTime=Z),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function we(T,h){Ae("string"==typeof T||typeof T>"u","internal-error",{appName:h})}class it{constructor(h){var{uid:g,auth:A,stsTokenManager:W}=h,Z=(0,F.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new jr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,S.A)(function*(){const A=yield Rn(g,g.stsTokenManager.getToken(g.auth,h));return Ae(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(h){return function Ti(T){return Lr.apply(this,arguments)}(this,h)}reload(){return function Jr(T){return Me.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ae(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new it(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var A=this;return(0,S.A)(function*(){let W=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),W=!0),g&&(yield Pi(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,S.A)(function*(){if((0,P.xZ)(h.auth.app))return Promise.reject(Ce(h.auth));const g=yield h.getIdToken();return yield Rn(h,function _t(T,h){return bi.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var A,W,Z,xe,st,At,rn,An;const cr=null!==(A=g.displayName)&&void 0!==A?A:void 0,Is=null!==(W=g.email)&&void 0!==W?W:void 0,Du=null!==(Z=g.phoneNumber)&&void 0!==Z?Z:void 0,Ko=null!==(xe=g.photoURL)&&void 0!==xe?xe:void 0,Ts=null!==(st=g.tenantId)&&void 0!==st?st:void 0,td=null!==(At=g._redirectEventId)&&void 0!==At?At:void 0,Mr=null!==(rn=g.createdAt)&&void 0!==rn?rn:void 0,rc=null!==(An=g.lastLoginAt)&&void 0!==An?An:void 0,{uid:ya,emailVerified:ws,isAnonymous:ih,providerData:ic,stsTokenManager:Cu}=g;Ae(ya&&Cu,h,"internal-error");const qo=ue.fromJSON(this.name,Cu);Ae("string"==typeof ya,h,"internal-error"),we(cr,h.name),we(Is,h.name),Ae("boolean"==typeof ws,h,"internal-error"),Ae("boolean"==typeof ih,h,"internal-error"),we(Du,h.name),we(Ko,h.name),we(Ts,h.name),we(td,h.name),we(Mr,h.name),we(rc,h.name);const sh=new it({uid:ya,auth:h,email:Is,emailVerified:ws,displayName:cr,isAnonymous:ih,photoURL:Ko,phoneNumber:Du,tenantId:Ts,stsTokenManager:qo,createdAt:Mr,lastLoginAt:rc});return ic&&Array.isArray(ic)&&(sh.providerData=ic.map(oh=>Object.assign({},oh))),td&&(sh._redirectEventId=td),sh}static _fromIdTokenResponse(h,g,A=!1){return(0,S.A)(function*(){const W=new ue;W.updateFromServerResponse(g);const Z=new it({uid:g.localId,auth:h,stsTokenManager:W,isAnonymous:A});return yield Pi(Z),Z})()}static _fromGetAccountInfoResponse(h,g,A){return(0,S.A)(function*(){const W=g.users[0];Ae(void 0!==W.localId,"internal-error");const Z=void 0!==W.providerUserInfo?Xe(W.providerUserInfo):[],xe=!(W.email&&W.passwordHash||Z?.length),st=new ue;st.updateFromIdToken(A);const At=new it({uid:W.localId,auth:h,stsTokenManager:st,isAnonymous:xe}),rn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Z,metadata:new jr(W.createdAt,W.lastLoginAt),isAnonymous:!(W.email&&W.passwordHash||Z?.length)};return Object.assign(At,rn),At})()}}const Ue=new Map;function kt(T){bt(T instanceof Function,"Expected a class definition");let h=Ue.get(T);return h?(bt(h instanceof T,"Instance stored in cache mismatched with class"),h):(h=new T,Ue.set(T,h),h)}const Jn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.A)(function*(){return!0})()}_set(g,A){var W=this;return(0,S.A)(function*(){W.storage[g]=A})()}_get(g){var A=this;return(0,S.A)(function*(){const W=A.storage[g];return void 0===W?null:W})()}_remove(g){var A=this;return(0,S.A)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return T.type="NONE",T})();function Nr(T,h,g){return`firebase:${T}:${h}:${g}`}class fr{constructor(h,g,A){this.persistence=h,this.auth=g,this.userKey=A;const{config:W,name:Z}=this.auth;this.fullUserKey=Nr(this.userKey,W.apiKey,Z),this.fullPersistenceKey=Nr("persistence",W.apiKey,Z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,S.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?it._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,S.A)(function*(){if(g.persistence===h)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,A="authUser"){return(0,S.A)(function*(){if(!g.length)return new fr(kt(Jn),h,A);const W=(yield Promise.all(g.map(function(){var rn=(0,S.A)(function*(An){if(yield An._isAvailable())return An});return function(An){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let Z=W[0]||kt(Jn);const xe=Nr(A,h.config.apiKey,h.name);let st=null;for(const rn of g)try{const An=yield rn._get(xe);if(An){const cr=it._fromJSON(h,An);rn!==Z&&(st=cr),Z=rn;break}}catch{}const At=W.filter(rn=>rn._shouldAllowMigration);return Z._shouldAllowMigration&&At.length?(Z=At[0],st&&(yield Z._set(xe,st.toJSON())),yield Promise.all(g.map(function(){var rn=(0,S.A)(function*(An){if(An!==Z)try{yield An._remove(xe)}catch{}});return function(An){return rn.apply(this,arguments)}}())),new fr(Z,h,A)):new fr(Z,h,A)})()}}function ci(T){const h=T.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ei(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Pn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(rs(h))return"Blackberry";if(Us(h))return"Webos";if(ii(h))return"Safari";if((h.includes("chrome/")||ji(h))&&!h.includes("edge/"))return"Chrome";if(Vs(h))return"Android";{const A=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Pn(T=(0,Ee.ZQ)()){return/firefox\//i.test(T)}function ii(T=(0,Ee.ZQ)()){const h=T.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ji(T=(0,Ee.ZQ)()){return/crios\//i.test(T)}function ei(T=(0,Ee.ZQ)()){return/iemobile/i.test(T)}function Vs(T=(0,Ee.ZQ)()){return/android/i.test(T)}function rs(T=(0,Ee.ZQ)()){return/blackberry/i.test(T)}function Us(T=(0,Ee.ZQ)()){return/webos/i.test(T)}function Ds(T=(0,Ee.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function gt(T=(0,Ee.ZQ)()){return Ds(T)||Vs(T)||Us(T)||rs(T)||/windows phone/i.test(T)||ei(T)}function $t(T,h=[]){let g;switch(T){case"Browser":g=ci((0,Ee.ZQ)());break;case"Worker":g=`${ci((0,Ee.ZQ)())}-${T}`;break;default:g=T}const A=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.MF}/${A}`}class Sn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const A=Z=>new Promise((xe,st)=>{try{xe(h(Z))}catch(At){st(At)}});A.onAbort=g,this.queue.push(A);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,S.A)(function*(){if(g.auth.currentUser===h)return;const A=[];try{for(const W of g.queue)yield W(h),W.onAbort&&A.push(W.onAbort)}catch(W){A.reverse();for(const Z of A)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function kn(){return(kn=(0,S.A)(function*(T,h={}){return ge(T,"GET","/v2/passwordPolicy",ce(T,h))})).apply(this,arguments)}class Sr{constructor(h){var g,A,W,Z;const xe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=xe.minPasswordLength)&&void 0!==g?g:6,xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=xe.maxPasswordLength),void 0!==xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=xe.containsLowercaseCharacter),void 0!==xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=xe.containsUppercaseCharacter),void 0!==xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=xe.containsNumericCharacter),void 0!==xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=xe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(Z=h.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,A,W,Z,xe,st;const At={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,At),this.validatePasswordCharacterOptions(h,At),At.isValid&&(At.isValid=null===(g=At.meetsMinPasswordLength)||void 0===g||g),At.isValid&&(At.isValid=null===(A=At.meetsMaxPasswordLength)||void 0===A||A),At.isValid&&(At.isValid=null===(W=At.containsLowercaseLetter)||void 0===W||W),At.isValid&&(At.isValid=null===(Z=At.containsUppercaseLetter)||void 0===Z||Z),At.isValid&&(At.isValid=null===(xe=At.containsNumericCharacter)||void 0===xe||xe),At.isValid&&(At.isValid=null===(st=At.containsNonAlphanumericCharacter)||void 0===st||st),At}validatePasswordLengthOptions(h,g){const A=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;A&&(g.meetsMinPasswordLength=h.length>=A),W&&(g.meetsMaxPasswordLength=h.length<=W)}validatePasswordCharacterOptions(h,g){let A;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let W=0;W<h.length;W++)A=h.charAt(W),this.updatePasswordCharacterOptionsStatuses(g,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,g,A,W,Z){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Z))}}class li{constructor(h,g,A,W){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=A,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,g){var A=this;return g&&(this._popupRedirectResolver=kt(g)),this._initializationPromise=this.queue((0,S.A)(function*(){var W,Z;if(!A._deleted&&(A.persistenceManager=yield fr.create(A,h),!A._deleted)){if(null!==(W=A._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(Z=A.currentUser)||void 0===Z?void 0:Z.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,S.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,S.A)(function*(){try{const A=yield yt(g,{idToken:h}),W=yield it._fromGetAccountInfoResponse(g,A,h);yield g.directlySetCurrentUser(W)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,S.A)(function*(){var A;if((0,P.xZ)(g.app)){const st=g.app.settings.authIdToken;return st?new Promise(At=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(st).then(At,At))}):g.directlySetCurrentUser(null)}const W=yield g.assertedPersistence.getCurrentUser();let Z=W,xe=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const st=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,At=Z?._redirectEventId,rn=yield g.tryRedirectSignIn(h);(!st||st===At)&&rn?.user&&(Z=rn.user,xe=!0)}if(!Z)return g.directlySetCurrentUser(null);if(!Z._redirectEventId){if(xe)try{yield g.beforeStateQueue.runMiddleware(Z)}catch(st){Z=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(st))}return Z?g.reloadAndSetCurrentUserOrClear(Z):g.directlySetCurrentUser(null)}return Ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Z._redirectEventId?g.directlySetCurrentUser(Z):g.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var g=this;return(0,S.A)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,S.A)(function*(){try{yield Pi(h)}catch(A){if("auth/network-request-failed"!==A?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Xt(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var h=this;return(0,S.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,S.A)(function*(){if((0,P.xZ)(g.app))return Promise.reject(Ce(g));const A=h?(0,Ee.Ku)(h):null;return A&&Ae(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(h,g=!1){var A=this;return(0,S.A)(function*(){if(!A._deleted)return h&&Ae(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),g||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,S.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,S.A)(function*(){return(0,P.xZ)(h.app)?Promise.reject(Ce(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,P.xZ)(this.app)?Promise.reject(Ce(this)):this.queue((0,S.A)(function*(){yield g.assertedPersistence.setPersistence(kt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,S.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const A=g._getPasswordPolicyInternal();return A.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,S.A)(function*(){const g=yield function un(T){return kn.apply(this,arguments)}(h),A=new Sr(g);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ee.FA("auth","Firebase",h())}onAuthStateChanged(h,g,A){return this.registerStateListener(this.authStateSubscription,h,g,A)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,A){return this.registerStateListener(this.idTokenSubscription,h,g,A)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,S.A)(function*(){if(g.currentUser){const A=yield g.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=g.tenantId&&(W.tenantId=g.tenantId),yield function at(T,h){return se.apply(this,arguments)}(g,W)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var A=this;return(0,S.A)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(g);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,S.A)(function*(){if(!g.redirectPersistenceManager){const A=h&&kt(h)||g._popupRedirectResolver;Ae(A,g,"argument-error"),g.redirectPersistenceManager=yield fr.create(g,[kt(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,S.A)(function*(){var A,W;return g._isInitialized&&(yield g.queue((0,S.A)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===h?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,S.A)(function*(){if(h===g.currentUser)return g.queue((0,S.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,A,W){if(this._deleted)return()=>{};const Z="function"==typeof g?g:g.next.bind(g);let xe=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(st,this,"internal-error"),st.then(()=>{xe||Z(this.currentUser)}),"function"==typeof g){const At=h.addObserver(g,A,W);return()=>{xe=!0,At()}}{const At=h.addObserver(g);return()=>{xe=!0,At()}}}directlySetCurrentUser(h){var g=this;return(0,S.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,S.A)(function*(){var g;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(A["X-Firebase-Client"]=W);const Z=yield h._getAppCheckToken();return Z&&(A["X-Firebase-AppCheck"]=Z),A})()}_getAppCheckToken(){var h=this;return(0,S.A)(function*(){var g;const A=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return A?.error&&function Nn(T,...h){zt.logLevel<=he.$b.WARN&&zt.warn(`Auth (${P.MF}): ${T}`,...h)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function J(T){return(0,Ee.Ku)(T)}class _e{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ee.tD)(g=>this.observer=g)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ve={loadJS:()=>(0,S.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fn(T){return`__${T}${Math.floor(1e6*Math.random())}`}function Kr(T){const h=T.indexOf(":");return h<0?"":T.substr(0,h+1)}function Li(T){if(!T)return null;const h=Number(T);return isNaN(h)?null:h}class Or{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Qe("not implemented")}_getIdTokenResponse(h){return Qe("not implemented")}_linkToIdToken(h,g){return Qe("not implemented")}_getReauthenticationResolver(h){return Qe("not implemented")}}function Xi(T,h){return js.apply(this,arguments)}function js(){return(js=(0,S.A)(function*(T,h){return function nn(T,h,g,A){return Un.apply(this,arguments)}(T,"POST","/v1/accounts:signInWithIdp",ce(T,h))})).apply(this,arguments)}class $s extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new $s(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):He("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:W}=g,Z=(0,F.Tt)(g,["providerId","signInMethod"]);if(!A||!W)return null;const xe=new $s(A,W);return xe.idToken=Z.idToken||void 0,xe.accessToken=Z.accessToken||void 0,xe.secret=Z.secret,xe.nonce=Z.nonce,xe.pendingToken=Z.pendingToken||null,xe}_getIdTokenResponse(h){return Xi(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,Xi(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Xi(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,Ee.Am)(g)}return h}}class $n{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class yo extends $n{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let wa=(()=>{class T extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return $s._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:W}=g;if(!A&&!W)return null;try{return T.credential(A,W)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})();class os{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,A,W=!1){return(0,S.A)(function*(){const Z=yield it._fromIdTokenResponse(h,A,W),xe=ea(A);return new os({user:Z,providerId:xe,_tokenResponse:A,operationType:g})})()}static _forOperation(h,g,A){return(0,S.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const W=ea(A);return new os({user:h,providerId:W,_tokenResponse:A,operationType:g})})()}}function ea(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}class Vi extends Ee.g{constructor(h,g,A,W){var Z;super(g.code,g.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,Vi.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,g,A,W){return new Vi(h,g,A,W)}}function ta(T,h,g,A){return("reauthenticate"===h?g._getReauthenticationResolver(T):g._getIdTokenResponse(T)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Vi._fromErrorAndOperation(T,Z,h,A):Z})}function Fn(){return(Fn=(0,S.A)(function*(T,h,g=!1){const A=yield Rn(T,h._linkToIdToken(T.auth,yield T.getIdToken()),g);return os._forOperation(T,"link",A)})).apply(this,arguments)}function bs(){return(bs=(0,S.A)(function*(T,h,g=!1){const{auth:A}=T;if((0,P.xZ)(A.app))return Promise.reject(Ce(A));const W="reauthenticate";try{const Z=yield Rn(T,ta(A,W,h,T),g);Ae(Z.idToken,A,"internal-error");const xe=kr(Z.idToken);Ae(xe,A,"internal-error");const{sub:st}=xe;return Ae(T.uid===st,A,"user-mismatch"),os._forOperation(T,W,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&He(A,"user-mismatch"),Z}})).apply(this,arguments)}function Da(){return(Da=(0,S.A)(function*(T,h,g=!1){if((0,P.xZ)(T.app))return Promise.reject(Ce(T));const A="signIn",W=yield ta(T,A,h),Z=yield os._fromIdTokenResponse(T,A,W);return g||(yield T._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function br(T){return(0,Ee.Ku)(T).signOut()}const eo="__sak";class zi{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(eo,"1"),this.storage.removeItem(eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wu=(()=>{class T extends zi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),Z=this.localCache[A];W!==Z&&g(A,Z,W)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((st,At,rn)=>{this.notifyListeners(st,rn)});const W=g.key;A?this.detachListener():this.stopPolling();const Z=()=>{const st=this.storage.getItem(W);!A&&this.localCache[W]===st||this.notifyListeners(W,st)},xe=this.storage.getItem(W);!function je(){return(0,Ee.lT)()&&10===document.documentMode}()||xe===g.newValue||g.newValue===g.oldValue?Z():setTimeout(Z,10)}notifyListeners(g,A){this.localCache[g]=A;const W=this.listeners[g];if(W)for(const Z of Array.from(W))Z(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var W=()=>super._set,Z=this;return(0,S.A)(function*(){yield W().call(Z,g,A),Z.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,W=this;return(0,S.A)(function*(){const Z=yield A().call(W,g);return W.localCache[g]=JSON.stringify(Z),Z})()}_remove(g){var A=()=>super._remove,W=this;return(0,S.A)(function*(){yield A().call(W,g),delete W.localCache[g]})()}}return T.type="LOCAL",T})(),ms=(()=>{class T extends zi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return T.type="SESSION",T})();let mu=(()=>{class T{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(Z=>Z.isListeningto(g));if(A)return A;const W=new T(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,S.A)(function*(){const W=g,{eventId:Z,eventType:xe,data:st}=W.data,At=A.handlersMap[xe];if(!At?.size)return;W.ports[0].postMessage({status:"ack",eventId:Z,eventType:xe});const rn=Array.from(At).map(function(){var cr=(0,S.A)(function*(Is){return Is(W.origin,st)});return function(Is){return cr.apply(this,arguments)}}()),An=yield function pa(T){return Promise.all(T.map(function(){var h=(0,S.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return h.apply(this,arguments)}}()))}(rn);W.ports[0].postMessage({status:"done",eventId:Z,eventType:xe,response:An})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Ul(T="",h=10){let g="";for(let A=0;A<h;A++)g+=Math.floor(10*Math.random());return T+g}class Ci{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,A=50){var W=this;return(0,S.A)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let xe,st;return new Promise((At,rn)=>{const An=Ul("",20);Z.port1.start();const cr=setTimeout(()=>{rn(new Error("unsupported_event"))},A);st={messageChannel:Z,onMessage(Is){const Du=Is;if(Du.data.eventId===An)switch(Du.data.status){case"ack":clearTimeout(cr),xe=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),At(Du.data.response);break;default:clearTimeout(cr),clearTimeout(xe),rn(new Error("invalid_response"))}}},W.handlers.add(st),Z.port1.addEventListener("message",st.onMessage),W.target.postMessage({eventType:h,eventId:An,data:g},[Z.port2])}).finally(()=>{st&&W.removeMessageHandler(st)})})()}}function Pr(){return window}function to(){return typeof Pr().WorkerGlobalScope<"u"&&"function"==typeof Pr().importScripts}function mi(){return(mi=(0,S.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oa="firebaseLocalStorageDb",yu="firebaseLocalStorage",_u="fbase_key";class Ma{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ku(T,h){return T.transaction([yu],h?"readwrite":"readonly").objectStore(yu)}function qu(){const T=indexedDB.open(oa,1);return new Promise((h,g)=>{T.addEventListener("error",()=>{g(T.error)}),T.addEventListener("upgradeneeded",()=>{const A=T.result;try{A.createObjectStore(yu,{keyPath:_u})}catch(W){g(W)}}),T.addEventListener("success",(0,S.A)(function*(){const A=T.result;A.objectStoreNames.contains(yu)?h(A):(A.close(),yield function ga(){const T=indexedDB.deleteDatabase(oa);return new Ma(T).toPromise()}(),h(yield qu()))}))})}function Tc(T,h,g){return wc.apply(this,arguments)}function wc(){return(wc=(0,S.A)(function*(T,h,g){const A=Ku(T,!0).put({[_u]:h,value:g});return new Ma(A).toPromise()})).apply(this,arguments)}function tl(){return(tl=(0,S.A)(function*(T,h){const g=Ku(T,!1).get(h),A=yield new Ma(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Bl(T,h){const g=Ku(T,!0).delete(h);return new Ma(g).toPromise()}const $l=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,S.A)(function*(){return g.db||(g.db=yield qu()),g.db})()}_withRetries(g){var A=this;return(0,S.A)(function*(){let W=0;for(;;)try{const Z=yield A._openDb();return yield g(Z)}catch(Z){if(W++>3)throw Z;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,S.A)(function*(){return to()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,S.A)(function*(){g.receiver=mu._getInstance(function Ic(){return to()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,S.A)(function*(W,Z){return{keyProcessed:(yield g._poll()).includes(Z.key)}});return function(W,Z){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,S.A)(function*(W,Z){return["keyChanged"]});return function(W,Z){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,S.A)(function*(){var A,W;if(g.activeServiceWorker=yield function Za(){return mi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ci(g.activeServiceWorker);const Z=yield g.sender._send("ping",{},800);Z&&null!==(A=Z[0])&&void 0!==A&&A.fulfilled&&null!==(W=Z[0])&&void 0!==W&&W.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,S.A)(function*(){if(A.sender&&A.activeServiceWorker&&function Gu(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.A)(function*(){try{if(!indexedDB)return!1;const g=yield qu();return yield Tc(g,eo,"1"),yield Bl(g,eo),!0}catch{}return!1})()}_withPendingWrite(g){var A=this;return(0,S.A)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var W=this;return(0,S.A)(function*(){return W._withPendingWrite((0,S.A)(function*(){return yield W._withRetries(Z=>Tc(Z,g,A)),W.localCache[g]=A,W.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,S.A)(function*(){const W=yield A._withRetries(Z=>function Qu(T,h){return tl.apply(this,arguments)}(Z,g));return A.localCache[g]=W,W})()}_remove(g){var A=this;return(0,S.A)(function*(){return A._withPendingWrite((0,S.A)(function*(){return yield A._withRetries(W=>Bl(W,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,S.A)(function*(){const A=yield g._withRetries(xe=>{const st=Ku(xe,!1).getAll();return new Ma(st).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const W=[],Z=new Set;if(0!==A.length)for(const{fbase_key:xe,value:st}of A)Z.add(xe),JSON.stringify(g.localCache[xe])!==JSON.stringify(st)&&(g.notifyListeners(xe,st),W.push(xe));for(const xe of Object.keys(g.localCache))g.localCache[xe]&&!Z.has(xe)&&(g.notifyListeners(xe,null),W.push(xe));return W})()}notifyListeners(g,A){this.localCache[g]=A;const W=this.listeners[g];if(W)for(const Z of Array.from(W))Z(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,S.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function _s(T,h){return h?kt(h):(Ae(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}fn("rcb"),new Yt(3e4,6e4);class ro extends Or{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Xi(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Xi(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Xi(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ho(T){return function ia(T,h){return Da.apply(this,arguments)}(T.auth,new ro(T),T.bypassAuthState)}function Oa(T){const{auth:h,user:g}=T;return Ae(g,h,"internal-error"),function hu(T,h){return bs.apply(this,arguments)}(g,new ro(T),T.bypassAuthState)}function To(T){return xa.apply(this,arguments)}function xa(){return(xa=(0,S.A)(function*(T){const{auth:h,user:g}=T;return Ae(g,h,"internal-error"),function ra(T,h){return Fn.apply(this,arguments)}(g,new ro(T),T.bypassAuthState)})).apply(this,arguments)}class Qd{constructor(h,g,A,W,Z=!1){this.auth=h,this.resolver=A,this.user=W,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,S.A)(function*(A,W){h.pendingPromise={resolve:A,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(A,W){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,S.A)(function*(){const{urlResponse:A,sessionId:W,postBody:Z,tenantId:xe,error:st,type:At}=h;if(st)return void g.reject(st);const rn={auth:g.auth,requestUri:A,sessionId:W,tenantId:xe||void 0,postBody:Z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(At)(rn))}catch(An){g.reject(An)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ho;case"linkViaPopup":case"linkViaRedirect":return To;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:He(this.auth,"internal-error")}}resolve(h){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hl=new Yt(2e3,1e4);function zl(T,h,g){return il.apply(this,arguments)}function il(){return(il=(0,S.A)(function*(T,h,g){if((0,P.xZ)(T.app))return Promise.reject(dt(T,"operation-not-supported-in-this-environment"));const A=J(T);!function Tt(T,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&He(T,"argument-error"),Te(T,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(T,h,$n);const W=_s(A,g);return new Dc(A,"signInViaPopup",h,W).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class T extends Qd{constructor(g,A,W,Z,xe){super(g,A,Z,xe),this.provider=W,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var g=this;return(0,S.A)(function*(){const A=yield g.execute();return Ae(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,S.A)(function*(){bt(1===g.filter.length,"Popup operations only handle one event");const A=Ul();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(W=>{g.reject(W)}),g.resolver._isIframeWebStorageSupported(g.auth,W=>{W||g.reject(dt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,W;this.pollId=null!==(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(dt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Hl.get())};g()}}return T.currentPopupAction=null,T})();const Gl="pendingRedirect",sl=new Map;class Kl extends Qd{constructor(h,g,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,S.A)(function*(){let A=sl.get(g.auth._key());if(!A){try{const Z=(yield function nu(T,h){return Xd.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;A=()=>Promise.resolve(Z)}catch(W){A=()=>Promise.reject(W)}sl.set(g.auth._key(),A)}return g.bypassAuthState||sl.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,A=this;return(0,S.A)(function*(){if("signInViaRedirect"===h.type)return g().call(A,h);if("unknown"!==h.type){if(h.eventId){const W=yield A.auth._redirectUserForId(h.eventId);if(W)return A.user=W,g().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,S.A)(function*(){})()}cleanUp(){}}function Xd(){return(Xd=(0,S.A)(function*(T,h){const g=function ol(T){return Nr(Gl,T.config.apiKey,T.name)}(h),A=function Ql(T){return kt(T._redirectPersistence)}(T);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(g));return yield A._remove(g),W})).apply(this,arguments)}function Sc(T,h){sl.set(T._key(),h)}function Zd(T,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,S.A)(function*(T,h,g=!1){if((0,P.xZ)(T.app))return Promise.reject(Ce(T));const A=J(T),W=_s(A,h),xe=yield new Kl(A,W,g).execute();return xe&&!g&&(delete xe.user._redirectEventId,yield A._persistUserIfCurrent(xe.user),yield A._setRedirectUser(null,h)),xe})).apply(this,arguments)}class Vt{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(g=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function wo(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gi(T);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var A;if(h.error&&!Gi(h)){const W=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(dt(this.auth,W))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const A=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cn(h))}saveEventToCache(h){this.cachedEventUids.add(Cn(h)),this.lastProcessedEventTime=Date.now()}}function Cn(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(h=>h).join("-")}function Gi({type:T,error:h}){return"unknown"===T&&"auth/no-auth-event"===h?.code}function Rs(){return(Rs=(0,S.A)(function*(T,h={}){return ge(T,"GET","/v1/projects",h)})).apply(this,arguments)}const Ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hi=/^https?/;function Es(){return Es=(0,S.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:h}=yield function vs(T){return Rs.apply(this,arguments)}(T);for(const g of h)try{if(Ln(g))return}catch{}He(T,"unauthorized-domain")}),Es.apply(this,arguments)}function Ln(T){const h=In(),{protocol:g,hostname:A}=new URL(h);if(T.startsWith("chrome-extension://")){const xe=new URL(T);return""===xe.hostname&&""===A?"chrome-extension:"===g&&T.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&xe.hostname===A}if(!hi.test(g))return!1;if(Ju.test(T))return A===T;const W=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const Pc=new Yt(3e4,6e4);function Xl(){const T=Pr().___jsl;if(T?.H)for(const h of Object.keys(T.H))if(T.H[h].r=T.H[h].r||[],T.H[h].L=T.H[h].L||[],T.H[h].r=[...T.H[h].L],T.CP)for(let g=0;g<T.CP.length;g++)T.CP[g]=null}function Mc(T){return new Promise((h,g)=>{var A,W,Z;function xe(){Xl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Xl(),g(dt(T,"network-request-failed"))},timeout:Pc.get()})}if(null!==(W=null===(A=Pr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=Pr().gapi)||void 0===Z||!Z.load){const st=fn("iframefcb");return Pr()[st]=()=>{gapi.load?xe():g(dt(T,"network-request-failed"))},function wt(T){return ve.loadJS(T)}(`${function Dn(){return ve.gapiScript}()}?onload=${st}`).catch(At=>g(At))}xe()}}).catch(h=>{throw ri=null,h})}let ri=null;const Nc=new Yt(5e3,15e3),su="__/auth/iframe",Tu="emulator/auth/iframe",us={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yl(T){const h=T.config;Ae(h.authDomain,T,"auth-domain-config-required");const g=h.emulator?pe(h,Tu):`https://${T.config.authDomain}/${su}`,A={apiKey:h.apiKey,appName:T.name,v:P.MF},W=wu.get(T.config.apiHost);W&&(A.eid=W);const Z=T._getFrameworks();return Z.length&&(A.fw=Z.join(",")),`${g}?${(0,Ee.Am)(A).slice(1)}`}function hn(){return hn=(0,S.A)(function*(T){const h=yield function ec(T){return ri=ri||Mc(T),ri}(T),g=Pr().gapi;return Ae(g,T,"internal-error"),h.open({where:document.body,url:Yl(T),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:us,dontclear:!0},A=>new Promise(function(){var W=(0,S.A)(function*(Z,xe){yield A.restyle({setHideOnLeave:!1});const st=dt(T,"network-request-failed"),At=Pr().setTimeout(()=>{xe(st)},Nc.get());function rn(){Pr().clearTimeout(At),Z(A)}A.ping(rn).then(rn,()=>{xe(st)})});return function(Z,xe){return W.apply(this,arguments)}}()))}),hn.apply(this,arguments)}const ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xi{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const es="__/auth/handler",kc="emulator/auth/handler",ou=encodeURIComponent("fac");function nc(T,h,g,A,W,Z){return Go.apply(this,arguments)}function Go(){return(Go=(0,S.A)(function*(T,h,g,A,W,Z){Ae(T.config.authDomain,T,"auth-domain-config-required"),Ae(T.config.apiKey,T,"invalid-api-key");const xe={apiKey:T.config.apiKey,appName:T.name,authType:g,redirectUrl:A,v:P.MF,eventId:W};if(h instanceof $n){h.setDefaultLanguage(T.languageCode),xe.providerId=h.providerId||"",(0,Ee.Im)(h.getCustomParameters())||(xe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[An,cr]of Object.entries(Z||{}))xe[An]=cr}if(h instanceof yo){const An=h.getScopes().filter(cr=>""!==cr);An.length>0&&(xe.scopes=An.join(","))}T.tenantId&&(xe.tid=T.tenantId);const st=xe;for(const An of Object.keys(st))void 0===st[An]&&delete st[An];const At=yield T._getAppCheckToken(),rn=At?`#${ou}=${encodeURIComponent(At)}`:"";return`${function Lc({config:T}){return T.emulator?pe(T,kc):`https://${T.authDomain}/${es}`}(T)}?${(0,Ee.Am)(st).slice(1)}${rn}`})).apply(this,arguments)}const Zl="webStorageSupport",Jl=class mf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=Zd,this._overrideRedirectResult=Sc}_openPopup(h,g,A,W){var Z=this;return(0,S.A)(function*(){var xe;bt(null===(xe=Z.eventManagers[h._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const st=yield nc(h,g,A,In(),W);return function xc(T,h,g,A=500,W=600){const Z=Math.max((window.screen.availHeight-W)/2,0).toString(),xe=Math.max((window.screen.availWidth-A)/2,0).toString();let st="";const At=Object.assign(Object.assign({},ul),{width:A.toString(),height:W.toString(),top:Z,left:xe}),rn=(0,Ee.ZQ)().toLowerCase();g&&(st=ji(rn)?"_blank":g),Pn(rn)&&(h=h||"http://localhost",At.scrollbars="yes");const An=Object.entries(At).reduce((Is,[Du,Ko])=>`${Is}${Du}=${Ko},`,"");if(function rt(T=(0,Ee.ZQ)()){var h;return Ds(T)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(rn)&&"_self"!==st)return function qi(T,h){const g=document.createElement("a");g.href=T,g.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(h||"",st),new xi(null);const cr=window.open(h||"",st,An);Ae(cr,T,"popup-blocked");try{cr.focus()}catch{}return new xi(cr)}(h,st,Ul())})()}_openRedirect(h,g,A,W){var Z=this;return(0,S.A)(function*(){return yield Z._originValidation(h),function yr(T){Pr().location.href=T}(yield nc(h,g,A,In(),W)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:W,promise:Z}=this.eventManagers[g];return W?Promise.resolve(W):(bt(Z,"If manager is not set, promise should be"),Z)}const A=this.initAndGetManager(h);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(h){var g=this;return(0,S.A)(function*(){const A=yield function aa(T){return hn.apply(this,arguments)}(h),W=new Vt(h);return A.register("authEvent",Z=>(Ae(Z?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:W},g.iframes[h._key()]=A,W})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Zl,{type:Zl},W=>{var Z;const xe=null===(Z=W?.[0])||void 0===Z?void 0:Z[Zl];void 0!==xe&&g(!!xe),He(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ki(T){return Es.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return gt()||ii()||Ds()}};var Fc="@firebase/auth";class nh{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,S.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(A=>{h(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ly=(0,Ee.XA)("authIdTokenMaxAge")||300;let rh=null;const _f=T=>function(){var h=(0,S.A)(function*(g){const A=g&&(yield g.getIdTokenResult()),W=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(W&&W>ly)return;const Z=A?.token;rh!==Z&&(rh=Z,yield fetch(T,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function ed(T=(0,P.Sx)()){const h=(0,P.j6)(T,"auth");if(h.isInitialized())return h.getImmediate();const g=function vr(T,h){const g=(0,P.j6)(T,"auth");if(g.isInitialized()){const W=g.getImmediate(),Z=g.getOptions();if((0,Ee.bD)(Z,h??{}))return W;He(W,"already-initialized")}return g.initialize({options:h})}(T,{popupRedirectResolver:Jl,persistence:[$l,Wu,ms]}),A=(0,Ee.XA)("authTokenSyncURL");if(A&&"boolean"==typeof isSecureContext&&isSecureContext){const Z=new URL(A,location.origin);if(location.origin===Z.origin){const xe=_f(Z.toString());(function gr(T,h,g){(0,Ee.Ku)(T).beforeAuthStateChanged(h,g)})(g,xe,()=>xe(g.currentUser)),function xt(T,h,g,A){(0,Ee.Ku)(T).onIdTokenChanged(h,g,A)}(g,st=>xe(st))}}const W=(0,Ee.Tj)("auth");return W&&function Mi(T,h,g){const A=J(T);Ae(A._canInitEmulator,A,"emulator-config-failed"),Ae(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const W=!!g?.disableWarnings,Z=Kr(h),{host:xe,port:st}=function qr(T){const h=Kr(T),g=/(\/\/)?([^?#/]+)/.exec(T.substr(h.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const Z=W[1];return{host:Z,port:Li(A.substr(Z.length+1))}}{const[Z,xe]=A.split(":");return{host:Z,port:Li(xe)}}}(h);A.config.emulator={url:`${Z}//${xe}${null===st?"":`:${st}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:xe,port:st,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function co(){function T(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(g,`http://${W}`),g}(function ot(T){ve=T})({loadJS:T=>new Promise((h,g)=>{const A=document.createElement("script");A.setAttribute("src",T),A.onload=h,A.onerror=W=>{const Z=dt("internal-error");Z.customData=W,g(Z)},A.type="text/javascript",A.charset="UTF-8",function mg(){var T,h;return null!==(h=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pg(T){(0,P.om)(new V.uA("auth",(h,{options:g})=>{const A=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:xe,authDomain:st}=A.options;Ae(xe&&!xe.includes(":"),"invalid-api-key",{appName:A.name});const At={apiKey:xe,authDomain:st,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(T)},rn=new li(A,W,Z,At);return function sn(T,h){const g=h?.persistence||[],A=(Array.isArray(g)?g:[g]).map(kt);h?.errorMap&&T._updateErrorMap(h.errorMap),T._initializeWithPersistence(A,h?.popupRedirectResolver)}(rn,g),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,A)=>{h.getProvider("auth-internal").initialize()})),(0,P.om)(new V.uA("auth-internal",h=>{const g=J(h.getProvider("auth").getImmediate());return new nh(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.KO)(Fc,"1.7.9",function fg(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,P.KO)(Fc,"1.7.9","esm2017")}("Browser")},5779:(tn,ut,X)=>{X.d(ut,{E:()=>Y,Ei:()=>Wt,Gg:()=>zt,Y9:()=>Dt,Yj:()=>Nn,bg:()=>ee,r1:()=>Ke,si:()=>Se,wi:()=>Lt});var S=X(3953),P=X(1413),Ee=X(4420);const he=["*"];let te=(()=>class He{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Y=(()=>{class He{filter(Te,Ce,Tt,Ft,Ae){let Qe=[];if(Te)for(let bt of Te)for(let In of Ce){let Wn=Ee.BF.resolveFieldData(bt,In);if(this.filters[Ft](Wn,Tt,Ae)){Qe.push(bt);break}}return Qe}filters={startsWith:(Te,Ce,Tt)=>{if(null==Ce||""===Ce.trim())return!0;if(null==Te)return!1;let Ft=Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt);return Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt).slice(0,Ft.length)===Ft},contains:(Te,Ce,Tt)=>{if(null==Ce||"string"==typeof Ce&&""===Ce.trim())return!0;if(null==Te)return!1;let Ft=Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt);return-1!==Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt).indexOf(Ft)},notContains:(Te,Ce,Tt)=>{if(null==Ce||"string"==typeof Ce&&""===Ce.trim())return!0;if(null==Te)return!1;let Ft=Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt);return-1===Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt).indexOf(Ft)},endsWith:(Te,Ce,Tt)=>{if(null==Ce||""===Ce.trim())return!0;if(null==Te)return!1;let Ft=Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt),Ae=Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt);return-1!==Ae.indexOf(Ft,Ae.length-Ft.length)},equals:(Te,Ce,Tt)=>null==Ce||"string"==typeof Ce&&""===Ce.trim()||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()===Ce.getTime():Te==Ce||Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt)==Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt)),notEquals:(Te,Ce,Tt)=>!(null==Ce||"string"==typeof Ce&&""===Ce.trim()||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()===Ce.getTime():Te==Ce||Ee.BF.removeAccents(Te.toString()).toLocaleLowerCase(Tt)==Ee.BF.removeAccents(Ce.toString()).toLocaleLowerCase(Tt))),in:(Te,Ce)=>{if(null==Ce||0===Ce.length)return!0;for(let Tt=0;Tt<Ce.length;Tt++)if(Ee.BF.equals(Te,Ce[Tt]))return!0;return!1},between:(Te,Ce)=>null==Ce||null==Ce[0]||null==Ce[1]||null!=Te&&(Te.getTime?Ce[0].getTime()<=Te.getTime()&&Te.getTime()<=Ce[1].getTime():Ce[0]<=Te&&Te<=Ce[1]),lt:(Te,Ce,Tt)=>null==Ce||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()<Ce.getTime():Te<Ce),lte:(Te,Ce,Tt)=>null==Ce||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()<=Ce.getTime():Te<=Ce),gt:(Te,Ce,Tt)=>null==Ce||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()>Ce.getTime():Te>Ce),gte:(Te,Ce,Tt)=>null==Ce||null!=Te&&(Te.getTime&&Ce.getTime?Te.getTime()>=Ce.getTime():Te>=Ce),is:(Te,Ce,Tt)=>this.filters.equals(Te,Ce,Tt),isNot:(Te,Ce,Tt)=>this.filters.notEquals(Te,Ce,Tt),before:(Te,Ce,Tt)=>this.filters.lt(Te,Ce,Tt),after:(Te,Ce,Tt)=>this.filters.gt(Te,Ce,Tt),dateIs:(Te,Ce)=>null==Ce||null!=Te&&Te.toDateString()===Ce.toDateString(),dateIsNot:(Te,Ce)=>null==Ce||null!=Te&&Te.toDateString()!==Ce.toDateString(),dateBefore:(Te,Ce)=>null==Ce||null!=Te&&Te.getTime()<Ce.getTime(),dateAfter:(Te,Ce)=>{if(null==Ce)return!0;if(null==Te)return!1;const Tt=new Date(Te);return Tt.setHours(0,0,0,0),Tt.getTime()>Ce.getTime()}};register(Te,Ce){this.filters[Te]=Ce}static \u0275fac=function(Ce){return new(Ce||He)};static \u0275prov=S.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),ee=(()=>{class He{messageSource=new P.B;clearSource=new P.B;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(Te){Te&&this.messageSource.next(Te)}addAll(Te){Te&&Te.length&&this.messageSource.next(Te)}clear(Te){this.clearSource.next(Te||null)}static \u0275fac=function(Ce){return new(Ce||He)};static \u0275prov=S.jDH({token:He,factory:He.\u0275fac})}return He})(),Se=(()=>{class He{clickSource=new P.B;clickObservable=this.clickSource.asObservable();add(Te){Te&&this.clickSource.next(Te)}static \u0275fac=function(Ce){return new(Ce||He)};static \u0275prov=S.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Ke=(()=>{class He{ripple=!1;inputStyle=(0,S.vPA)("outlined");overlayOptions={};csp=(0,S.vPA)({nonce:void 0});filterMatchModeOptions={text:[te.STARTS_WITH,te.CONTAINS,te.NOT_CONTAINS,te.ENDS_WITH,te.EQUALS,te.NOT_EQUALS],numeric:[te.EQUALS,te.NOT_EQUALS,te.LESS_THAN,te.LESS_THAN_OR_EQUAL_TO,te.GREATER_THAN,te.GREATER_THAN_OR_EQUAL_TO],date:[te.DATE_IS,te.DATE_IS_NOT,te.DATE_BEFORE,te.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new P.B;translationObserver=this.translationSource.asObservable();getTranslation(Te){return this.translation[Te]}setTranslation(Te){this.translation={...this.translation,...Te},this.translationSource.next(this.translation)}static \u0275fac=function(Ce){return new(Ce||He)};static \u0275prov=S.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Dt=(()=>{class He{static \u0275fac=function(Ce){return new(Ce||He)};static \u0275cmp=S.VBU({type:He,selectors:[["p-header"]],standalone:!0,features:[S.aNF],ngContentSelectors:he,decls:1,vars:0,template:function(Ce,Tt){1&Ce&&(S.NAR(),S.SdG(0))},encapsulation:2})}return He})(),Lt=(()=>{class He{static \u0275fac=function(Ce){return new(Ce||He)};static \u0275cmp=S.VBU({type:He,selectors:[["p-footer"]],standalone:!0,features:[S.aNF],ngContentSelectors:he,decls:1,vars:0,template:function(Ce,Tt){1&Ce&&(S.NAR(),S.SdG(0))},encapsulation:2})}return He})(),Wt=(()=>{class He{template;type;name;constructor(Te){this.template=Te}getType(){return this.name}static \u0275fac=function(Ce){return new(Ce||He)(S.rXU(S.C4Q))};static \u0275dir=S.FsC({type:He,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return He})(),zt=(()=>{class He{static \u0275fac=function(Ce){return new(Ce||He)};static \u0275mod=S.$C({type:He});static \u0275inj=S.G2t({})}return He})(),Nn=(()=>class He{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})()},461:(tn,ut,X)=>{X.d(ut,{h:()=>he});var S=X(3953),P=X(4420);const Ee=["*"];let he=(()=>{class F{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const K=P.BF.isEmpty(this.label);this.role=K?void 0:"img",this.ariaLabel=K?void 0:this.label,this.ariaHidden=K}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(te){return new(te||F)};static \u0275cmp=S.VBU({type:F,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",S.L39],styleClass:"styleClass"},standalone:!0,features:[S.GFd,S.aNF],ngContentSelectors:Ee,decls:1,vars:0,template:function(te,ae){1&te&&(S.NAR(),S.SdG(0))},encapsulation:2,changeDetection:0})}return F})()},1455:(tn,ut,X)=>{X.d(ut,{D:()=>S,b:()=>P});let S=(()=>{class Ee{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(F,V){F&&V&&(F.classList?F.classList.add(V):F.className+=" "+V)}static addMultipleClasses(F,V){if(F&&V)if(F.classList){let K=V.trim().split(" ");for(let te=0;te<K.length;te++)F.classList.add(K[te])}else{let K=V.split(" ");for(let te=0;te<K.length;te++)F.className+=" "+K[te]}}static removeClass(F,V){F&&V&&(F.classList?F.classList.remove(V):F.className=F.className.replace(new RegExp("(^|\\b)"+V.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(F,V){F&&V&&[V].flat().filter(Boolean).forEach(K=>K.split(" ").forEach(te=>this.removeClass(F,te)))}static hasClass(F,V){return!(!F||!V)&&(F.classList?F.classList.contains(V):new RegExp("(^| )"+V+"( |$)","gi").test(F.className))}static siblings(F){return Array.prototype.filter.call(F.parentNode.children,function(V){return V!==F})}static find(F,V){return Array.from(F.querySelectorAll(V))}static findSingle(F,V){return this.isElement(F)?F.querySelector(V):null}static index(F){let V=F.parentNode.childNodes,K=0;for(var te=0;te<V.length;te++){if(V[te]==F)return K;1==V[te].nodeType&&K++}return-1}static indexWithinGroup(F,V){let K=F.parentNode?F.parentNode.childNodes:[],te=0;for(var ae=0;ae<K.length;ae++){if(K[ae]==F)return te;K[ae].attributes&&K[ae].attributes[V]&&1==K[ae].nodeType&&te++}return-1}static appendOverlay(F,V,K="self"){"self"!==K&&F&&V&&this.appendChild(F,V)}static alignOverlay(F,V,K="self",te=!0){F&&V&&(te&&(F.style.minWidth=`${Ee.getOuterWidth(V)}px`),"self"===K?this.relativePosition(F,V):this.absolutePosition(F,V))}static relativePosition(F,V,K=!0){const te=He=>{if(He)return"relative"===getComputedStyle(He).getPropertyValue("position")?He:te(He.parentElement)},ae=F.offsetParent?{width:F.offsetWidth,height:F.offsetHeight}:this.getHiddenElementDimensions(F),Y=V.offsetHeight??V.getBoundingClientRect().height,ee=V.getBoundingClientRect(),Se=this.getWindowScrollTop(),Be=this.getWindowScrollLeft(),Ke=this.getViewport(),Lt=te(F)?.getBoundingClientRect()||{top:-1*Se,left:-1*Be};let Wt,zt;ee.top+Y+ae.height>Ke.height?(Wt=ee.top-Lt.top-ae.height,F.style.transformOrigin="bottom",ee.top+Wt<0&&(Wt=-1*ee.top)):(Wt=Y+ee.top-Lt.top,F.style.transformOrigin="top");const Nn=ee.left+ae.width-Ke.width;zt=ae.width>Ke.width?-1*(ee.left-Lt.left):Nn>0?ee.left-Lt.left-Nn:ee.left-Lt.left,F.style.top=Wt+"px",F.style.left=zt+"px",K&&(F.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(F,V,K=!0){const te=F.offsetParent?{width:F.offsetWidth,height:F.offsetHeight}:this.getHiddenElementDimensions(F),ae=te.height,Y=te.width,ee=V.offsetHeight??V.getBoundingClientRect().height,Se=V.offsetWidth??V.getBoundingClientRect().width,Be=V.getBoundingClientRect(),Ke=this.getWindowScrollTop(),Dt=this.getWindowScrollLeft(),Lt=this.getViewport();let Wt,zt;Be.top+ee+ae>Lt.height?(Wt=Be.top+Ke-ae,F.style.transformOrigin="bottom",Wt<0&&(Wt=Ke)):(Wt=ee+Be.top+Ke,F.style.transformOrigin="top"),zt=Be.left+Y>Lt.width?Math.max(0,Be.left+Dt+Se-Y):Be.left+Dt,F.style.top=Wt+"px",F.style.left=zt+"px",K&&(F.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(F,V=[]){return null===F.parentNode?V:this.getParents(F.parentNode,V.concat([F.parentNode]))}static getScrollableParents(F){let V=[];if(F){let K=this.getParents(F);const te=/(auto|scroll)/,ae=Y=>{let ee=window.getComputedStyle(Y,null);return te.test(ee.getPropertyValue("overflow"))||te.test(ee.getPropertyValue("overflowX"))||te.test(ee.getPropertyValue("overflowY"))};for(let Y of K){let ee=1===Y.nodeType&&Y.dataset.scrollselectors;if(ee){let Se=ee.split(",");for(let Be of Se){let Ke=this.findSingle(Y,Be);Ke&&ae(Ke)&&V.push(Ke)}}9!==Y.nodeType&&ae(Y)&&V.push(Y)}}return V}static getHiddenElementOuterHeight(F){F.style.visibility="hidden",F.style.display="block";let V=F.offsetHeight;return F.style.display="none",F.style.visibility="visible",V}static getHiddenElementOuterWidth(F){F.style.visibility="hidden",F.style.display="block";let V=F.offsetWidth;return F.style.display="none",F.style.visibility="visible",V}static getHiddenElementDimensions(F){let V={};return F.style.visibility="hidden",F.style.display="block",V.width=F.offsetWidth,V.height=F.offsetHeight,F.style.display="none",F.style.visibility="visible",V}static scrollInView(F,V){let K=getComputedStyle(F).getPropertyValue("borderTopWidth"),te=K?parseFloat(K):0,ae=getComputedStyle(F).getPropertyValue("paddingTop"),Y=ae?parseFloat(ae):0,ee=F.getBoundingClientRect(),Be=V.getBoundingClientRect().top+document.body.scrollTop-(ee.top+document.body.scrollTop)-te-Y,Ke=F.scrollTop,Dt=F.clientHeight,Lt=this.getOuterHeight(V);Be<0?F.scrollTop=Ke+Be:Be+Lt>Dt&&(F.scrollTop=Ke+Be-Dt+Lt)}static fadeIn(F,V){F.style.opacity=0;let K=+new Date,te=0,ae=function(){te=+F.style.opacity.replace(",",".")+((new Date).getTime()-K)/V,F.style.opacity=te,K=+new Date,+te<1&&(window.requestAnimationFrame&&requestAnimationFrame(ae)||setTimeout(ae,16))};ae()}static fadeOut(F,V){var K=1,Y=50/V;let ee=setInterval(()=>{(K-=Y)<=0&&(K=0,clearInterval(ee)),F.style.opacity=K},50)}static getWindowScrollTop(){let F=document.documentElement;return(window.pageYOffset||F.scrollTop)-(F.clientTop||0)}static getWindowScrollLeft(){let F=document.documentElement;return(window.pageXOffset||F.scrollLeft)-(F.clientLeft||0)}static matches(F,V){var K=Element.prototype;return(K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.msMatchesSelector||function(ae){return-1!==[].indexOf.call(document.querySelectorAll(ae),this)}).call(F,V)}static getOuterWidth(F,V){let K=F.offsetWidth;if(V){let te=getComputedStyle(F);K+=parseFloat(te.marginLeft)+parseFloat(te.marginRight)}return K}static getHorizontalPadding(F){let V=getComputedStyle(F);return parseFloat(V.paddingLeft)+parseFloat(V.paddingRight)}static getHorizontalMargin(F){let V=getComputedStyle(F);return parseFloat(V.marginLeft)+parseFloat(V.marginRight)}static innerWidth(F){let V=F.offsetWidth,K=getComputedStyle(F);return V+=parseFloat(K.paddingLeft)+parseFloat(K.paddingRight),V}static width(F){let V=F.offsetWidth,K=getComputedStyle(F);return V-=parseFloat(K.paddingLeft)+parseFloat(K.paddingRight),V}static getInnerHeight(F){let V=F.offsetHeight,K=getComputedStyle(F);return V+=parseFloat(K.paddingTop)+parseFloat(K.paddingBottom),V}static getOuterHeight(F,V){let K=F.offsetHeight;if(V){let te=getComputedStyle(F);K+=parseFloat(te.marginTop)+parseFloat(te.marginBottom)}return K}static getHeight(F){let V=F.offsetHeight,K=getComputedStyle(F);return V-=parseFloat(K.paddingTop)+parseFloat(K.paddingBottom)+parseFloat(K.borderTopWidth)+parseFloat(K.borderBottomWidth),V}static getWidth(F){let V=F.offsetWidth,K=getComputedStyle(F);return V-=parseFloat(K.paddingLeft)+parseFloat(K.paddingRight)+parseFloat(K.borderLeftWidth)+parseFloat(K.borderRightWidth),V}static getViewport(){let F=window,V=document,K=V.documentElement,te=V.getElementsByTagName("body")[0];return{width:F.innerWidth||K.clientWidth||te.clientWidth,height:F.innerHeight||K.clientHeight||te.clientHeight}}static getOffset(F){var V=F.getBoundingClientRect();return{top:V.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:V.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(F,V){let K=F.parentNode;if(!K)throw"Can't replace element";return K.replaceChild(V,F)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var F=window.navigator.userAgent;return F.indexOf("MSIE ")>0||(F.indexOf("Trident/")>0?(F.indexOf("rv:"),!0):F.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(F,V){if(this.isElement(V))V.appendChild(F);else{if(!(V&&V.el&&V.el.nativeElement))throw"Cannot append "+V+" to "+F;V.el.nativeElement.appendChild(F)}}static removeChild(F,V){if(this.isElement(V))V.removeChild(F);else{if(!V.el||!V.el.nativeElement)throw"Cannot remove "+F+" from "+V;V.el.nativeElement.removeChild(F)}}static removeElement(F){"remove"in Element.prototype?F.remove():F.parentNode.removeChild(F)}static isElement(F){return"object"==typeof HTMLElement?F instanceof HTMLElement:F&&"object"==typeof F&&null!==F&&1===F.nodeType&&"string"==typeof F.nodeName}static calculateScrollbarWidth(F){if(F){let V=getComputedStyle(F);return F.offsetWidth-F.clientWidth-parseFloat(V.borderLeftWidth)-parseFloat(V.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let V=document.createElement("div");V.className="p-scrollbar-measure",document.body.appendChild(V);let K=V.offsetWidth-V.clientWidth;return document.body.removeChild(V),this.calculatedScrollbarWidth=K,K}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let F=document.createElement("div");F.className="p-scrollbar-measure",document.body.appendChild(F);let V=F.offsetHeight-F.clientHeight;return document.body.removeChild(F),this.calculatedScrollbarWidth=V,V}static invokeElementMethod(F,V,K){F[V].apply(F,K)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let F=this.resolveUserAgent();this.browser={},F.browser&&(this.browser[F.browser]=!0,this.browser.version=F.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let F=navigator.userAgent.toLowerCase(),V=/(chrome)[ \/]([\w.]+)/.exec(F)||/(webkit)[ \/]([\w.]+)/.exec(F)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(F)||/(msie) ([\w.]+)/.exec(F)||F.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(F)||[];return{browser:V[1]||"",version:V[2]||"0"}}static isInteger(F){return Number.isInteger?Number.isInteger(F):"number"==typeof F&&isFinite(F)&&Math.floor(F)===F}static isHidden(F){return!F||null===F.offsetParent}static isVisible(F){return F&&null!=F.offsetParent}static isExist(F){return null!==F&&typeof F<"u"&&F.nodeName&&F.parentNode}static focus(F,V){F&&document.activeElement!==F&&F.focus(V)}static getFocusableSelectorString(F=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${F}`}static getFocusableElements(F,V=""){let K=this.find(F,this.getFocusableSelectorString(V)),te=[];for(let ae of K){const Y=getComputedStyle(ae);this.isVisible(ae)&&"none"!=Y.display&&"hidden"!=Y.visibility&&te.push(ae)}return te}static getFocusableElement(F,V=""){let K=this.findSingle(F,this.getFocusableSelectorString(V));if(K){const te=getComputedStyle(K);if(this.isVisible(K)&&"none"!=te.display&&"hidden"!=te.visibility)return K}return null}static getFirstFocusableElement(F,V=""){const K=this.getFocusableElements(F,V);return K.length>0?K[0]:null}static getLastFocusableElement(F,V){const K=this.getFocusableElements(F,V);return K.length>0?K[K.length-1]:null}static getNextFocusableElement(F,V=!1){const K=Ee.getFocusableElements(F);let te=0;if(K&&K.length>0){const ae=K.indexOf(K[0].ownerDocument.activeElement);V?te=-1==ae||0===ae?K.length-1:ae-1:-1!=ae&&ae!==K.length-1&&(te=ae+1)}return K[te]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(F,V){if(!F)return null;switch(F){case"document":return document;case"window":return window;case"@next":return V?.nextElementSibling;case"@prev":return V?.previousElementSibling;case"@parent":return V?.parentElement;case"@grandparent":return V?.parentElement.parentElement;default:const K=typeof F;if("string"===K)return document.querySelector(F);if("object"===K&&F.hasOwnProperty("nativeElement"))return this.isExist(F.nativeElement)?F.nativeElement:void 0;const ae=(Y=F)&&Y.constructor&&Y.call&&Y.apply?F():F;return ae&&9===ae.nodeType||this.isExist(ae)?ae:null}var Y}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(F,V){if(F){const K=F.getAttribute(V);return isNaN(K)?"true"===K||"false"===K?"true"===K:K:+K}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(F="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,F)}static unblockBodyScroll(F="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,F)}static createElement(F,V={},...K){if(F){const te=document.createElement(F);return this.setAttributes(te,V),te.append(...K),te}}static setAttribute(F,V="",K){this.isElement(F)&&null!=K&&F.setAttribute(V,K)}static setAttributes(F,V={}){if(this.isElement(F)){const K=(te,ae)=>{const Y=F?.$attrs?.[te]?[F?.$attrs?.[te]]:[];return[ae].flat().reduce((ee,Se)=>{if(null!=Se){const Be=typeof Se;if("string"===Be||"number"===Be)ee.push(Se);else if("object"===Be){const Ke=Array.isArray(Se)?K(te,Se):Object.entries(Se).map(([Dt,Lt])=>"style"!==te||!Lt&&0!==Lt?Lt?Dt:void 0:`${Dt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${Lt}`);ee=Ke.length?ee.concat(Ke.filter(Dt=>!!Dt)):ee}}return ee},Y)};Object.entries(V).forEach(([te,ae])=>{if(null!=ae){const Y=te.match(/^on(.+)/);Y?F.addEventListener(Y[1].toLowerCase(),ae):"pBind"===te?this.setAttributes(F,ae):(ae="class"===te?[...new Set(K("class",ae))].join(" ").trim():"style"===te?K("style",ae).join(";").trim():ae,(F.$attrs=F.$attrs||{})&&(F.$attrs[te]=ae),F.setAttribute(te,ae))}})}}static isFocusableElement(F,V=""){return!!this.isElement(F)&&F.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${V}`)}}return Ee})();class P{element;listener;scrollableParents;constructor(he,F=()=>{}){this.element=he,this.listener=F}bindScrollListener(){this.scrollableParents=S.getScrollableParents(this.element);for(let he=0;he<this.scrollableParents.length;he++)this.scrollableParents[he].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let he=0;he<this.scrollableParents.length;he++)this.scrollableParents[he].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3306:(tn,ut,X)=>{X.d(ut,{S:()=>Ee});var S=X(3953),P=X(461);let Ee=(()=>{class he extends P.h{static \u0275fac=(()=>{let V;return function(te){return(V||(V=S.xGo(he)))(te||he)}})();static \u0275cmp=S.VBU({type:he,selectors:[["CheckIcon"]],standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(K,te){1&K&&(S.qSk(),S.j41(0,"svg",0),S.nrm(1,"path",1),S.k0s()),2&K&&(S.HbH(te.getClassNames()),S.BMQ("aria-label",te.ariaLabel)("aria-hidden",te.ariaHidden)("role",te.role))},encapsulation:2})}return he})()},1512:(tn,ut,X)=>{X.d(ut,{A:()=>Ee});var S=X(3953),P=X(461);let Ee=(()=>{class he extends P.h{static \u0275fac=(()=>{let V;return function(te){return(V||(V=S.xGo(he)))(te||he)}})();static \u0275cmp=S.VBU({type:he,selectors:[["TimesIcon"]],standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(K,te){1&K&&(S.qSk(),S.j41(0,"svg",0),S.nrm(1,"path",1),S.k0s()),2&K&&(S.HbH(te.getClassNames()),S.BMQ("aria-label",te.ariaLabel)("aria-hidden",te.ariaHidden)("role",te.role))},encapsulation:2})}return he})()},563:(tn,ut,X)=>{X.d(ut,{Z:()=>V,n:()=>F});var S=X(177),P=X(3953),Ee=X(1455),he=X(5779);let F=(()=>{class K{document;platformId;renderer;el;zone;config;constructor(ae,Y,ee,Se,Be,Ke){this.document=ae,this.platformId=Y,this.renderer=ee,this.el=Se,this.zone=Be,this.config=Ke}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,S.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(ae){let Y=this.getInk();if(!Y||"none"===this.document.defaultView?.getComputedStyle(Y,null).display)return;if(Ee.D.removeClass(Y,"p-ink-active"),!Ee.D.getHeight(Y)&&!Ee.D.getWidth(Y)){let Ke=Math.max(Ee.D.getOuterWidth(this.el.nativeElement),Ee.D.getOuterHeight(this.el.nativeElement));Y.style.height=Ke+"px",Y.style.width=Ke+"px"}let ee=Ee.D.getOffset(this.el.nativeElement),Se=ae.pageX-ee.left+this.document.body.scrollTop-Ee.D.getWidth(Y)/2,Be=ae.pageY-ee.top+this.document.body.scrollLeft-Ee.D.getHeight(Y)/2;this.renderer.setStyle(Y,"top",Be+"px"),this.renderer.setStyle(Y,"left",Se+"px"),Ee.D.addClass(Y,"p-ink-active"),this.timeout=setTimeout(()=>{let Ke=this.getInk();Ke&&Ee.D.removeClass(Ke,"p-ink-active")},401)}getInk(){const ae=this.el.nativeElement.children;for(let Y=0;Y<ae.length;Y++)if("string"==typeof ae[Y].className&&-1!==ae[Y].className.indexOf("p-ink"))return ae[Y];return null}resetInk(){let ae=this.getInk();ae&&Ee.D.removeClass(ae,"p-ink-active")}onAnimationEnd(ae){this.timeout&&clearTimeout(this.timeout),Ee.D.removeClass(ae.currentTarget,"p-ink-active")}create(){let ae=this.renderer.createElement("span");this.renderer.addClass(ae,"p-ink"),this.renderer.appendChild(this.el.nativeElement,ae),this.renderer.setAttribute(ae,"aria-hidden","true"),this.renderer.setAttribute(ae,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(ae,"animationend",this.onAnimationEnd.bind(this)))}remove(){let ae=this.getInk();ae&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ee.D.removeElement(ae))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(Y){return new(Y||K)(P.rXU(S.qQ),P.rXU(P.Agw),P.rXU(P.sFG),P.rXU(P.aKT),P.rXU(P.SKi),P.rXU(he.r1,8))};static \u0275dir=P.FsC({type:K,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return K})(),V=(()=>{class K{static \u0275fac=function(Y){return new(Y||K)};static \u0275mod=P.$C({type:K});static \u0275inj=P.G2t({})}return K})()},4420:(tn,ut,X)=>{X.d(ut,{BF:()=>S,Q$:()=>F,_Y:()=>Ee});class S{static isArray(K,te=!0){return Array.isArray(K)&&(te||0!==K.length)}static isObject(K,te=!0){return"object"==typeof K&&!Array.isArray(K)&&null!=K&&(te||0!==Object.keys(K).length)}static equals(K,te,ae){return ae?this.resolveFieldData(K,ae)===this.resolveFieldData(te,ae):this.equalsByValue(K,te)}static equalsByValue(K,te){if(K===te)return!0;if(K&&te&&"object"==typeof K&&"object"==typeof te){var ee,Se,Be,ae=Array.isArray(K),Y=Array.isArray(te);if(ae&&Y){if((Se=K.length)!=te.length)return!1;for(ee=Se;0!=ee--;)if(!this.equalsByValue(K[ee],te[ee]))return!1;return!0}if(ae!=Y)return!1;var Ke=this.isDate(K),Dt=this.isDate(te);if(Ke!=Dt)return!1;if(Ke&&Dt)return K.getTime()==te.getTime();var Lt=K instanceof RegExp,Wt=te instanceof RegExp;if(Lt!=Wt)return!1;if(Lt&&Wt)return K.toString()==te.toString();var zt=Object.keys(K);if((Se=zt.length)!==Object.keys(te).length)return!1;for(ee=Se;0!=ee--;)if(!Object.prototype.hasOwnProperty.call(te,zt[ee]))return!1;for(ee=Se;0!=ee--;)if(!this.equalsByValue(K[Be=zt[ee]],te[Be]))return!1;return!0}return K!=K&&te!=te}static resolveFieldData(K,te){if(K&&te){if(this.isFunction(te))return te(K);if(-1==te.indexOf("."))return K[te];{let ae=te.split("."),Y=K;for(let ee=0,Se=ae.length;ee<Se;++ee){if(null==Y)return null;Y=Y[ae[ee]]}return Y}}return null}static isFunction(K){return!!(K&&K.constructor&&K.call&&K.apply)}static reorderArray(K,te,ae){K&&te!==ae&&(ae>=K.length&&(ae%=K.length,te%=K.length),K.splice(ae,0,K.splice(te,1)[0]))}static insertIntoOrderedArray(K,te,ae,Y){if(ae.length>0){let ee=!1;for(let Se=0;Se<ae.length;Se++)if(this.findIndexInList(ae[Se],Y)>te){ae.splice(Se,0,K),ee=!0;break}ee||ae.push(K)}else ae.push(K)}static findIndexInList(K,te){let ae=-1;if(te)for(let Y=0;Y<te.length;Y++)if(te[Y]==K){ae=Y;break}return ae}static contains(K,te){if(null!=K&&te&&te.length)for(let ae of te)if(this.equals(K,ae))return!0;return!1}static removeAccents(K){return K&&(K=K.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),K}static isDate(K){return"[object Date]"===Object.prototype.toString.call(K)}static isEmpty(K){return null==K||""===K||Array.isArray(K)&&0===K.length||!this.isDate(K)&&"object"==typeof K&&0===Object.keys(K).length}static isNotEmpty(K){return!this.isEmpty(K)}static compare(K,te,ae,Y=1){let ee=-1;const Se=this.isEmpty(K),Be=this.isEmpty(te);return ee=Se&&Be?0:Se?Y:Be?-Y:"string"==typeof K&&"string"==typeof te?K.localeCompare(te,ae,{numeric:!0}):K<te?-1:K>te?1:0,ee}static sort(K,te,ae=1,Y,ee=1){const Se=S.compare(K,te,Y,ae);let Be=ae;return(S.isEmpty(K)||S.isEmpty(te))&&(Be=1===ee?ae:ee),Be*Se}static merge(K,te){if(null!=K||null!=te)return null!=K&&"object"!=typeof K||null!=te&&"object"!=typeof te?null!=K&&"string"!=typeof K||null!=te&&"string"!=typeof te?te||K:[K||"",te||""].join(" "):{...K||{},...te||{}}}static isPrintableCharacter(K=""){return this.isNotEmpty(K)&&1===K.length&&K.match(/\S| /)}static getItemValue(K,...te){return this.isFunction(K)?K(...te):K}static findLastIndex(K,te){let ae=-1;if(this.isNotEmpty(K))try{ae=K.findLastIndex(te)}catch{ae=K.lastIndexOf([...K].reverse().find(te))}return ae}static findLast(K,te){let ae;if(this.isNotEmpty(K))try{ae=K.findLast(te)}catch{ae=[...K].reverse().find(te)}return ae}static deepEquals(K,te){if(K===te)return!0;if(K&&te&&"object"==typeof K&&"object"==typeof te){var ee,Se,Be,ae=Array.isArray(K),Y=Array.isArray(te);if(ae&&Y){if((Se=K.length)!=te.length)return!1;for(ee=Se;0!=ee--;)if(!this.deepEquals(K[ee],te[ee]))return!1;return!0}if(ae!=Y)return!1;var Ke=K instanceof Date,Dt=te instanceof Date;if(Ke!=Dt)return!1;if(Ke&&Dt)return K.getTime()==te.getTime();var Lt=K instanceof RegExp,Wt=te instanceof RegExp;if(Lt!=Wt)return!1;if(Lt&&Wt)return K.toString()==te.toString();var zt=Object.keys(K);if((Se=zt.length)!==Object.keys(te).length)return!1;for(ee=Se;0!=ee--;)if(!Object.prototype.hasOwnProperty.call(te,zt[ee]))return!1;for(ee=Se;0!=ee--;)if(!this.deepEquals(K[Be=zt[ee]],te[Be]))return!1;return!0}return K!=K&&te!=te}}var P=0;function Ee(V="pn_id_"){return`${V}${++P}`}var F=function he(){let V=[];const Y=ee=>ee&&parseInt(ee.style.zIndex,10)||0;return{get:Y,set:(ee,Se,Be)=>{Se&&(Se.style.zIndex=String(((ee,Se)=>{let Be=V.length>0?V[V.length-1]:{key:ee,value:Se},Ke=Be.value+(Be.key===ee?0:Se)+2;return V.push({key:ee,value:Ke}),Ke})(ee,Be)))},clear:ee=>{ee&&((ee=>{V=V.filter(Se=>Se.value!==ee)})(Y(ee)),ee.style.zIndex="")},getCurrent:()=>V.length>0?V[V.length-1].value:0}}()},467:(tn,ut,X)=>{function S(Ee,he,F,V,K,te,ae){try{var Y=Ee[te](ae),ee=Y.value}catch(Se){return void F(Se)}Y.done?he(ee):Promise.resolve(ee).then(V,K)}function P(Ee){return function(){var he=this,F=arguments;return new Promise(function(V,K){var te=Ee.apply(he,F);function ae(ee){S(te,V,K,ae,Y,"next",ee)}function Y(ee){S(te,V,K,ae,Y,"throw",ee)}ae(void 0)})}}X.d(ut,{A:()=>P})},1635:(tn,ut,X)=>{function he(pe,me){var et={};for(var be in pe)Object.prototype.hasOwnProperty.call(pe,be)&&me.indexOf(be)<0&&(et[be]=pe[be]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(be=Object.getOwnPropertySymbols(pe);ce<be.length;ce++)me.indexOf(be[ce])<0&&Object.prototype.propertyIsEnumerable.call(pe,be[ce])&&(et[be[ce]]=pe[be[ce]])}return et}function Se(pe,me,et,be){return new(et||(et=Promise))(function(ge,Ut){function Gn(Un){try{nn(be.next(Un))}catch(Kn){Ut(Kn)}}function Dr(Un){try{nn(be.throw(Un))}catch(Kn){Ut(Kn)}}function nn(Un){Un.done?ge(Un.value):function ce(ge){return ge instanceof et?ge:new et(function(Ut){Ut(ge)})}(Un.value).then(Gn,Dr)}nn((be=be.apply(pe,me||[])).next())})}function He(pe){return this instanceof He?(this.v=pe,this):new He(pe)}function dt(pe,me,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,be=et.apply(pe,me||[]),ge=[];return ce=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Gn("next"),Gn("throw"),Gn("return",function Ut(nr){return function(Er){return Promise.resolve(Er).then(nr,Kn)}}),ce[Symbol.asyncIterator]=function(){return this},ce;function Gn(nr,Er){be[nr]&&(ce[nr]=function(Gr){return new Promise(function(ar,ui){ge.push([nr,Gr,ar,ui])>1||Dr(nr,Gr)})},Er&&(ce[nr]=Er(ce[nr])))}function Dr(nr,Er){try{!function nn(nr){nr.value instanceof He?Promise.resolve(nr.value.v).then(Un,Kn):Ur(ge[0][2],nr)}(be[nr](Er))}catch(Gr){Ur(ge[0][3],Gr)}}function Un(nr){Dr("next",nr)}function Kn(nr){Dr("throw",nr)}function Ur(nr,Er){nr(Er),ge.shift(),ge.length&&Dr(ge[0][0],ge[0][1])}}function Ce(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,me=pe[Symbol.asyncIterator];return me?me.call(pe):(pe=function Lt(pe){var me="function"==typeof Symbol&&Symbol.iterator,et=me&&pe[me],be=0;if(et)return et.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&be>=pe.length&&(pe=void 0),{value:pe&&pe[be++],done:!pe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),et={},be("next"),be("throw"),be("return"),et[Symbol.asyncIterator]=function(){return this},et);function be(ge){et[ge]=pe[ge]&&function(Ut){return new Promise(function(Gn,Dr){!function ce(ge,Ut,Gn,Dr){Promise.resolve(Dr).then(function(nn){ge({value:nn,done:Gn})},Ut)}(Gn,Dr,(Ut=pe[ge](Ut)).done,Ut.value)})}}}X.d(ut,{AQ:()=>dt,N3:()=>He,Tt:()=>he,sH:()=>Se,xN:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=3517)}]);