"use strict";(self.webpackChunklanguage_study=self.webpackChunklanguage_study||[]).push([[792],{1076:(Dt,Ve,z)=>{z.d(Ve,{$L:()=>dn,$g:()=>_e,A4:()=>q,Am:()=>Ar,As:()=>fn,Cv:()=>zn,FA:()=>gn,Fy:()=>ue,Hk:()=>le,Im:()=>Bi,K3:()=>$,KA:()=>X,Ku:()=>je,OE:()=>yr,T9:()=>De,Tj:()=>rn,Uj:()=>F,XA:()=>$e,ZQ:()=>Ze,bD:()=>ai,c1:()=>Ht,cY:()=>ce,dI:()=>Vi,eX:()=>Ue,g:()=>dt,gR:()=>Er,gz:()=>bi,jZ:()=>ct,kH:()=>gi,kj:()=>Yn,lT:()=>zt,lV:()=>Hn,qc:()=>Gn,sr:()=>Kt,tD:()=>Qn,u:()=>K,vA:()=>A,yU:()=>Pt,yw:()=>pi,zW:()=>Re});const w={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},A=function(J,ee){if(!J)throw le(ee)},le=function(J){return new Error("Firebase Database ("+w.SDK_VERSION+") INTERNAL ASSERT FAILED: "+J)},re=function(J){const ee=[];let he=0;for(let Le=0;Le<J.length;Le++){let Ce=J.charCodeAt(Le);Ce<128?ee[he++]=Ce:Ce<2048?(ee[he++]=Ce>>6|192,ee[he++]=63&Ce|128):55296==(64512&Ce)&&Le+1<J.length&&56320==(64512&J.charCodeAt(Le+1))?(Ce=65536+((1023&Ce)<<10)+(1023&J.charCodeAt(++Le)),ee[he++]=Ce>>18|240,ee[he++]=Ce>>12&63|128,ee[he++]=Ce>>6&63|128,ee[he++]=63&Ce|128):(ee[he++]=Ce>>12|224,ee[he++]=Ce>>6&63|128,ee[he++]=63&Ce|128)}return ee},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,ee){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let Ce=0;Ce<J.length;Ce+=3){const at=J[Ce],xt=Ce+1<J.length,ur=xt?J[Ce+1]:0,gr=Ce+2<J.length,Sn=gr?J[Ce+2]:0;let kr=(15&ur)<<2|Sn>>6,yi=63&Sn;gr||(yi=64,xt||(kr=64)),Le.push(he[at>>2],he[(3&at)<<4|ur>>4],he[kr],he[yi])}return Le.join("")},encodeString(J,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(J):this.encodeByteArray(re(J),ee)},decodeString(J,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(J):function(J){const ee=[];let he=0,Le=0;for(;he<J.length;){const Ce=J[he++];if(Ce<128)ee[Le++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const at=J[he++];ee[Le++]=String.fromCharCode((31&Ce)<<6|63&at)}else if(Ce>239&&Ce<365){const gr=((7&Ce)<<18|(63&J[he++])<<12|(63&J[he++])<<6|63&J[he++])-65536;ee[Le++]=String.fromCharCode(55296+(gr>>10)),ee[Le++]=String.fromCharCode(56320+(1023&gr))}else{const at=J[he++],xt=J[he++];ee[Le++]=String.fromCharCode((15&Ce)<<12|(63&at)<<6|63&xt)}}return ee.join("")}(this.decodeStringToByteArray(J,ee))},decodeStringToByteArray(J,ee){this.init_();const he=ee?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let Ce=0;Ce<J.length;){const at=he[J.charAt(Ce++)],ur=Ce<J.length?he[J.charAt(Ce)]:0;++Ce;const Sn=Ce<J.length?he[J.charAt(Ce)]:64;++Ce;const On=Ce<J.length?he[J.charAt(Ce)]:64;if(++Ce,null==at||null==ur||null==Sn||null==On)throw new V;Le.push(at<<2|ur>>4),64!==Sn&&(Le.push(ur<<4&240|Sn>>2),64!==On&&Le.push(Sn<<6&192|On))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(J){const ee=re(J);return $.encodeByteArray(ee,!0)},F=function(J){return X(J).replace(/\./g,"")},K=function(J){try{return $.decodeString(J,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function q(J){return ge(void 0,J)}function ge(J,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return ee}for(const he in ee)!ee.hasOwnProperty(he)||!Me(he)||(J[he]=ge(J[he],ee[he]));return J}function Me(J){return"__proto__"!==J}const ut=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=J&&K(J[1]);return ee&&JSON.parse(ee)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},rn=J=>{var ee,he;return null===(he=null===(ee=ut())||void 0===ee?void 0:ee.emulatorHosts)||void 0===he?void 0:he[J]},Pt=J=>{const ee=rn(J);if(!ee)return;const he=ee.lastIndexOf(":");if(he<=0||he+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const Le=parseInt(ee.substring(he+1),10);return"["===ee[0]?[ee.substring(1,he-1),Le]:[ee.substring(0,he),Le]},De=()=>{var J;return null===(J=ut())||void 0===J?void 0:J.config},$e=J=>{var ee;return null===(ee=ut())||void 0===ee?void 0:ee[`_${J}`]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,he)=>{this.resolve=ee,this.reject=he})}wrapCallback(ee){return(he,Le)=>{he?this.reject(he):this.resolve(Le),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(he):ee(he,Le))}}}function ue(J,ee){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=ee||"demo-project",Ce=J.iat||0,at=J.sub||J.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},J);return[F(JSON.stringify({alg:"none",type:"JWT"})),F(JSON.stringify(xt)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Ht(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Kt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zt(){const J=Ze();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function _e(){return!0===w.NODE_CLIENT||!0===w.NODE_ADMIN}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((J,ee)=>{try{let he=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(Le);Ce.onsuccess=()=>{Ce.result.close(),he||self.indexedDB.deleteDatabase(Le),J(!0)},Ce.onupgradeneeded=()=>{he=!1},Ce.onerror=()=>{var at;ee((null===(at=Ce.error)||void 0===at?void 0:at.message)||"")}}catch(he){ee(he)}})}class dt extends Error{constructor(ee,he,Le){super(he),this.code=ee,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor(ee,he,Le){this.service=ee,this.serviceName=he,this.errors=Le}create(ee,...he){const Le=he[0]||{},Ce=`${this.service}/${ee}`,at=this.errors[ee],xt=at?function cr(J,ee){return J.replace(St,(he,Le)=>{const Ce=ee[Le];return null!=Ce?String(Ce):`<${Le}?>`})}(at,Le):"Error";return new dt(Ce,`${this.serviceName}: ${xt} (${Ce}).`,Le)}}const St=/\{\$([^}]+)}/g;function dn(J){return JSON.parse(J)}function fn(J){return JSON.stringify(J)}const mr=function(J){let ee={},he={},Le={},Ce="";try{const at=J.split(".");ee=dn(K(at[0])||""),he=dn(K(at[1])||""),Ce=at[2],Le=he.d||{},delete he.d}catch{}return{header:ee,claims:he,data:Le,signature:Ce}},zn=function(J){const he=mr(J).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},Gn=function(J){const ee=mr(J).claims;return"object"==typeof ee&&!0===ee.admin};function Er(J,ee){return Object.prototype.hasOwnProperty.call(J,ee)}function pi(J,ee){if(Object.prototype.hasOwnProperty.call(J,ee))return J[ee]}function Bi(J){for(const ee in J)if(Object.prototype.hasOwnProperty.call(J,ee))return!1;return!0}function gi(J,ee,he){const Le={};for(const Ce in J)Object.prototype.hasOwnProperty.call(J,Ce)&&(Le[Ce]=ee.call(he,J[Ce],Ce,J));return Le}function ai(J,ee){if(J===ee)return!0;const he=Object.keys(J),Le=Object.keys(ee);for(const Ce of he){if(!Le.includes(Ce))return!1;const at=J[Ce],xt=ee[Ce];if(kt(at)&&kt(xt)){if(!ai(at,xt))return!1}else if(at!==xt)return!1}for(const Ce of Le)if(!he.includes(Ce))return!1;return!0}function kt(J){return null!==J&&"object"==typeof J}function Ar(J){const ee=[];for(const[he,Le]of Object.entries(J))Array.isArray(Le)?Le.forEach(Ce=>{ee.push(encodeURIComponent(he)+"="+encodeURIComponent(Ce))}):ee.push(encodeURIComponent(he)+"="+encodeURIComponent(Le));return ee.length?"&"+ee.join("&"):""}class bi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,he){he||(he=0);const Le=this.W_;if("string"==typeof ee)for(let On=0;On<16;On++)Le[On]=ee.charCodeAt(he)<<24|ee.charCodeAt(he+1)<<16|ee.charCodeAt(he+2)<<8|ee.charCodeAt(he+3),he+=4;else for(let On=0;On<16;On++)Le[On]=ee[he]<<24|ee[he+1]<<16|ee[he+2]<<8|ee[he+3],he+=4;for(let On=16;On<80;On++){const kr=Le[On-3]^Le[On-8]^Le[On-14]^Le[On-16];Le[On]=4294967295&(kr<<1|kr>>>31)}let Sn,wr,Ce=this.chain_[0],at=this.chain_[1],xt=this.chain_[2],ur=this.chain_[3],gr=this.chain_[4];for(let On=0;On<80;On++){On<40?On<20?(Sn=ur^at&(xt^ur),wr=1518500249):(Sn=at^xt^ur,wr=1859775393):On<60?(Sn=at&xt|ur&(at|xt),wr=2400959708):(Sn=at^xt^ur,wr=3395469782);const kr=(Ce<<5|Ce>>>27)+Sn+gr+wr+Le[On]&4294967295;gr=ur,ur=xt,xt=4294967295&(at<<30|at>>>2),at=Ce,Ce=kr}this.chain_[0]=this.chain_[0]+Ce&4294967295,this.chain_[1]=this.chain_[1]+at&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+ur&4294967295,this.chain_[4]=this.chain_[4]+gr&4294967295}update(ee,he){if(null==ee)return;void 0===he&&(he=ee.length);const Le=he-this.blockSize;let Ce=0;const at=this.buf_;let xt=this.inbuf_;for(;Ce<he;){if(0===xt)for(;Ce<=Le;)this.compress_(ee,Ce),Ce+=this.blockSize;if("string"==typeof ee){for(;Ce<he;)if(at[xt]=ee.charCodeAt(Ce),++xt,++Ce,xt===this.blockSize){this.compress_(at),xt=0;break}}else for(;Ce<he;)if(at[xt]=ee[Ce],++xt,++Ce,xt===this.blockSize){this.compress_(at),xt=0;break}}this.inbuf_=xt,this.total_+=he}digest(){const ee=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ce=this.blockSize-1;Ce>=56;Ce--)this.buf_[Ce]=255&he,he/=256;this.compress_(this.buf_);let Le=0;for(let Ce=0;Ce<5;Ce++)for(let at=24;at>=0;at-=8)ee[Le]=this.chain_[Ce]>>at&255,++Le;return ee}}function Qn(J,ee){const he=new Tr(J,ee);return he.subscribe.bind(he)}class Tr{constructor(ee,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{ee(this)}).catch(Le=>{this.error(Le)})}next(ee){this.forEachObserver(he=>{he.next(ee)})}error(ee){this.forEachObserver(he=>{he.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,he,Le){let Ce;if(void 0===ee&&void 0===he&&void 0===Le)throw new Error("Missing Observer.");Ce=function hr(J,ee){if("object"!=typeof J||null===J)return!1;for(const he of ee)if(he in J&&"function"==typeof J[he])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:he,complete:Le},void 0===Ce.next&&(Ce.next=Ir),void 0===Ce.error&&(Ce.error=Ir),void 0===Ce.complete&&(Ce.complete=Ir);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch{}}),this.observers.push(Ce),at}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,ee)}sendOne(ee,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{he(this.observers[ee])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}function Vi(J,ee){return`${J} failed: ${ee} argument `}const Yn=function(J){const ee=[];let he=0;for(let Le=0;Le<J.length;Le++){let Ce=J.charCodeAt(Le);if(Ce>=55296&&Ce<=56319){const at=Ce-55296;Le++,A(Le<J.length,"Surrogate pair missing trail surrogate."),Ce=65536+(at<<10)+(J.charCodeAt(Le)-56320)}Ce<128?ee[he++]=Ce:Ce<2048?(ee[he++]=Ce>>6|192,ee[he++]=63&Ce|128):Ce<65536?(ee[he++]=Ce>>12|224,ee[he++]=Ce>>6&63|128,ee[he++]=63&Ce|128):(ee[he++]=Ce>>18|240,ee[he++]=Ce>>12&63|128,ee[he++]=Ce>>6&63|128,ee[he++]=63&Ce|128)}return ee},yr=function(J){let ee=0;for(let he=0;he<J.length;he++){const Le=J.charCodeAt(he);Le<128?ee++:Le<2048?ee+=2:Le>=55296&&Le<=56319?(ee+=4,he++):ee+=3}return ee};function je(J){return J&&J._delegate?J._delegate:J}},7535:(Dt,Ve,z)=>{z.d(Ve,{u:()=>$});var w=z(4412),A=z(3953),le=z(8579),re=z(1985);let x=(()=>{class V{db;constructor(F){this.db=F}getData(F){const K=(0,le.KR)(this.db,F);return new re.c(q=>{(0,le.Zy)(K,ge=>{q.next(ge.val())})})}addData(F,K){const q=(0,le.KR)(this.db,F);return(0,le.hZ)(q,K)}updateData(F,K){const q=(0,le.KR)(this.db,F);return(0,le.yo)(q,K)}deleteData(F){const K=(0,le.KR)(this.db,F);return(0,le.TF)(K)}static \u0275fac=function(K){return new(K||V)(A.KVO(le.Wm))};static \u0275prov=A.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),$=(()=>{class V{_firebaseDbService;_user=new w.t(void 0);_credential=new w.t(void 0);dbPath="ls/users";users=[];get user(){return this._user.value}get isLogged(){return null!=this.user}constructor(F){this._firebaseDbService=F,this._firebaseDbService.getData("ls/users").subscribe(K=>{this.users=K?Object.values(K):[],console.log("users: ",this.users)});try{const K=JSON.parse(String(localStorage.getItem("user")));K&&this._user.next(K);const q=JSON.parse(String(localStorage.getItem("credential")));q&&this._credential.next(q)}catch{}}login(F,K){let q=this.users.find(ge=>ge.email==F.email);return q&&q.isActive?(this._user.next(F),this._credential.next(K),localStorage.setItem("user",JSON.stringify(F)),localStorage.setItem("credential",JSON.stringify(K)),{status:!0,message:""}):(q||(this.users.push(F),this._firebaseDbService.addData(this.dbPath,this.users)),{status:!1,message:"B\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n, vui l\xf2ng \u0111\u1ee3i qu\u1ea3n tr\u1ecb vi\xean duy\u1ec7t"})}test(F){this._firebaseDbService.addData(this.dbPath,F)}logout(){this._user.next(void 0),this._credential.next(void 0),localStorage.removeItem("user"),localStorage.removeItem("credential")}static \u0275fac=function(K){return new(K||V)(A.KVO(x))};static \u0275prov=A.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},3214:(Dt,Ve,z)=>{var w=z(345),A=z(3953),le=z(1069),re=z(9969),x=z(177),$=z(5779),V=z(3306),X=z(461),F=z(4420);let K=(()=>{class T extends X.h{pathId;ngOnInit(){this.pathId="url(#"+(0,F._Y)()+")"}static \u0275fac=(()=>{let p;return function(N){return(p||(p=A.xGo(T)))(N||T)}})();static \u0275cmp=A.VBU({type:T,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[A.Vt3,A.aNF],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(D,N){1&D&&(A.qSk(),A.j41(0,"svg",0)(1,"g"),A.nrm(2,"path",1)(3,"path",2)(4,"path",3),A.k0s(),A.j41(5,"defs")(6,"clipPath",4),A.nrm(7,"rect",5),A.k0s()()()),2&D&&(A.HbH(N.getClassNames()),A.BMQ("aria-label",N.ariaLabel)("aria-hidden",N.ariaHidden)("role",N.role),A.R7$(),A.BMQ("clip-path",N.pathId),A.R7$(5),A.Y8G("id",N.pathId))},encapsulation:2})}return T})(),q=(()=>{class T extends X.h{pathId;ngOnInit(){this.pathId="url(#"+(0,F._Y)()+")"}static \u0275fac=(()=>{let p;return function(N){return(p||(p=A.xGo(T)))(N||T)}})();static \u0275cmp=A.VBU({type:T,selectors:[["InfoCircleIcon"]],standalone:!0,features:[A.Vt3,A.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(D,N){1&D&&(A.qSk(),A.j41(0,"svg",0)(1,"g"),A.nrm(2,"path",1),A.k0s(),A.j41(3,"defs")(4,"clipPath",2),A.nrm(5,"rect",3),A.k0s()()()),2&D&&(A.HbH(N.getClassNames()),A.BMQ("aria-label",N.ariaLabel)("aria-hidden",N.ariaHidden)("role",N.role),A.R7$(),A.BMQ("clip-path",N.pathId),A.R7$(3),A.Y8G("id",N.pathId))},encapsulation:2})}return T})();var ge=z(1512);let Me=(()=>{class T extends X.h{pathId;ngOnInit(){this.pathId="url(#"+(0,F._Y)()+")"}static \u0275fac=(()=>{let p;return function(N){return(p||(p=A.xGo(T)))(N||T)}})();static \u0275cmp=A.VBU({type:T,selectors:[["TimesCircleIcon"]],standalone:!0,features:[A.Vt3,A.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(D,N){1&D&&(A.qSk(),A.j41(0,"svg",0)(1,"g"),A.nrm(2,"path",1),A.k0s(),A.j41(3,"defs")(4,"clipPath",2),A.nrm(5,"rect",3),A.k0s()()()),2&D&&(A.HbH(N.getClassNames()),A.BMQ("aria-label",N.ariaLabel)("aria-hidden",N.ariaHidden)("role",N.role),A.R7$(),A.BMQ("clip-path",N.pathId),A.R7$(3),A.Y8G("id",N.pathId))},encapsulation:2})}return T})();var xe=z(563),rt=z(1455);const _t=["container"],vt=T=>[T,"p-toast-message"],ut=(T,f,p,D)=>({showTransformParams:T,hideTransformParams:f,showTransitionParams:p,hideTransitionParams:D}),rn=T=>({value:"visible",params:T}),Pt=(T,f)=>({$implicit:T,closeFn:f}),De=T=>({$implicit:T});function $e(T,f){1&T&&A.eu8(0)}function ce(T,f){if(1&T&&(A.qex(0),A.DNE(1,$e,1,0,"ng-container",4),A.bVm()),2&T){const p=A.XpG();A.R7$(),A.Y8G("ngTemplateOutlet",p.headlessTemplate)("ngTemplateOutletContext",A.l_i(2,Pt,p.message,p.onCloseIconClick))}}function ue(T,f){if(1&T&&A.nrm(0,"span"),2&T){const p=A.XpG(3);A.HbH("p-toast-message-icon pi "+p.message.icon)}}function Ze(T,f){1&T&&A.nrm(0,"CheckIcon"),2&T&&A.BMQ("aria-hidden",!0)("data-pc-section","icon")}function ct(T,f){1&T&&A.nrm(0,"InfoCircleIcon"),2&T&&A.BMQ("aria-hidden",!0)("data-pc-section","icon")}function de(T,f){1&T&&A.nrm(0,"TimesCircleIcon"),2&T&&A.BMQ("aria-hidden",!0)("data-pc-section","icon")}function be(T,f){1&T&&A.nrm(0,"ExclamationTriangleIcon"),2&T&&A.BMQ("aria-hidden",!0)("data-pc-section","icon")}function lt(T,f){if(1&T&&(A.j41(0,"span",13),A.qex(1),A.DNE(2,Ze,1,2,"CheckIcon",6)(3,ct,1,2,"InfoCircleIcon",6)(4,de,1,2,"TimesCircleIcon",6)(5,be,1,2,"ExclamationTriangleIcon",6),A.bVm(),A.k0s()),2&T){const p=A.XpG(3);A.BMQ("aria-hidden",!0)("data-pc-section","icon"),A.R7$(2),A.Y8G("ngIf","success"===p.message.severity),A.R7$(),A.Y8G("ngIf","info"===p.message.severity),A.R7$(),A.Y8G("ngIf","error"===p.message.severity),A.R7$(),A.Y8G("ngIf","warn"===p.message.severity)}}function Ht(T,f){if(1&T&&(A.qex(0),A.DNE(1,ue,1,2,"span",8)(2,lt,6,6,"span",9),A.j41(3,"div",10)(4,"div",11),A.EFF(5),A.k0s(),A.j41(6,"div",12),A.EFF(7),A.k0s()(),A.bVm()),2&T){const p=A.XpG(2);A.R7$(),A.Y8G("ngIf",p.message.icon),A.R7$(),A.Y8G("ngIf",!p.message.icon),A.R7$(),A.BMQ("data-pc-section","text"),A.R7$(),A.BMQ("data-pc-section","summary"),A.R7$(),A.JRh(p.message.summary),A.R7$(),A.BMQ("data-pc-section","detail"),A.R7$(),A.JRh(p.message.detail)}}function Kt(T,f){1&T&&A.eu8(0)}function Hn(T,f){if(1&T&&A.nrm(0,"span"),2&T){const p=A.XpG(3);A.HbH("pt-1 text-base p-toast-message-icon pi "+p.message.closeIcon)}}function Et(T,f){1&T&&A.nrm(0,"TimesIcon",16),2&T&&(A.Y8G("styleClass","p-toast-icon-close-icon"),A.BMQ("aria-hidden",!0)("data-pc-section","closeicon"))}function zt(T,f){if(1&T){const p=A.RV6();A.j41(0,"button",14),A.bIt("click",function(N){A.eBV(p);const H=A.XpG(2);return A.Njj(H.onCloseIconClick(N))})("keydown.enter",function(N){A.eBV(p);const H=A.XpG(2);return A.Njj(H.onCloseIconClick(N))}),A.DNE(1,Hn,1,2,"span",8)(2,Et,1,3,"TimesIcon",15),A.k0s()}if(2&T){const p=A.XpG(2);A.BMQ("aria-label",p.closeAriaLabel)("data-pc-section","closebutton"),A.R7$(),A.Y8G("ngIf",p.message.closeIcon),A.R7$(),A.Y8G("ngIf",!p.message.closeIcon)}}function Ct(T,f){if(1&T&&(A.j41(0,"div",5),A.DNE(1,Ht,8,7,"ng-container",6)(2,Kt,1,0,"ng-container",4)(3,zt,3,4,"button",7),A.k0s()),2&T){const p=A.XpG();A.Y8G("ngClass",null==p.message?null:p.message.contentStyleClass),A.BMQ("data-pc-section","content"),A.R7$(),A.Y8G("ngIf",!p.template),A.R7$(),A.Y8G("ngTemplateOutlet",p.template)("ngTemplateOutletContext",A.eq3(6,De,p.message)),A.R7$(),A.Y8G("ngIf",!1!==(null==p.message?null:p.message.closable))}}function _e(T,f){if(1&T){const p=A.RV6();A.j41(0,"p-toastItem",3),A.bIt("onClose",function(N){A.eBV(p);const H=A.XpG();return A.Njj(H.onMessageClose(N))})("@toastAnimation.start",function(N){A.eBV(p);const H=A.XpG();return A.Njj(H.onAnimationStart(N))})("@toastAnimation.done",function(N){A.eBV(p);const H=A.XpG();return A.Njj(H.onAnimationEnd(N))}),A.k0s()}if(2&T){const p=f.$implicit,D=f.index,N=A.XpG();A.Y8G("message",p)("index",D)("life",N.life)("template",N.template)("headlessTemplate",N.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",N.showTransformOptions)("hideTransformOptions",N.hideTransformOptions)("showTransitionOptions",N.showTransitionOptions)("hideTransitionOptions",N.hideTransitionOptions)}}let Ee=(()=>{class T{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new A.bkB;containerViewChild;timeout;constructor(p,D){this.zone=p,this.config=D}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=p=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),p.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(D){return new(D||T)(A.rXU(A.SKi),A.rXU($.r1))};static \u0275cmp=A.VBU({type:T,selectors:[["p-toastItem"]],viewQuery:function(D,N){if(1&D&&A.GBs(_t,5),2&D){let H;A.mGM(H=A.lsd())&&(N.containerViewChild=H.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",A.Udg],life:[2,"life","life",A.Udg],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[A.GFd],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(D,N){if(1&D){const H=A.RV6();A.j41(0,"div",2,0),A.bIt("mouseenter",function(){return A.eBV(H),A.Njj(N.onMouseEnter())})("mouseleave",function(){return A.eBV(H),A.Njj(N.onMouseLeave())}),A.DNE(2,ce,2,5,"ng-container",3)(3,Ct,4,8,"ng-template",null,1,A.C5r),A.k0s()}if(2&D){const H=A.sdS(4);A.HbH(null==N.message?null:N.message.styleClass),A.Y8G("ngClass",A.eq3(9,vt,"p-toast-message-"+(null==N.message?null:N.message.severity)))("@messageState",A.eq3(16,rn,A.ziG(11,ut,N.showTransformOptions,N.hideTransformOptions,N.showTransitionOptions,N.hideTransitionOptions))),A.BMQ("id",null==N.message?null:N.message.id)("data-pc-name","toast")("data-pc-section","root"),A.R7$(2),A.Y8G("ngIf",N.headlessTemplate)("ngIfElse",H)}},dependencies:()=>[x.YU,x.bT,x.T3,xe.n,V.S,q,Me,K,ge.A],encapsulation:2,data:{animation:[(0,re.hZ)("messageState",[(0,re.wk)("visible",(0,re.iF)({transform:"translateY(0)",opacity:1})),(0,re.kY)("void => *",[(0,re.iF)({transform:"{{showTransformParams}}",opacity:0}),(0,re.i0)("{{showTransitionParams}}")]),(0,re.kY)("* => void",[(0,re.i0)("{{hideTransitionParams}}",(0,re.iF)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return T})(),Re=(()=>{class T{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(p){this._position=p,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new A.bkB;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(p,D,N,H,Z){this.document=p,this.renderer=D,this.messageService=N,this.cd=H,this.config=Z}styleElement;id=(0,F._Y)();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(p=>{if(p)if(Array.isArray(p)){const D=p.filter(N=>this.canAdd(N));this.add(D)}else this.canAdd(p)&&this.add([p])}),this.clearSubscription=this.messageService.clearObserver.subscribe(p=>{p?this.key===p&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(p){this.messages=this.messages?[...this.messages,...p]:[...p],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...p]:[...p]),this.cd.markForCheck()}canAdd(p){let D=this.key===p.key;return D&&this.preventOpenDuplicates&&(D=!this.containsMessage(this.messages,p)),D&&this.preventDuplicates&&(D=!this.containsMessage(this.messagesArchieve,p)),D}containsMessage(p,D){return!!p&&null!=p.find(N=>N.summary===D.summary&&N.detail==D.detail&&N.severity===D.severity)}ngAfterContentInit(){this.templates?.forEach(p=>{switch(p.getType()){case"message":default:this.template=p.template;break;case"headless":this.headlessTemplate=p.template}})}onMessageClose(p){this.messages?.splice(p.index,1),this.onClose.emit({message:p.message}),this.cd.detectChanges()}onAnimationStart(p){"void"===p.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&F.Q$.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(p){"void"===p.toState&&this.autoZIndex&&F.BF.isEmpty(this.messages)&&F.Q$.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",rt.D.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let p="";for(let D in this.breakpoints){let N="";for(let H in this.breakpoints[D])N+=H+":"+this.breakpoints[D][H]+" !important;";p+=`\n                    @media screen and (max-width: ${D}) {\n                        .p-toast[${this.id}] {\n                           ${N}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",p)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&F.Q$.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(D){return new(D||T)(A.rXU(x.qQ),A.rXU(A.sFG),A.rXU($.bg),A.rXU(A.gRc),A.rXU($.r1))};static \u0275cmp=A.VBU({type:T,selectors:[["p-toast"]],contentQueries:function(D,N,H){if(1&D&&A.wni(H,$.Ei,4),2&D){let Z;A.mGM(Z=A.lsd())&&(N.templates=Z)}},viewQuery:function(D,N){if(1&D&&A.GBs(_t,5),2&D){let H;A.mGM(H=A.lsd())&&(N.containerViewChild=H.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",A.L39],baseZIndex:[2,"baseZIndex","baseZIndex",A.Udg],life:[2,"life","life",A.Udg],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",A.L39],preventDuplicates:[2,"preventDuplicates","preventDuplicates",A.L39],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[A.GFd],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(D,N){1&D&&(A.j41(0,"div",1,0),A.DNE(2,_e,1,10,"p-toastItem",2),A.k0s()),2&D&&(A.HbH(N.styleClass),A.Y8G("ngClass","p-toast-"+N._position)("ngStyle",N.style),A.R7$(2),A.Y8G("ngForOf",N.messages))},dependencies:[x.YU,x.Sq,x.B3,Ee],styles:["@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}\n"],encapsulation:2,data:{animation:[(0,re.hZ)("toastAnimation",[(0,re.kY)(":enter, :leave",[(0,re.P)("@*",(0,re.MA)())])])]},changeDetection:0})}return T})(),Ue=(()=>{class T{static \u0275fac=function(D){return new(D||T)};static \u0275mod=A.$C({type:T});static \u0275inj=A.G2t({imports:[x.MD,xe.Z,V.S,q,Me,K,ge.A,$.Gg]})}return T})(),We=(()=>{class T{title="pw";static \u0275fac=function(D){return new(D||T)};static \u0275cmp=A.VBU({type:T,selectors:[["app-root"]],features:[A.Jv_([])],decls:2,vars:0,template:function(D,N){1&D&&A.nrm(0,"router-outlet")(1,"p-toast")},dependencies:[le.n3,Re]})}return T})();function dt(T){return new A.wOt(3e3,!1)}function Zt(T){switch(T.length){case 0:return new re.sf;case 1:return T[0];default:return new re.ui(T)}}function ke(T,f,p=new Map,D=new Map){const N=[],H=[];let Z=-1,oe=null;if(f.forEach(me=>{const Ne=me.get("offset"),ot=Ne==Z,et=ot&&oe||new Map;me.forEach((Rt,bt)=>{let It=bt,pt=Rt;if("offset"!==bt)switch(It=T.normalizePropertyName(It,N),pt){case re.FX:pt=p.get(bt);break;case re.kp:pt=D.get(bt);break;default:pt=T.normalizeStyleValue(bt,It,pt,N)}et.set(It,pt)}),ot||H.push(et),oe=et,Z=Ne}),N.length)throw function qi(){return new A.wOt(3502,!1)}();return H}function Oe(T,f,p,D){switch(f){case"start":T.onStart(()=>D(p&&ie(p,"start",T)));break;case"done":T.onDone(()=>D(p&&ie(p,"done",T)));break;case"destroy":T.onDestroy(()=>D(p&&ie(p,"destroy",T)))}}function ie(T,f,p){const H=ve(T.element,T.triggerName,T.fromState,T.toState,f||T.phaseName,p.totalTime??T.totalTime,!!p.disabled),Z=T._data;return null!=Z&&(H._data=Z),H}function ve(T,f,p,D,N="",H=0,Z){return{element:T,triggerName:f,fromState:p,toState:D,phaseName:N,totalTime:H,disabled:!!Z}}function je(T,f,p){let D=T.get(f);return D||T.set(f,D=p),D}function J(T){const f=T.indexOf(":");return[T.substring(1,f),T.slice(f+1)]}const ee=typeof document>"u"?null:document.documentElement;function he(T){const f=T.parentNode||T.host||null;return f===ee?null:f}let Ce=null,at=!1;function Sn(T,f){for(;f;){if(f===T)return!0;f=he(f)}return!1}function wr(T,f,p){if(p)return Array.from(T.querySelectorAll(f));const D=T.querySelector(f);return D?[D]:[]}let kr=(()=>{class T{validateStyleProperty(p){return function xt(T){Ce||(Ce=function gr(){return typeof document<"u"?document.body:null}()||{},at=!!Ce.style&&"WebkitAppearance"in Ce.style);let f=!0;return Ce.style&&!function Le(T){return"ebkit"==T.substring(1,6)}(T)&&(f=T in Ce.style,!f&&at&&(f="Webkit"+T.charAt(0).toUpperCase()+T.slice(1)in Ce.style)),f}(p)}containsElement(p,D){return Sn(p,D)}getParentElement(p){return he(p)}query(p,D,N){return wr(p,D,N)}computeStyle(p,D,N){return N||""}animate(p,D,N,H,Z,oe=[],me){return new re.sf(N,H)}static{this.\u0275fac=function(D){return new(D||T)}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();class yi{static{this.NOOP=new kr}}class li{}const $s=1e3,zo="ng-enter",Pe="ng-leave",Te="ng-trigger",ze=".ng-trigger",mt="ng-animating",Qt=".ng-animating";function At(T){if("number"==typeof T)return T;const f=T.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:Jt(parseFloat(f[1]),f[2])}function Jt(T,f){return"s"===f?T*$s:T}function vn(T,f,p){return T.hasOwnProperty("duration")?T:function Xn(T,f,p){let N,H=0,Z="";if("string"==typeof T){const oe=T.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return f.push(dt()),{duration:0,delay:0,easing:""};N=Jt(parseFloat(oe[1]),oe[2]);const me=oe[3];null!=me&&(H=Jt(parseFloat(me),oe[4]));const Ne=oe[5];Ne&&(Z=Ne)}else N=T;if(!p){let oe=!1,me=f.length;N<0&&(f.push(function gn(){return new A.wOt(3100,!1)}()),oe=!0),H<0&&(f.push(function cr(){return new A.wOt(3101,!1)}()),oe=!0),oe&&f.splice(me,0,dt())}return{duration:N,delay:H,easing:Z}}(T,f,p)}function zr(T,f,p){f.forEach((D,N)=>{const H=ui(N);p&&!p.has(N)&&p.set(N,T.style[H]),T.style[H]=D})}function ci(T,f){f.forEach((p,D)=>{const N=ui(D);T.style[N]=""})}function Yi(T){return Array.isArray(T)?1==T.length?T[0]:(0,re.K2)(T):T}const Ms=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ln(T){let f=[];if("string"==typeof T){let p;for(;p=Ms.exec(T);)f.push(p[1]);Ms.lastIndex=0}return f}function pn(T,f,p){const D=`${T}`,N=D.replace(Ms,(H,Z)=>{let oe=f[Z];return null==oe&&(p.push(function dn(){return new A.wOt(3003,!1)}()),oe=""),oe.toString()});return N==D?T:N}const un=/-+([a-z0-9])/g;function ui(T){return T.replace(un,(...f)=>f[1].toUpperCase())}function xr(T,f,p){switch(f.type){case re.If.Trigger:return T.visitTrigger(f,p);case re.If.State:return T.visitState(f,p);case re.If.Transition:return T.visitTransition(f,p);case re.If.Sequence:return T.visitSequence(f,p);case re.If.Group:return T.visitGroup(f,p);case re.If.Animate:return T.visitAnimate(f,p);case re.If.Keyframes:return T.visitKeyframes(f,p);case re.If.Style:return T.visitStyle(f,p);case re.If.Reference:return T.visitReference(f,p);case re.If.AnimateChild:return T.visitAnimateChild(f,p);case re.If.AnimateRef:return T.visitAnimateRef(f,p);case re.If.Query:return T.visitQuery(f,p);case re.If.Stagger:return T.visitStagger(f,p);default:throw function fn(){return new A.wOt(3004,!1)}()}}function fs(T,f){return window.getComputedStyle(T)[f]}const sr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class en extends li{normalizePropertyName(f,p){return ui(f)}normalizeStyleValue(f,p,D,N){let H="";const Z=D.toString().trim();if(sr.has(p)&&0!==D&&"0"!==D)if("number"==typeof D)H="px";else{const oe=D.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&N.push(function mr(){return new A.wOt(3005,!1)}())}return Z+H}}const Xi="*";const os=new Set(["true","1"]),Ca=new Set(["false","0"]);function Mo(T,f){const p=os.has(T)||Ca.has(T),D=os.has(f)||Ca.has(f);return(N,H)=>{let Z=T==Xi||T==N,oe=f==Xi||f==H;return!Z&&p&&"boolean"==typeof N&&(Z=N?os.has(T):Ca.has(T)),!oe&&D&&"boolean"==typeof H&&(oe=H?os.has(f):Ca.has(f)),Z&&oe}}const Go=new RegExp("s*:selfs*,?","g");function Ta(T,f,p,D){return new Ks(T).build(f,p,D)}class Ks{constructor(f){this._driver=f}build(f,p,D){const N=new fo(p);return this._resetContextStyleTimingState(N),xr(this,Yi(f),N)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,p){let D=p.queryCount=0,N=p.depCount=0;const H=[],Z=[];return"@"==f.name.charAt(0)&&p.errors.push(function Rn(){return new A.wOt(3006,!1)}()),f.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(p),oe.type==re.If.State){const me=oe,Ne=me.name;Ne.toString().split(/\s*,\s*/).forEach(ot=>{me.name=ot,H.push(this.visitState(me,p))}),me.name=Ne}else if(oe.type==re.If.Transition){const me=this.visitTransition(oe,p);D+=me.queryCount,N+=me.depCount,Z.push(me)}else p.errors.push(function Wn(){return new A.wOt(3007,!1)}())}),{type:re.If.Trigger,name:f.name,states:H,transitions:Z,queryCount:D,depCount:N,options:null}}visitState(f,p){const D=this.visitStyle(f.styles,p),N=f.options&&f.options.params||null;if(D.containsDynamicStyles){const H=new Set,Z=N||{};D.styles.forEach(oe=>{oe instanceof Map&&oe.forEach(me=>{Ln(me).forEach(Ne=>{Z.hasOwnProperty(Ne)||H.add(Ne)})})}),H.size&&p.errors.push(function zn(){return new A.wOt(3008,!1)}(0,H.values()))}return{type:re.If.State,name:f.name,style:D,options:N?{params:N}:null}}visitTransition(f,p){p.queryCount=0,p.depCount=0;const D=xr(this,Yi(f.animation),p),N=function zs(T,f){const p=[];return"string"==typeof T?T.split(/\s*,\s*/).forEach(D=>function Ai(T,f,p){if(":"==T[0]){const me=function Gs(T,f){switch(T){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,D)=>parseFloat(D)>parseFloat(p);case":decrement":return(p,D)=>parseFloat(D)<parseFloat(p);default:return f.push(function tt(){return new A.wOt(3016,!1)}()),"* => *"}}(T,p);if("function"==typeof me)return void f.push(me);T=me}const D=T.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==D||D.length<4)return p.push(function cn(){return new A.wOt(3015,!1)}()),f;const N=D[1],H=D[2],Z=D[3];f.push(Mo(N,Z)),"<"==H[0]&&(N!=Xi||Z!=Xi)&&f.push(Mo(Z,N))}(D,p,f)):p.push(T),p}(f.expr,p.errors);return{type:re.If.Transition,matchers:N,animation:D,queryCount:p.queryCount,depCount:p.depCount,options:ps(f.options)}}visitSequence(f,p){return{type:re.If.Sequence,steps:f.steps.map(D=>xr(this,D,p)),options:ps(f.options)}}visitGroup(f,p){const D=p.currentTime;let N=0;const H=f.steps.map(Z=>{p.currentTime=D;const oe=xr(this,Z,p);return N=Math.max(N,p.currentTime),oe});return p.currentTime=N,{type:re.If.Group,steps:H,options:ps(f.options)}}visitAnimate(f,p){const D=function ti(T,f){if(T.hasOwnProperty("duration"))return T;if("number"==typeof T)return fi(vn(T,f).duration,0,"");const p=T;if(p.split(/\s+/).some(H=>"{"==H.charAt(0)&&"{"==H.charAt(1))){const H=fi(0,0,"");return H.dynamic=!0,H.strValue=p,H}const N=vn(p,f);return fi(N.duration,N.delay,N.easing)}(f.timings,p.errors);p.currentAnimateTimings=D;let N,H=f.styles?f.styles:(0,re.iF)({});if(H.type==re.If.Keyframes)N=this.visitKeyframes(H,p);else{let Z=f.styles,oe=!1;if(!Z){oe=!0;const Ne={};D.easing&&(Ne.easing=D.easing),Z=(0,re.iF)(Ne)}p.currentTime+=D.duration+D.delay;const me=this.visitStyle(Z,p);me.isEmptyStep=oe,N=me}return p.currentAnimateTimings=null,{type:re.If.Animate,timings:D,style:N,options:null}}visitStyle(f,p){const D=this._makeStyleAst(f,p);return this._validateStyleAst(D,p),D}_makeStyleAst(f,p){const D=[],N=Array.isArray(f.styles)?f.styles:[f.styles];for(let oe of N)"string"==typeof oe?oe===re.kp?D.push(oe):p.errors.push(new A.wOt(3002,!1)):D.push(new Map(Object.entries(oe)));let H=!1,Z=null;return D.forEach(oe=>{if(oe instanceof Map&&(oe.has("easing")&&(Z=oe.get("easing"),oe.delete("easing")),!H))for(let me of oe.values())if(me.toString().indexOf("{{")>=0){H=!0;break}}),{type:re.If.Style,styles:D,easing:Z,offset:f.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(f,p){const D=p.currentAnimateTimings;let N=p.currentTime,H=p.currentTime;D&&H>0&&(H-=D.duration+D.delay),f.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((oe,me)=>{const Ne=p.collectedStyles.get(p.currentQuerySelector),ot=Ne.get(me);let et=!0;ot&&(H!=N&&H>=ot.startTime&&N<=ot.endTime&&(p.errors.push(function pi(){return new A.wOt(3010,!1)}()),et=!1),H=ot.startTime),et&&Ne.set(me,{startTime:H,endTime:N}),p.options&&function va(T,f,p){const D=f.params||{},N=Ln(T);N.length&&N.forEach(H=>{D.hasOwnProperty(H)||p.push(function St(){return new A.wOt(3001,!1)}())})}(oe,p.options,p.errors)})})}visitKeyframes(f,p){const D={type:re.If.Keyframes,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push(function Bi(){return new A.wOt(3011,!1)}()),D;let H=0;const Z=[];let oe=!1,me=!1,Ne=0;const ot=f.steps.map(Nn=>{const fr=this._makeStyleAst(Nn,p);let _n=null!=fr.offset?fr.offset:function qo(T){if("string"==typeof T)return null;let f=null;if(Array.isArray(T))T.forEach(p=>{if(p instanceof Map&&p.has("offset")){const D=p;f=parseFloat(D.get("offset")),D.delete("offset")}});else if(T instanceof Map&&T.has("offset")){const p=T;f=parseFloat(p.get("offset")),p.delete("offset")}return f}(fr.styles),er=0;return null!=_n&&(H++,er=fr.offset=_n),me=me||er<0||er>1,oe=oe||er<Ne,Ne=er,Z.push(er),fr});me&&p.errors.push(function gi(){return new A.wOt(3012,!1)}()),oe&&p.errors.push(function ai(){return new A.wOt(3200,!1)}());const et=f.steps.length;let Rt=0;H>0&&H<et?p.errors.push(function kt(){return new A.wOt(3202,!1)}()):0==H&&(Rt=1/(et-1));const bt=et-1,It=p.currentTime,pt=p.currentAnimateTimings,Gt=pt.duration;return ot.forEach((Nn,fr)=>{const _n=Rt>0?fr==bt?1:Rt*fr:Z[fr],er=_n*Gt;p.currentTime=It+pt.delay+er,pt.duration=er,this._validateStyleAst(Nn,p),Nn.offset=_n,D.styles.push(Nn)}),D}visitReference(f,p){return{type:re.If.Reference,animation:xr(this,Yi(f.animation),p),options:ps(f.options)}}visitAnimateChild(f,p){return p.depCount++,{type:re.If.AnimateChild,options:ps(f.options)}}visitAnimateRef(f,p){return{type:re.If.AnimateRef,animation:this.visitReference(f.animation,p),options:ps(f.options)}}visitQuery(f,p){const D=p.currentQuerySelector,N=f.options||{};p.queryCount++,p.currentQuery=f;const[H,Z]=function mn(T){const f=!!T.split(/\s*,\s*/).find(p=>":self"==p);return f&&(T=T.replace(Go,"")),T=T.replace(/@\*/g,ze).replace(/@\w+/g,p=>ze+"-"+p.slice(1)).replace(/:animating/g,Qt),[T,f]}(f.selector);p.currentQuerySelector=D.length?D+" "+H:H,je(p.collectedStyles,p.currentQuerySelector,new Map);const oe=xr(this,Yi(f.animation),p);return p.currentQuery=null,p.currentQuerySelector=D,{type:re.If.Query,selector:H,limit:N.limit||0,optional:!!N.optional,includeSelf:Z,animation:oe,originalSelector:f.selector,options:ps(f.options)}}visitStagger(f,p){p.currentQuery||p.errors.push(function Si(){return new A.wOt(3013,!1)}());const D="full"===f.timings?{duration:0,delay:0,easing:"full"}:vn(f.timings,p.errors,!0);return{type:re.If.Stagger,animation:xr(this,Yi(f.animation),p),timings:D,options:null}}}class fo{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ps(T){return T?(T={...T}).params&&(T.params=function qs(T){return T?{...T}:null}(T.params)):T={},T}function fi(T,f,p){return{duration:T,delay:f,easing:p}}function Ps(T,f,p,D,N,H,Z=null,oe=!1){return{type:1,element:T,keyframes:f,preStyleProps:p,postStyleProps:D,duration:N,delay:H,totalTime:N+H,easing:Z,subTimeline:oe}}class Nr{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,p){let D=this._map.get(f);D||this._map.set(f,D=[]),D.push(...p)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Yo=new RegExp(":enter","g"),wa=new RegExp(":leave","g");function po(T,f,p,D,N,H=new Map,Z=new Map,oe,me,Ne=[]){return(new ni).buildKeyframes(T,f,p,D,N,H,Z,oe,me,Ne)}class ni{buildKeyframes(f,p,D,N,H,Z,oe,me,Ne,ot=[]){Ne=Ne||new Nr;const et=new ks(f,p,Ne,N,H,ot,[]);et.options=me;const Rt=me.delay?At(me.delay):0;et.currentTimeline.delayNextStep(Rt),et.currentTimeline.setStyles([Z],null,et.errors,me),xr(this,D,et);const bt=et.timelines.filter(It=>It.containsAnimation());if(bt.length&&oe.size){let It;for(let pt=bt.length-1;pt>=0;pt--){const Gt=bt[pt];if(Gt.element===p){It=Gt;break}}It&&!It.allowOnlyTimelineStyles()&&It.setStyles([oe],null,et.errors,me)}return bt.length?bt.map(It=>It.buildKeyframes()):[Ps(p,[],[],[],0,Rt,"",!1)]}visitTrigger(f,p){}visitState(f,p){}visitTransition(f,p){}visitAnimateChild(f,p){const D=p.subInstructions.get(p.element);if(D){const N=p.createSubContext(f.options),H=p.currentTimeline.currentTime,Z=this._visitSubInstructions(D,N,N.options);H!=Z&&p.transformIntoNewTimeline(Z)}p.previousNode=f}visitAnimateRef(f,p){const D=p.createSubContext(f.options);D.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],p,D),this.visitReference(f.animation,D),p.transformIntoNewTimeline(D.currentTimeline.currentTime),p.previousNode=f}_applyAnimationRefDelays(f,p,D){for(const N of f){const H=N?.delay;if(H){const Z="number"==typeof H?H:At(pn(H,N?.params??{},p.errors));D.delayNextStep(Z)}}}_visitSubInstructions(f,p,D){let H=p.currentTimeline.currentTime;const Z=null!=D.duration?At(D.duration):null,oe=null!=D.delay?At(D.delay):null;return 0!==Z&&f.forEach(me=>{const Ne=p.appendInstructionToTimeline(me,Z,oe);H=Math.max(H,Ne.duration+Ne.delay)}),H}visitReference(f,p){p.updateOptions(f.options,!0),xr(this,f.animation,p),p.previousNode=f}visitSequence(f,p){const D=p.subContextCount;let N=p;const H=f.options;if(H&&(H.params||H.delay)&&(N=p.createSubContext(H),N.transformIntoNewTimeline(),null!=H.delay)){N.previousNode.type==re.If.Style&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=ri);const Z=At(H.delay);N.delayNextStep(Z)}f.steps.length&&(f.steps.forEach(Z=>xr(this,Z,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>D&&N.transformIntoNewTimeline()),p.previousNode=f}visitGroup(f,p){const D=[];let N=p.currentTimeline.currentTime;const H=f.options&&f.options.delay?At(f.options.delay):0;f.steps.forEach(Z=>{const oe=p.createSubContext(f.options);H&&oe.delayNextStep(H),xr(this,Z,oe),N=Math.max(N,oe.currentTimeline.currentTime),D.push(oe.currentTimeline)}),D.forEach(Z=>p.currentTimeline.mergeTimelineCollectedStyles(Z)),p.transformIntoNewTimeline(N),p.previousNode=f}_visitTiming(f,p){if(f.dynamic){const D=f.strValue;return vn(p.params?pn(D,p.params,p.errors):D,p.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,p){const D=p.currentAnimateTimings=this._visitTiming(f.timings,p),N=p.currentTimeline;D.delay&&(p.incrementTime(D.delay),N.snapshotCurrentStyles());const H=f.style;H.type==re.If.Keyframes?this.visitKeyframes(H,p):(p.incrementTime(D.duration),this.visitStyle(H,p),N.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=f}visitStyle(f,p){const D=p.currentTimeline,N=p.currentAnimateTimings;!N&&D.hasCurrentStyleProperties()&&D.forwardFrame();const H=N&&N.easing||f.easing;f.isEmptyStep?D.applyEmptyStep(H):D.setStyles(f.styles,H,p.errors,p.options),p.previousNode=f}visitKeyframes(f,p){const D=p.currentAnimateTimings,N=p.currentTimeline.duration,H=D.duration,oe=p.createSubContext().currentTimeline;oe.easing=D.easing,f.styles.forEach(me=>{oe.forwardTime((me.offset||0)*H),oe.setStyles(me.styles,me.easing,p.errors,p.options),oe.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(oe),p.transformIntoNewTimeline(N+H),p.previousNode=f}visitQuery(f,p){const D=p.currentTimeline.currentTime,N=f.options||{},H=N.delay?At(N.delay):0;H&&(p.previousNode.type===re.If.Style||0==D&&p.currentTimeline.hasCurrentStyleProperties())&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=ri);let Z=D;const oe=p.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!N.optional,p.errors);p.currentQueryTotal=oe.length;let me=null;oe.forEach((Ne,ot)=>{p.currentQueryIndex=ot;const et=p.createSubContext(f.options,Ne);H&&et.delayNextStep(H),Ne===p.element&&(me=et.currentTimeline),xr(this,f.animation,et),et.currentTimeline.applyStylesToKeyframe(),Z=Math.max(Z,et.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(Z),me&&(p.currentTimeline.mergeTimelineCollectedStyles(me),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=f}visitStagger(f,p){const D=p.parentContext,N=p.currentTimeline,H=f.timings,Z=Math.abs(H.duration),oe=Z*(p.currentQueryTotal-1);let me=Z*p.currentQueryIndex;switch(H.duration<0?"reverse":H.easing){case"reverse":me=oe-me;break;case"full":me=D.currentStaggerTime}const ot=p.currentTimeline;me&&ot.delayNextStep(me);const et=ot.currentTime;xr(this,f.animation,p),p.previousNode=f,D.currentStaggerTime=N.currentTime-et+(N.startTime-D.currentTimeline.startTime)}}const ri={};class ks{constructor(f,p,D,N,H,Z,oe,me){this._driver=f,this.element=p,this.subInstructions=D,this._enterClassName=N,this._leaveClassName=H,this.errors=Z,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ri,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=me||new Xo(this._driver,p,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,p){if(!f)return;const D=f;let N=this.options;null!=D.duration&&(N.duration=At(D.duration)),null!=D.delay&&(N.delay=At(D.delay));const H=D.params;if(H){let Z=N.params;Z||(Z=this.options.params={}),Object.keys(H).forEach(oe=>{(!p||!Z.hasOwnProperty(oe))&&(Z[oe]=pn(H[oe],Z,this.errors))})}}_copyOptions(){const f={};if(this.options){const p=this.options.params;if(p){const D=f.params={};Object.keys(p).forEach(N=>{D[N]=p[N]})}}return f}createSubContext(f=null,p,D){const N=p||this.element,H=new ks(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,D||0));return H.previousNode=this.previousNode,H.currentAnimateTimings=this.currentAnimateTimings,H.options=this._copyOptions(),H.updateOptions(f),H.currentQueryIndex=this.currentQueryIndex,H.currentQueryTotal=this.currentQueryTotal,H.parentContext=this,this.subContextCount++,H}transformIntoNewTimeline(f){return this.previousNode=ri,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,p,D){const N={duration:p??f.duration,delay:this.currentTimeline.currentTime+(D??0)+f.delay,easing:""},H=new gs(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,N,f.stretchStartingKeyframe);return this.timelines.push(H),N}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,p,D,N,H,Z){let oe=[];if(N&&oe.push(this.element),f.length>0){f=(f=f.replace(Yo,"."+this._enterClassName)).replace(wa,"."+this._leaveClassName);let Ne=this._driver.query(this.element,f,1!=D);0!==D&&(Ne=D<0?Ne.slice(Ne.length+D,Ne.length):Ne.slice(0,D)),oe.push(...Ne)}return!H&&0==oe.length&&Z.push(function Ar(){return new A.wOt(3014,!1)}()),oe}}class Xo{constructor(f,p,D,N){this._driver=f,this.element=p,this.startTime=D,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const p=1===this._keyframes.size&&this._pendingStyles.size;this.duration||p?(this.forwardTime(this.currentTime+f),p&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,p){return this.applyStylesToKeyframe(),new Xo(this._driver,f,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,p){this._localTimelineStyles.set(f,p),this._globalTimelineStyles.set(f,p),this._styleSummary.set(f,{time:this.currentTime,value:p})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[p,D]of this._globalTimelineStyles)this._backFill.set(p,D||re.kp),this._currentKeyframe.set(p,re.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,p,D,N){p&&this._previousKeyframe.set("easing",p);const H=N&&N.params||{},Z=function Zo(T,f){const p=new Map;let D;return T.forEach(N=>{if("*"===N){D??=f.keys();for(let H of D)p.set(H,re.kp)}else for(let[H,Z]of N)p.set(H,Z)}),p}(f,this._globalTimelineStyles);for(let[oe,me]of Z){const Ne=pn(me,H,D);this._pendingStyles.set(oe,Ne),this._localTimelineStyles.has(oe)||this._backFill.set(oe,this._globalTimelineStyles.get(oe)??re.kp),this._updateStyle(oe,Ne)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,p)=>{this._currentKeyframe.set(p,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,p)=>{this._currentKeyframe.has(p)||this._currentKeyframe.set(p,f)}))}snapshotCurrentStyles(){for(let[f,p]of this._localTimelineStyles)this._pendingStyles.set(f,p),this._updateStyle(f,p)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let p in this._currentKeyframe)f.push(p);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((p,D)=>{const N=this._styleSummary.get(D);(!N||p.time>N.time)&&this._updateStyle(D,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,p=new Set,D=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((oe,me)=>{const Ne=new Map([...this._backFill,...oe]);Ne.forEach((ot,et)=>{ot===re.FX?f.add(et):ot===re.kp&&p.add(et)}),D||Ne.set("offset",me/this.duration),N.push(Ne)});const H=[...f.values()],Z=[...p.values()];if(D){const oe=N[0],me=new Map(oe);oe.set("offset",0),me.set("offset",1),N=[oe,me]}return Ps(this.element,N,H,Z,this.duration,this.startTime,this.easing,!1)}}class gs extends Xo{constructor(f,p,D,N,H,Z,oe=!1){super(f,p,Z.delay),this.keyframes=D,this.preStyleProps=N,this.postStyleProps=H,this._stretchStartingKeyframe=oe,this.timings={duration:Z.duration,delay:Z.delay,easing:Z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:p,duration:D,easing:N}=this.timings;if(this._stretchStartingKeyframe&&p){const H=[],Z=D+p,oe=p/Z,me=new Map(f[0]);me.set("offset",0),H.push(me);const Ne=new Map(f[0]);Ne.set("offset",Ga(oe)),H.push(Ne);const ot=f.length-1;for(let et=1;et<=ot;et++){let Rt=new Map(f[et]);const bt=Rt.get("offset");Rt.set("offset",Ga((p+bt*D)/Z)),H.push(Rt)}D=Z,p=0,N="",f=H}return Ps(this.element,f,this.preStyleProps,this.postStyleProps,D,p,N,!0)}}function Ga(T,f=3){const p=Math.pow(10,f-1);return Math.round(T*p)/p}function Zn(T,f,p,D,N,H,Z,oe,me,Ne,ot,et,Rt){return{type:0,element:T,triggerName:f,isRemovalTransition:N,fromState:p,fromStyles:H,toState:D,toStyles:Z,timelines:oe,queriedElements:me,preStyleProps:Ne,postStyleProps:ot,totalTime:et,errors:Rt}}const Gr={};class Qs{constructor(f,p,D){this._triggerName=f,this.ast=p,this._stateStyles=D}match(f,p,D,N){return function ms(T,f,p,D,N){return T.some(H=>H(f,p,D,N))}(this.ast.matchers,f,p,D,N)}buildStyles(f,p,D){let N=this._stateStyles.get("*");return void 0!==f&&(N=this._stateStyles.get(f?.toString())||N),N?N.buildStyles(p,D):new Map}build(f,p,D,N,H,Z,oe,me,Ne,ot){const et=[],Rt=this.ast.options&&this.ast.options.params||Gr,It=this.buildStyles(D,oe&&oe.params||Gr,et),pt=me&&me.params||Gr,Gt=this.buildStyles(N,pt,et),Nn=new Set,fr=new Map,_n=new Map,er="void"===N,Ts={params:Zi(pt,Rt),delay:this.ast.options?.delay},Ci=ot?[]:po(f,p,this.ast.animation,H,Z,It,Gt,Ts,Ne,et);let ar=0;return Ci.forEach(Zr=>{ar=Math.max(Zr.duration+Zr.delay,ar)}),et.length?Zn(p,this._triggerName,D,N,er,It,Gt,[],[],fr,_n,ar,et):(Ci.forEach(Zr=>{const so=Zr.element,Vo=je(fr,so,new Set);Zr.preStyleProps.forEach(kn=>Vo.add(kn));const Il=je(_n,so,new Set);Zr.postStyleProps.forEach(kn=>Il.add(kn)),so!==p&&Nn.add(so)}),Zn(p,this._triggerName,D,N,er,It,Gt,Ci,[...Nn.values()],fr,_n,ar))}}function Zi(T,f){const p={...f};return Object.entries(T).forEach(([D,N])=>{null!=N&&(p[D]=N)}),p}class Kr{constructor(f,p,D){this.styles=f,this.defaultParams=p,this.normalizer=D}buildStyles(f,p){const D=new Map,N=Zi(f,this.defaultParams);return this.styles.styles.forEach(H=>{"string"!=typeof H&&H.forEach((Z,oe)=>{Z&&(Z=pn(Z,N,p));const me=this.normalizer.normalizePropertyName(oe,p);Z=this.normalizer.normalizeStyleValue(oe,me,Z,p),D.set(oe,Z)})}),D}}class qt{constructor(f,p,D){this.name=f,this.ast=p,this._normalizer=D,this.transitionFactories=[],this.states=new Map,p.states.forEach(N=>{this.states.set(N.name,new Kr(N.style,N.options&&N.options.params||{},D))}),Fr(this.states,"true","1"),Fr(this.states,"false","0"),p.transitions.forEach(N=>{this.transitionFactories.push(new Qs(f,N,this.states))}),this.fallbackTransition=function Jo(T,f){return new Qs(T,{type:re.If.Transition,animation:{type:re.If.Sequence,steps:[],options:null},matchers:[(Z,oe)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,p,D,N){return this.transitionFactories.find(Z=>Z.match(f,p,D,N))||null}matchStyles(f,p,D){return this.fallbackTransition.buildStyles(f,p,D)}}function Fr(T,f,p){T.has(f)?T.has(p)||T.set(p,T.get(f)):T.has(p)&&T.set(f,T.get(p))}const go=new Nr;class Fn{constructor(f,p,D){this.bodyNode=f,this._driver=p,this._normalizer=D,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,p){const D=[],H=Ta(this._driver,p,D,[]);if(D.length)throw function hr(){return new A.wOt(3503,!1)}();this._animations.set(f,H)}_buildPlayer(f,p,D){const N=f.element,H=ke(this._normalizer,f.keyframes,p,D);return this._driver.animate(N,H,f.duration,f.delay,f.easing,[],!0)}create(f,p,D={}){const N=[],H=this._animations.get(f);let Z;const oe=new Map;if(H?(Z=po(this._driver,p,H,zo,Pe,new Map,new Map,D,go,N),Z.forEach(ot=>{const et=je(oe,ot.element,new Map);ot.postStyleProps.forEach(Rt=>et.set(Rt,null))})):(N.push(function Ir(){return new A.wOt(3300,!1)}()),Z=[]),N.length)throw function ir(){return new A.wOt(3504,!1)}();oe.forEach((ot,et)=>{ot.forEach((Rt,bt)=>{ot.set(bt,this._driver.computeStyle(et,bt,re.kp))})});const Ne=Zt(Z.map(ot=>{const et=oe.get(ot.element);return this._buildPlayer(ot,new Map,et)}));return this._playersById.set(f,Ne),Ne.onDestroy(()=>this.destroy(f)),this.players.push(Ne),Ne}destroy(f){const p=this._getPlayer(f);p.destroy(),this._playersById.delete(f);const D=this.players.indexOf(p);D>=0&&this.players.splice(D,1)}_getPlayer(f){const p=this._playersById.get(f);if(!p)throw function Vi(){return new A.wOt(3301,!1)}();return p}listen(f,p,D,N){const H=ve(p,"","","");return Oe(this._getPlayer(f),D,H,N),()=>{}}command(f,p,D,N){if("register"==D)return void this.register(f,N[0]);if("create"==D)return void this.create(f,p,N[0]||{});const H=this._getPlayer(f);switch(D){case"play":H.play();break;case"pause":H.pause();break;case"reset":H.reset();break;case"restart":H.restart();break;case"finish":H.finish();break;case"init":H.init();break;case"setPosition":H.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(f)}}}const Ur="ng-animate-queued",ji="ng-animate-disabled",Sa=[],ys={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Un={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class Cr{get params(){return this.options.params}constructor(f,p=""){this.namespaceId=p;const D=f&&f.hasOwnProperty("value");if(this.value=function Br(T){return T??null}(D?f.value:f),D){const{value:H,...Z}=f;this.options=Z}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const p=f.params;if(p){const D=this.options.params;Object.keys(p).forEach(N=>{null==D[N]&&(D[N]=p[N])})}}}const as="void",Ys=new Cr(as);class Ri{constructor(f,p,D){this.id=f,this.hostElement=p,this._engine=D,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,sn(p,this._hostClassName)}listen(f,p,D,N){if(!this._triggers.has(p))throw function Xt(){return new A.wOt(3302,!1)}();if(null==D||0==D.length)throw function Mn(){return new A.wOt(3303,!1)}();if(!function mo(T){return"start"==T||"done"==T}(D))throw function Qi(){return new A.wOt(3400,!1)}();const H=je(this._elementListeners,f,[]),Z={name:p,phase:D,callback:N};H.push(Z);const oe=je(this._engine.statesByElement,f,new Map);return oe.has(p)||(sn(f,Te),sn(f,Te+"-"+p),oe.set(p,Ys)),()=>{this._engine.afterFlush(()=>{const me=H.indexOf(Z);me>=0&&H.splice(me,1),this._triggers.has(p)||oe.delete(p)})}}register(f,p){return!this._triggers.has(f)&&(this._triggers.set(f,p),!0)}_getTrigger(f){const p=this._triggers.get(f);if(!p)throw function Yn(){return new A.wOt(3401,!1)}();return p}trigger(f,p,D,N=!0){const H=this._getTrigger(p),Z=new Vt(this.id,p,f);let oe=this._engine.statesByElement.get(f);oe||(sn(f,Te),sn(f,Te+"-"+p),this._engine.statesByElement.set(f,oe=new Map));let me=oe.get(p);const Ne=new Cr(D,this.id);if(!(D&&D.hasOwnProperty("value"))&&me&&Ne.absorbOptions(me.options),oe.set(p,Ne),me||(me=Ys),Ne.value!==as&&me.value===Ne.value){if(!function Po(T,f){const p=Object.keys(T),D=Object.keys(f);if(p.length!=D.length)return!1;for(let N=0;N<p.length;N++){const H=p[N];if(!f.hasOwnProperty(H)||T[H]!==f[H])return!1}return!0}(me.params,Ne.params)){const pt=[],Gt=H.matchStyles(me.value,me.params,pt),Nn=H.matchStyles(Ne.value,Ne.params,pt);pt.length?this._engine.reportError(pt):this._engine.afterFlush(()=>{ci(f,Gt),zr(f,Nn)})}return}const Rt=je(this._engine.playersByElement,f,[]);Rt.forEach(pt=>{pt.namespaceId==this.id&&pt.triggerName==p&&pt.queued&&pt.destroy()});let bt=H.matchTransition(me.value,Ne.value,f,Ne.params),It=!1;if(!bt){if(!N)return;bt=H.fallbackTransition,It=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:p,transition:bt,fromState:me,toState:Ne,player:Z,isFallbackTransition:It}),It||(sn(f,Ur),Z.onStart(()=>{_i(f,Ur)})),Z.onDone(()=>{let pt=this.players.indexOf(Z);pt>=0&&this.players.splice(pt,1);const Gt=this._engine.playersByElement.get(f);if(Gt){let Nn=Gt.indexOf(Z);Nn>=0&&Gt.splice(Nn,1)}}),this.players.push(Z),Rt.push(Z),Z}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(p=>p.delete(f)),this._elementListeners.forEach((p,D)=>{this._elementListeners.set(D,p.filter(N=>N.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const p=this._engine.playersByElement.get(f);p&&(p.forEach(D=>D.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,p){const D=this._engine.driver.query(f,ze,!0);D.forEach(N=>{if(N[qr])return;const H=this._engine.fetchNamespacesByElement(N);H.size?H.forEach(Z=>Z.triggerLeaveAnimation(N,p,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>D.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(f,p,D,N){const H=this._engine.statesByElement.get(f),Z=new Map;if(H){const oe=[];if(H.forEach((me,Ne)=>{if(Z.set(Ne,me.value),this._triggers.has(Ne)){const ot=this.trigger(f,Ne,as,N);ot&&oe.push(ot)}}),oe.length)return this._engine.markElementAsRemoved(this.id,f,!0,p,Z),D&&Zt(oe).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const p=this._elementListeners.get(f),D=this._engine.statesByElement.get(f);if(p&&D){const N=new Set;p.forEach(H=>{const Z=H.name;if(N.has(Z))return;N.add(Z);const me=this._triggers.get(Z).fallbackTransition,Ne=D.get(Z)||Ys,ot=new Cr(as),et=new Vt(this.id,Z,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:Z,transition:me,fromState:Ne,toState:ot,player:et,isFallbackTransition:!0})})}}removeNode(f,p){const D=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,p),this.triggerLeaveAnimation(f,p,!0))return;let N=!1;if(D.totalAnimations){const H=D.players.length?D.playersByQueriedElement.get(f):[];if(H&&H.length)N=!0;else{let Z=f;for(;Z=Z.parentNode;)if(D.statesByElement.get(Z)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(f),N)D.markElementAsRemoved(this.id,f,!1,p);else{const H=f[qr];(!H||H===ys)&&(D.afterFlush(()=>this.clearElementCache(f)),D.destroyInnerAnimations(f),D._onRemovalComplete(f,p))}}insertNode(f,p){sn(f,this._hostClassName)}drainQueuedTransitions(f){const p=[];return this._queue.forEach(D=>{const N=D.player;if(N.destroyed)return;const H=D.element,Z=this._elementListeners.get(H);Z&&Z.forEach(oe=>{if(oe.name==D.triggerName){const me=ve(H,D.triggerName,D.fromState.value,D.toState.value);me._data=f,Oe(D.player,oe.phase,me,oe.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):p.push(D)}),this._queue=[],p.sort((D,N)=>{const H=D.transition.ast.depCount,Z=N.transition.ast.depCount;return 0==H||0==Z?H-Z:this._engine.driver.containsElement(D.element,N.element)?1:-1})}destroy(f){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Oo{_onRemovalComplete(f,p){this.onRemovalComplete(f,p)}constructor(f,p,D){this.bodyNode=f,this.driver=p,this._normalizer=D,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,H)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(p=>{p.players.forEach(D=>{D.queued&&f.push(D)})}),f}createNamespace(f,p){const D=new Ri(f,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(D,p):(this.newHostElements.set(p,D),this.collectEnterElement(p)),this._namespaceLookup[f]=D}_balanceNamespaceList(f,p){const D=this._namespaceList,N=this.namespacesByHostElement;if(D.length-1>=0){let Z=!1,oe=this.driver.getParentElement(p);for(;oe;){const me=N.get(oe);if(me){const Ne=D.indexOf(me);D.splice(Ne+1,0,f),Z=!0;break}oe=this.driver.getParentElement(oe)}Z||D.unshift(f)}else D.push(f);return N.set(p,f),f}register(f,p){let D=this._namespaceLookup[f];return D||(D=this.createNamespace(f,p)),D}registerTrigger(f,p,D){let N=this._namespaceLookup[f];N&&N.register(p,D)&&this.totalAnimations++}destroy(f,p){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const D=this._fetchNamespace(f);this.namespacesByHostElement.delete(D.hostElement);const N=this._namespaceList.indexOf(D);N>=0&&this._namespaceList.splice(N,1),D.destroy(p),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const p=new Set,D=this.statesByElement.get(f);if(D)for(let N of D.values())if(N.namespaceId){const H=this._fetchNamespace(N.namespaceId);H&&p.add(H)}return p}trigger(f,p,D,N){if(ta(p)){const H=this._fetchNamespace(f);if(H)return H.trigger(p,D,N),!0}return!1}insertNode(f,p,D,N){if(!ta(p))return;const H=p[qr];if(H&&H.setForRemoval){H.setForRemoval=!1,H.setForMove=!0;const Z=this.collectedLeaveElements.indexOf(p);Z>=0&&this.collectedLeaveElements.splice(Z,1)}if(f){const Z=this._fetchNamespace(f);Z&&Z.insertNode(p,D)}N&&this.collectEnterElement(p)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,p){p?this.disabledNodes.has(f)||(this.disabledNodes.add(f),sn(f,ji)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),_i(f,ji))}removeNode(f,p,D){if(ta(p)){const N=f?this._fetchNamespace(f):null;N?N.removeNode(p,D):this.markElementAsRemoved(f,p,!1,D);const H=this.namespacesByHostElement.get(p);H&&H.id!==f&&H.removeNode(p,D)}else this._onRemovalComplete(p,D)}markElementAsRemoved(f,p,D,N,H){this.collectedLeaveElements.push(p),p[qr]={namespaceId:f,setForRemoval:N,hasAnimation:D,removedBeforeQueried:!1,previousTriggersValues:H}}listen(f,p,D,N,H){return ta(p)?this._fetchNamespace(f).listen(p,D,N,H):()=>{}}_buildInstruction(f,p,D,N,H){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,D,N,f.fromState.options,f.toState.options,p,H)}destroyInnerAnimations(f){let p=this.driver.query(f,ze,!0);p.forEach(D=>this.destroyActiveAnimationsForElement(D)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(f,Qt,!0),p.forEach(D=>this.finishActiveQueriedAnimationOnElement(D)))}destroyActiveAnimationsForElement(f){const p=this.playersByElement.get(f);p&&p.forEach(D=>{D.queued?D.markedForDestroy=!0:D.destroy()})}finishActiveQueriedAnimationOnElement(f){const p=this.playersByQueriedElement.get(f);p&&p.forEach(D=>D.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Zt(this.players).onDone(()=>f());f()})}processLeaveNode(f){const p=f[qr];if(p&&p.setForRemoval){if(f[qr]=ys,p.namespaceId){this.destroyInnerAnimations(f);const D=this._fetchNamespace(p.namespaceId);D&&D.clearElementCache(f)}this._onRemovalComplete(f,p.setForRemoval)}f.classList?.contains(ji)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(D=>{this.markElementAsDisabled(D,!1)})}flush(f=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((D,N)=>this._balanceNamespaceList(D,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let D=0;D<this.collectedEnterElements.length;D++)sn(this.collectedEnterElements[D],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const D=[];try{p=this._flushAnimations(D,f)}finally{for(let N=0;N<D.length;N++)D[N]()}}else for(let D=0;D<this.collectedLeaveElements.length;D++)this.processLeaveNode(this.collectedLeaveElements[D]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(D=>D()),this._flushFns=[],this._whenQuietFns.length){const D=this._whenQuietFns;this._whenQuietFns=[],p.length?Zt(p).onDone(()=>{D.forEach(N=>N())}):D.forEach(N=>N())}}reportError(f){throw function yr(){return new A.wOt(3402,!1)}()}_flushAnimations(f,p){const D=new Nr,N=[],H=new Map,Z=[],oe=new Map,me=new Map,Ne=new Map,ot=new Set;this.disabledNodes.forEach(Nt=>{ot.add(Nt);const $t=this.driver.query(Nt,".ng-animate-queued",!0);for(let on=0;on<$t.length;on++)ot.add($t[on])});const et=this.bodyNode,Rt=Array.from(this.statesByElement.keys()),bt=yo(Rt,this.collectedEnterElements),It=new Map;let pt=0;bt.forEach((Nt,$t)=>{const on=zo+pt++;It.set($t,on),Nt.forEach(xn=>sn(xn,on))});const Gt=[],Nn=new Set,fr=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const $t=this.collectedLeaveElements[Nt],on=$t[qr];on&&on.setForRemoval&&(Gt.push($t),Nn.add($t),on.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(xn=>Nn.add(xn)):fr.add($t))}const _n=new Map,er=yo(Rt,Array.from(Nn));er.forEach((Nt,$t)=>{const on=Pe+pt++;_n.set($t,on),Nt.forEach(xn=>sn(xn,on))}),f.push(()=>{bt.forEach((Nt,$t)=>{const on=It.get($t);Nt.forEach(xn=>_i(xn,on))}),er.forEach((Nt,$t)=>{const on=_n.get($t);Nt.forEach(xn=>_i(xn,on))}),Gt.forEach(Nt=>{this.processLeaveNode(Nt)})});const Ts=[],Ci=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(p).forEach(on=>{const xn=on.player,Pr=on.element;if(Ts.push(xn),this.collectedEnterElements.length){const An=Pr[qr];if(An&&An.setForMove){if(An.previousTriggersValues&&An.previousTriggersValues.has(on.triggerName)){const Ui=An.previousTriggersValues.get(on.triggerName),pr=this.statesByElement.get(on.element);if(pr&&pr.has(on.triggerName)){const oi=pr.get(on.triggerName);oi.value=Ui,pr.set(on.triggerName,oi)}}return void xn.destroy()}}const ws=!et||!this.driver.containsElement(et,Pr),Fi=_n.get(Pr),Ds=It.get(Pr),an=this._buildInstruction(on,D,Ds,Fi,ws);if(an.errors&&an.errors.length)return void Ci.push(an);if(ws)return xn.onStart(()=>ci(Pr,an.fromStyles)),xn.onDestroy(()=>zr(Pr,an.toStyles)),void N.push(xn);if(on.isFallbackTransition)return xn.onStart(()=>ci(Pr,an.fromStyles)),xn.onDestroy(()=>zr(Pr,an.toStyles)),void N.push(xn);const it=[];an.timelines.forEach(An=>{An.stretchStartingKeyframe=!0,this.disabledNodes.has(An.element)||it.push(An)}),an.timelines=it,D.append(Pr,an.timelines),Z.push({instruction:an,player:xn,element:Pr}),an.queriedElements.forEach(An=>je(oe,An,[]).push(xn)),an.preStyleProps.forEach((An,Ui)=>{if(An.size){let pr=me.get(Ui);pr||me.set(Ui,pr=new Set),An.forEach((oi,jo)=>pr.add(jo))}}),an.postStyleProps.forEach((An,Ui)=>{let pr=Ne.get(Ui);pr||Ne.set(Ui,pr=new Set),An.forEach((oi,jo)=>pr.add(jo))})});if(Ci.length){const Nt=[];Ci.forEach($t=>{Nt.push(function ei(){return new A.wOt(3505,!1)}())}),Ts.forEach($t=>$t.destroy()),this.reportError(Nt)}const ar=new Map,Zr=new Map;Z.forEach(Nt=>{const $t=Nt.element;D.has($t)&&(Zr.set($t,$t),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,ar))}),N.forEach(Nt=>{const $t=Nt.element;this._getPreviousPlayers($t,!1,Nt.namespaceId,Nt.triggerName,null).forEach(xn=>{je(ar,$t,[]).push(xn),xn.destroy()})});const so=Gt.filter(Nt=>Ka(Nt,me,Ne)),Vo=new Map;Ni(Vo,this.driver,fr,Ne,re.kp).forEach(Nt=>{Ka(Nt,me,Ne)&&so.push(Nt)});const kn=new Map;bt.forEach((Nt,$t)=>{Ni(kn,this.driver,new Set(Nt),me,re.FX)}),so.forEach(Nt=>{const $t=Vo.get(Nt),on=kn.get(Nt);Vo.set(Nt,new Map([...$t?.entries()??[],...on?.entries()??[]]))});const Cl=[],Hl=[],rl={};Z.forEach(Nt=>{const{element:$t,player:on,instruction:xn}=Nt;if(D.has($t)){if(ot.has($t))return on.onDestroy(()=>zr($t,xn.toStyles)),on.disabled=!0,on.overrideTotalTime(xn.totalTime),void N.push(on);let Pr=rl;if(Zr.size>1){let Fi=$t;const Ds=[];for(;Fi=Fi.parentNode;){const an=Zr.get(Fi);if(an){Pr=an;break}Ds.push(Fi)}Ds.forEach(an=>Zr.set(an,Pr))}const ws=this._buildAnimation(on.namespaceId,xn,ar,H,kn,Vo);if(on.setRealPlayer(ws),Pr===rl)Cl.push(on);else{const Fi=this.playersByElement.get(Pr);Fi&&Fi.length&&(on.parentPlayer=Zt(Fi)),N.push(on)}}else ci($t,xn.fromStyles),on.onDestroy(()=>zr($t,xn.toStyles)),Hl.push(on),ot.has($t)&&N.push(on)}),Hl.forEach(Nt=>{const $t=H.get(Nt.element);if($t&&$t.length){const on=Zt($t);Nt.setRealPlayer(on)}}),N.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<Gt.length;Nt++){const $t=Gt[Nt],on=$t[qr];if(_i($t,Pe),on&&on.hasAnimation)continue;let xn=[];if(oe.size){let ws=oe.get($t);ws&&ws.length&&xn.push(...ws);let Fi=this.driver.query($t,Qt,!0);for(let Ds=0;Ds<Fi.length;Ds++){let an=oe.get(Fi[Ds]);an&&an.length&&xn.push(...an)}}const Pr=xn.filter(ws=>!ws.destroyed);Pr.length?_o(this,$t,Pr):this.processLeaveNode($t)}return Gt.length=0,Cl.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const $t=this.players.indexOf(Nt);this.players.splice($t,1)}),Nt.play()}),Cl}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,p,D,N,H){let Z=[];if(p){const oe=this.playersByQueriedElement.get(f);oe&&(Z=oe)}else{const oe=this.playersByElement.get(f);if(oe){const me=!H||H==as;oe.forEach(Ne=>{Ne.queued||!me&&Ne.triggerName!=N||Z.push(Ne)})}}return(D||N)&&(Z=Z.filter(oe=>!(D&&D!=oe.namespaceId||N&&N!=oe.triggerName))),Z}_beforeAnimationBuild(f,p,D){const H=p.element,Z=p.isRemovalTransition?void 0:f,oe=p.isRemovalTransition?void 0:p.triggerName;for(const me of p.timelines){const Ne=me.element,ot=Ne!==H,et=je(D,Ne,[]);this._getPreviousPlayers(Ne,ot,Z,oe,p.toState).forEach(bt=>{const It=bt.getRealPlayer();It.beforeDestroy&&It.beforeDestroy(),bt.destroy(),et.push(bt)})}ci(H,p.fromStyles)}_buildAnimation(f,p,D,N,H,Z){const oe=p.triggerName,me=p.element,Ne=[],ot=new Set,et=new Set,Rt=p.timelines.map(It=>{const pt=It.element;ot.add(pt);const Gt=pt[qr];if(Gt&&Gt.removedBeforeQueried)return new re.sf(It.duration,It.delay);const Nn=pt!==me,fr=function Aa(T){const f=[];return Fs(T,f),f}((D.get(pt)||Sa).map(ar=>ar.getRealPlayer())).filter(ar=>!!ar.element&&ar.element===pt),_n=H.get(pt),er=Z.get(pt),Ts=ke(this._normalizer,It.keyframes,_n,er),Ci=this._buildPlayer(It,Ts,fr);if(It.subTimeline&&N&&et.add(pt),Nn){const ar=new Vt(f,oe,pt);ar.setRealPlayer(Ci),Ne.push(ar)}return Ci});Ne.forEach(It=>{je(this.playersByQueriedElement,It.element,[]).push(It),It.onDone(()=>function ea(T,f,p){let D=T.get(f);if(D){if(D.length){const N=D.indexOf(p);D.splice(N,1)}0==D.length&&T.delete(f)}return D}(this.playersByQueriedElement,It.element,It))}),ot.forEach(It=>sn(It,mt));const bt=Zt(Rt);return bt.onDestroy(()=>{ot.forEach(It=>_i(It,mt)),zr(me,p.toStyles)}),et.forEach(It=>{je(N,It,[]).push(bt)}),bt}_buildPlayer(f,p,D){return p.length>0?this.driver.animate(f.element,p,f.duration,f.delay,f.easing,D):new re.sf(f.duration,f.delay)}}class Vt{constructor(f,p,D){this.namespaceId=f,this.triggerName=p,this.element=D,this._player=new re.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((p,D)=>{p.forEach(N=>Oe(f,D,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const p=this._player;p.triggerCallback&&f.onStart(()=>p.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,p){je(this._queuedCallbacks,f,[]).push(p)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const p=this._player;p.triggerCallback&&p.triggerCallback(f)}}function ta(T){return T&&1===T.nodeType}function ba(T,f){const p=T.style.display;return T.style.display=f??"none",p}function Ni(T,f,p,D,N){const H=[];p.forEach(me=>H.push(ba(me)));const Z=[];D.forEach((me,Ne)=>{const ot=new Map;me.forEach(et=>{const Rt=f.computeStyle(Ne,et,N);ot.set(et,Rt),(!Rt||0==Rt.length)&&(Ne[qr]=Un,Z.push(Ne))}),T.set(Ne,ot)});let oe=0;return p.forEach(me=>ba(me,H[oe++])),Z}function yo(T,f){const p=new Map;if(T.forEach(oe=>p.set(oe,[])),0==f.length)return p;const N=new Set(f),H=new Map;function Z(oe){if(!oe)return 1;let me=H.get(oe);if(me)return me;const Ne=oe.parentNode;return me=p.has(Ne)?Ne:N.has(Ne)?1:Z(Ne),H.set(oe,me),me}return f.forEach(oe=>{const me=Z(oe);1!==me&&p.get(me).push(oe)}),p}function sn(T,f){T.classList?.add(f)}function _i(T,f){T.classList?.remove(f)}function _o(T,f,p){Zt(p).onDone(()=>T.processLeaveNode(f))}function Fs(T,f){for(let p=0;p<T.length;p++){const D=T[p];D instanceof re.ui?Fs(D.players,f):f.push(D)}}function Ka(T,f,p){const D=p.get(T);if(!D)return!1;let N=f.get(T);return N?D.forEach(H=>N.add(H)):f.set(T,D),p.delete(T),!0}class Mr{constructor(f,p,D){this._driver=p,this._normalizer=D,this._triggerCache={},this.onRemovalComplete=(N,H)=>{},this._transitionEngine=new Oo(f.body,p,D),this._timelineEngine=new Fn(f.body,p,D),this._transitionEngine.onRemovalComplete=(N,H)=>this.onRemovalComplete(N,H)}registerTrigger(f,p,D,N,H){const Z=f+"-"+N;let oe=this._triggerCache[Z];if(!oe){const me=[],ot=Ta(this._driver,H,me,[]);if(me.length)throw function Tr(){return new A.wOt(3404,!1)}();oe=function Ji(T,f,p){return new qt(T,f,p)}(N,ot,this._normalizer),this._triggerCache[Z]=oe}this._transitionEngine.registerTrigger(p,N,oe)}register(f,p){this._transitionEngine.register(f,p)}destroy(f,p){this._transitionEngine.destroy(f,p)}onInsert(f,p,D,N){this._transitionEngine.insertNode(f,p,D,N)}onRemove(f,p,D){this._transitionEngine.removeNode(f,p,D)}disableAnimations(f,p){this._transitionEngine.markElementAsDisabled(f,p)}process(f,p,D,N){if("@"==D.charAt(0)){const[H,Z]=J(D);this._timelineEngine.command(H,p,Z,N)}else this._transitionEngine.trigger(f,p,D,N)}listen(f,p,D,N,H){if("@"==D.charAt(0)){const[Z,oe]=J(D);return this._timelineEngine.listen(Z,p,oe,H)}return this._transitionEngine.listen(f,p,D,N,H)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}class Ra{static{this.initialStylesByElement=new WeakMap}constructor(f,p,D){this._element=f,this._startStyles=p,this._endStyles=D,this._state=0;let N=Ra.initialStylesByElement.get(f);N||Ra.initialStylesByElement.set(f,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zr(this._element,this._initialStyles),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ra.initialStylesByElement.delete(this._element),this._startStyles&&(ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),zr(this._element,this._initialStyles),this._state=3)}}function Na(T){let f=null;return T.forEach((p,D)=>{(function Us(T){return"display"===T||"position"===T})(D)&&(f=f||new Map,f.set(D,p))}),f}class Xs{constructor(f,p,D,N){this.element=f,this.keyframes=p,this.options=D,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=D.duration,this._delay=D.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const p=()=>this._onFinish();this.domPlayer.addEventListener("finish",p),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",p)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const p=[];return f.forEach(D=>{p.push(Object.fromEntries(D))}),p}_triggerWebAnimation(f,p,D){return f.animate(this._convertKeyframesToObject(p),D)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((D,N)=>{"offset"!==N&&f.set(N,this._finished?D:fs(this.element,N))}),this.currentSnapshot=f}triggerCallback(f){const p="start"===f?this._onStartFns:this._onDoneFns;p.forEach(D=>D()),p.length=0}}class vo{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}containsElement(f,p){return Sn(f,p)}getParentElement(f){return he(f)}query(f,p,D){return wr(f,p,D)}computeStyle(f,p,D){return fs(f,p)}animate(f,p,D,N,H,Z=[]){const me={duration:D,delay:N,fill:0==N?"both":"forwards"};H&&(me.easing=H);const Ne=new Map,ot=Z.filter(bt=>bt instanceof Xs);(function Ws(T,f){return 0===T||0===f})(D,N)&&ot.forEach(bt=>{bt.currentSnapshot.forEach((It,pt)=>Ne.set(pt,It))});let et=function Rr(T){return T.length?T[0]instanceof Map?T:T.map(f=>new Map(Object.entries(f))):[]}(p).map(bt=>new Map(bt));et=function Ea(T,f,p){if(p.size&&f.length){let D=f[0],N=[];if(p.forEach((H,Z)=>{D.has(Z)||N.push(Z),D.set(Z,H)}),N.length)for(let H=1;H<f.length;H++){let Z=f[H];N.forEach(oe=>Z.set(oe,fs(T,oe)))}}return f}(f,et,Ne);const Rt=function Lt(T,f){let p=null,D=null;return Array.isArray(f)&&f.length?(p=Na(f[0]),f.length>1&&(D=Na(f[f.length-1]))):f instanceof Map&&(p=Na(f)),p||D?new Ra(T,p,D):null}(f,et);return new Xs(f,et,me,Rt)}}const vi="@.disabled";class Bs{constructor(f,p,D,N){this.namespaceId=f,this.delegate=p,this.engine=D,this._onDestroy=N,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,p){return this.delegate.createElement(f,p)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,p){this.delegate.appendChild(f,p),this.engine.onInsert(this.namespaceId,p,f,!1)}insertBefore(f,p,D,N=!0){this.delegate.insertBefore(f,p,D),this.engine.onInsert(this.namespaceId,p,f,N)}removeChild(f,p,D){this.parentNode(p)&&this.engine.onRemove(this.namespaceId,p,this.delegate)}selectRootElement(f,p){return this.delegate.selectRootElement(f,p)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,p,D,N){this.delegate.setAttribute(f,p,D,N)}removeAttribute(f,p,D){this.delegate.removeAttribute(f,p,D)}addClass(f,p){this.delegate.addClass(f,p)}removeClass(f,p){this.delegate.removeClass(f,p)}setStyle(f,p,D,N){this.delegate.setStyle(f,p,D,N)}removeStyle(f,p,D){this.delegate.removeStyle(f,p,D)}setProperty(f,p,D){"@"==p.charAt(0)&&p==vi?this.disableAnimations(f,!!D):this.delegate.setProperty(f,p,D)}setValue(f,p){this.delegate.setValue(f,p)}listen(f,p,D){return this.delegate.listen(f,p,D)}disableAnimations(f,p){this.engine.disableAnimations(f,p)}}class Hi extends Bs{constructor(f,p,D,N,H){super(p,D,N,H),this.factory=f,this.namespaceId=p}setProperty(f,p,D){"@"==p.charAt(0)?"."==p.charAt(1)&&p==vi?this.disableAnimations(f,D=void 0===D||!!D):this.engine.process(this.namespaceId,f,p.slice(1),D):this.delegate.setProperty(f,p,D)}listen(f,p,D){if("@"==p.charAt(0)){const N=function ko(T){switch(T){case"body":return document.body;case"document":return document;case"window":return window;default:return T}}(f);let H=p.slice(1),Z="";return"@"!=H.charAt(0)&&([H,Z]=function xo(T){const f=T.indexOf(".");return[T.substring(0,f),T.slice(f+1)]}(H)),this.engine.listen(this.namespaceId,N,H,Z,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,D,oe)})}return this.delegate.listen(f,p,D)}}class _s{constructor(f,p,D){this.delegate=f,this.engine=p,this._zone=D,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(N,H)=>{H?.removeChild(null,N)}}createRenderer(f,p){const N=this.delegate.createRenderer(f,p);if(!f||!p?.data?.animation){const Ne=this._rendererCache;let ot=Ne.get(N);return ot||(ot=new Bs("",N,this.engine,()=>Ne.delete(N)),Ne.set(N,ot)),ot}const H=p.id,Z=p.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,f);const oe=Ne=>{Array.isArray(Ne)?Ne.forEach(oe):this.engine.registerTrigger(H,Z,f,Ne.name,Ne)};return p.data.animation.forEach(oe),new Hi(this,Z,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(f,p,D){if(f>=0&&f<this._microtaskId)return void this._zone.run(()=>p(D));const N=this._animationCallbacksBuffer;0==N.length&&queueMicrotask(()=>{this._zone.run(()=>{N.forEach(H=>{const[Z,oe]=H;Z(oe)}),this._animationCallbacksBuffer=[]})}),N.push([p,D])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Ft=[{provide:li,useFactory:function Eo(){return new en}},{provide:Mr,useClass:(()=>{class T extends Mr{constructor(p,D,N){super(p,D,N)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(D){return new(D||T)(A.KVO(x.qQ),A.KVO(yi),A.KVO(li))}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})()},{provide:A._9s,useFactory:function Lo(T,f,p){return new _s(T,f,p)},deps:[w.B7,Mr,A.SKi]}],Zs=[{provide:yi,useFactory:()=>new vo},{provide:A.bc$,useValue:"BrowserAnimations"},...Ft],Mi=[{provide:yi,useClass:kr},{provide:A.bc$,useValue:"NoopAnimations"},...Ft];let Vr=(()=>{class T{static withConfig(p){return{ngModule:T,providers:p.disableAnimations?Mi:Zs}}static{this.\u0275fac=function(D){return new(D||T)}}static{this.\u0275mod=A.$C({type:T})}static{this.\u0275inj=A.G2t({providers:Zs,imports:[w.Bb]})}}return T})();var vs=z(7535);const Pl=[{path:"",canMatch:[()=>(0,A.WQX)(vs.u).isLogged],loadChildren:()=>Promise.all([z.e(341),z.e(207)]).then(z.bind(z,6207)).then(T=>T.HomeModule)},{path:"",canMatch:[()=>!(0,A.WQX)(vs.u).isLogged],loadChildren:()=>Promise.all([z.e(341),z.e(642)]).then(z.bind(z,9642)).then(T=>T.PublishModule)}];let Co=(()=>{class T{static \u0275fac=function(D){return new(D||T)};static \u0275mod=A.$C({type:T});static \u0275inj=A.G2t({imports:[le.iI.forRoot(Pl),le.iI]})}return T})();var $i=z(467),ra=z(7673),Oi=z(1985),Oa=z(8455),ii=z(274),Js=z(5964),ls=z(6354),tn=z(980),Pn=z(5558);class _l{}class Fo{}class es{constructor(f){this.normalizedNames=new Map,this.lazyUpdate=null,f?"string"==typeof f?this.lazyInit=()=>{this.headers=new Map,f.split("\n").forEach(p=>{const D=p.indexOf(":");if(D>0){const N=p.slice(0,D),H=N.toLowerCase(),Z=p.slice(D+1).trim();this.maybeSetNormalizedName(N,H),this.headers.has(H)?this.headers.get(H).push(Z):this.headers.set(H,[Z])}})}:typeof Headers<"u"&&f instanceof Headers?(this.headers=new Map,f.forEach((p,D)=>{this.setHeaderEntries(D,p)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(f).forEach(([p,D])=>{this.setHeaderEntries(p,D)})}:this.headers=new Map}has(f){return this.init(),this.headers.has(f.toLowerCase())}get(f){this.init();const p=this.headers.get(f.toLowerCase());return p&&p.length>0?p[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(f){return this.init(),this.headers.get(f.toLowerCase())||null}append(f,p){return this.clone({name:f,value:p,op:"a"})}set(f,p){return this.clone({name:f,value:p,op:"s"})}delete(f,p){return this.clone({name:f,value:p,op:"d"})}maybeSetNormalizedName(f,p){this.normalizedNames.has(p)||this.normalizedNames.set(p,f)}init(){this.lazyInit&&(this.lazyInit instanceof es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(f=>this.applyUpdate(f)),this.lazyUpdate=null))}copyFrom(f){f.init(),Array.from(f.headers.keys()).forEach(p=>{this.headers.set(p,f.headers.get(p)),this.normalizedNames.set(p,f.normalizedNames.get(p))})}clone(f){const p=new es;return p.lazyInit=this.lazyInit&&this.lazyInit instanceof es?this.lazyInit:this,p.lazyUpdate=(this.lazyUpdate||[]).concat([f]),p}applyUpdate(f){const p=f.name.toLowerCase();switch(f.op){case"a":case"s":let D=f.value;if("string"==typeof D&&(D=[D]),0===D.length)return;this.maybeSetNormalizedName(f.name,p);const N=("a"===f.op?this.headers.get(p):void 0)||[];N.push(...D),this.headers.set(p,N);break;case"d":const H=f.value;if(H){let Z=this.headers.get(p);if(!Z)return;Z=Z.filter(oe=>-1===H.indexOf(oe)),0===Z.length?(this.headers.delete(p),this.normalizedNames.delete(p)):this.headers.set(p,Z)}else this.headers.delete(p),this.normalizedNames.delete(p)}}setHeaderEntries(f,p){const D=(Array.isArray(p)?p:[p]).map(H=>H.toString()),N=f.toLowerCase();this.headers.set(N,D),this.maybeSetNormalizedName(f,N)}forEach(f){this.init(),Array.from(this.normalizedNames.keys()).forEach(p=>f(this.normalizedNames.get(p),this.headers.get(p)))}}class xl{encodeKey(f){return Pa(f)}encodeValue(f){return Pa(f)}decodeKey(f){return decodeURIComponent(f)}decodeValue(f){return decodeURIComponent(f)}}const En=/%(\d[a-f0-9])/gi,qa={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pa(T){return encodeURIComponent(T).replace(En,(f,p)=>qa[p]??f)}function jr(T){return`${T}`}class Wi{constructor(f={}){if(this.updates=null,this.cloneFrom=null,this.encoder=f.encoder||new xl,f.fromString){if(f.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ia(T,f){const p=new Map;return T.length>0&&T.replace(/^\?/,"").split("&").forEach(N=>{const H=N.indexOf("="),[Z,oe]=-1==H?[f.decodeKey(N),""]:[f.decodeKey(N.slice(0,H)),f.decodeValue(N.slice(H+1))],me=p.get(Z)||[];me.push(oe),p.set(Z,me)}),p}(f.fromString,this.encoder)}else f.fromObject?(this.map=new Map,Object.keys(f.fromObject).forEach(p=>{const D=f.fromObject[p],N=Array.isArray(D)?D.map(jr):[jr(D)];this.map.set(p,N)})):this.map=null}has(f){return this.init(),this.map.has(f)}get(f){this.init();const p=this.map.get(f);return p?p[0]:null}getAll(f){return this.init(),this.map.get(f)||null}keys(){return this.init(),Array.from(this.map.keys())}append(f,p){return this.clone({param:f,value:p,op:"a"})}appendAll(f){const p=[];return Object.keys(f).forEach(D=>{const N=f[D];Array.isArray(N)?N.forEach(H=>{p.push({param:D,value:H,op:"a"})}):p.push({param:D,value:N,op:"a"})}),this.clone(p)}set(f,p){return this.clone({param:f,value:p,op:"s"})}delete(f,p){return this.clone({param:f,value:p,op:"d"})}toString(){return this.init(),this.keys().map(f=>{const p=this.encoder.encodeKey(f);return this.map.get(f).map(D=>p+"="+this.encoder.encodeValue(D)).join("&")}).filter(f=>""!==f).join("&")}clone(f){const p=new Wi({encoder:this.encoder});return p.cloneFrom=this.cloneFrom||this,p.updates=(this.updates||[]).concat(f),p}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(f=>this.map.set(f,this.cloneFrom.map.get(f))),this.updates.forEach(f=>{switch(f.op){case"a":case"s":const p=("a"===f.op?this.map.get(f.param):void 0)||[];p.push(jr(f.value)),this.map.set(f.param,p);break;case"d":if(void 0===f.value){this.map.delete(f.param);break}{let D=this.map.get(f.param)||[];const N=D.indexOf(jr(f.value));-1!==N&&D.splice(N,1),D.length>0?this.map.set(f.param,D):this.map.delete(f.param)}}}),this.cloneFrom=this.updates=null)}}class sa{constructor(){this.map=new Map}set(f,p){return this.map.set(f,p),this}get(f){return this.map.has(f)||this.map.set(f,f.defaultValue()),this.map.get(f)}delete(f){return this.map.delete(f),this}has(f){return this.map.has(f)}keys(){return this.map.keys()}}function to(T){return typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer}function v(T){return typeof Blob<"u"&&T instanceof Blob}function j(T){return typeof FormData<"u"&&T instanceof FormData}class B{constructor(f,p,D,N){let H;if(this.url=p,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=f.toUpperCase(),function eo(T){switch(T){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||N?(this.body=void 0!==D?D:null,H=N):H=D,H&&(this.reportProgress=!!H.reportProgress,this.withCredentials=!!H.withCredentials,H.responseType&&(this.responseType=H.responseType),H.headers&&(this.headers=H.headers),H.context&&(this.context=H.context),H.params&&(this.params=H.params),this.transferCache=H.transferCache),this.headers??=new es,this.context??=new sa,this.params){const Z=this.params.toString();if(0===Z.length)this.urlWithParams=p;else{const oe=p.indexOf("?");this.urlWithParams=p+(-1===oe?"?":oe<p.length-1?"&":"")+Z}}else this.params=new Wi,this.urlWithParams=p}serializeBody(){return null===this.body?null:"string"==typeof this.body||to(this.body)||v(this.body)||j(this.body)||function R(T){return typeof URLSearchParams<"u"&&T instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Wi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j(this.body)?null:v(this.body)?this.body.type||null:to(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(f={}){const p=f.method||this.method,D=f.url||this.url,N=f.responseType||this.responseType,H=f.transferCache??this.transferCache,Z=void 0!==f.body?f.body:this.body,oe=f.withCredentials??this.withCredentials,me=f.reportProgress??this.reportProgress;let Ne=f.headers||this.headers,ot=f.params||this.params;const et=f.context??this.context;return void 0!==f.setHeaders&&(Ne=Object.keys(f.setHeaders).reduce((Rt,bt)=>Rt.set(bt,f.setHeaders[bt]),Ne)),f.setParams&&(ot=Object.keys(f.setParams).reduce((Rt,bt)=>Rt.set(bt,f.setParams[bt]),ot)),new B(p,D,Z,{params:ot,headers:Ne,context:et,reportProgress:me,responseType:N,withCredentials:oe,transferCache:H})}}var ne=function(T){return T[T.Sent=0]="Sent",T[T.UploadProgress=1]="UploadProgress",T[T.ResponseHeader=2]="ResponseHeader",T[T.DownloadProgress=3]="DownloadProgress",T[T.Response=4]="Response",T[T.User=5]="User",T}(ne||{});class Se{constructor(f,p=200,D="OK"){this.headers=f.headers||new es,this.status=void 0!==f.status?f.status:p,this.statusText=f.statusText||D,this.url=f.url||null,this.ok=this.status>=200&&this.status<300}}class qe extends Se{constructor(f={}){super(f),this.type=ne.ResponseHeader}clone(f={}){return new qe({headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class gt extends Se{constructor(f={}){super(f),this.type=ne.Response,this.body=void 0!==f.body?f.body:null}clone(f={}){return new gt({body:void 0!==f.body?f.body:this.body,headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class Bn extends Se{constructor(f){super(f,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${f.url||"(unknown url)"}`:`Http failure response for ${f.url||"(unknown url)"}: ${f.status} ${f.statusText}`,this.error=f.error||null}}function rr(T,f){return{body:f,headers:T.headers,context:T.context,observe:T.observe,params:T.params,reportProgress:T.reportProgress,responseType:T.responseType,withCredentials:T.withCredentials,transferCache:T.transferCache}}let $n=(()=>{class T{constructor(p){this.handler=p}request(p,D,N={}){let H;if(p instanceof B)H=p;else{let me,Ne;me=N.headers instanceof es?N.headers:new es(N.headers),N.params&&(Ne=N.params instanceof Wi?N.params:new Wi({fromObject:N.params})),H=new B(p,D,void 0!==N.body?N.body:null,{headers:me,context:N.context,params:Ne,reportProgress:N.reportProgress,responseType:N.responseType||"json",withCredentials:N.withCredentials,transferCache:N.transferCache})}const Z=(0,ra.of)(H).pipe((0,ii.H)(me=>this.handler.handle(me)));if(p instanceof B||"events"===N.observe)return Z;const oe=Z.pipe((0,Js.p)(me=>me instanceof gt));switch(N.observe||"body"){case"body":switch(H.responseType){case"arraybuffer":return oe.pipe((0,ls.T)(me=>{if(null!==me.body&&!(me.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return me.body}));case"blob":return oe.pipe((0,ls.T)(me=>{if(null!==me.body&&!(me.body instanceof Blob))throw new Error("Response is not a Blob.");return me.body}));case"text":return oe.pipe((0,ls.T)(me=>{if(null!==me.body&&"string"!=typeof me.body)throw new Error("Response is not a string.");return me.body}));default:return oe.pipe((0,ls.T)(me=>me.body))}case"response":return oe;default:throw new Error(`Unreachable: unhandled observe type ${N.observe}}`)}}delete(p,D={}){return this.request("DELETE",p,D)}get(p,D={}){return this.request("GET",p,D)}head(p,D={}){return this.request("HEAD",p,D)}jsonp(p,D){return this.request("JSONP",p,{params:(new Wi).append(D,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(p,D={}){return this.request("OPTIONS",p,D)}patch(p,D,N={}){return this.request("PATCH",p,rr(N,D))}post(p,D,N={}){return this.request("POST",p,rr(N,D))}put(p,D,N={}){return this.request("PUT",p,rr(N,D))}static{this.\u0275fac=function(D){return new(D||T)(A.KVO(_l))}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();const vr=/^\)\]\}',?\n/;function Dr(T){if(T.url)return T.url;const f="X-Request-URL".toLocaleLowerCase();return T.headers.get(f)}let Ei=(()=>{class T{constructor(){this.fetchImpl=(0,A.WQX)(no,{optional:!0})?.fetch??((...p)=>globalThis.fetch(...p)),this.ngZone=(0,A.WQX)(A.SKi)}handle(p){return new Oi.c(D=>{const N=new AbortController;return this.doRequest(p,N.signal,D).then(ki,H=>D.error(new Bn({error:H}))),()=>N.abort()})}doRequest(p,D,N){var H=this;return(0,$i.A)(function*(){const Z=H.createRequestInit(p);let oe;try{const It=H.ngZone.runOutsideAngular(()=>H.fetchImpl(p.urlWithParams,{signal:D,...Z}));(function cs(T){T.then(ki,ki)})(It),N.next({type:ne.Sent}),oe=yield It}catch(It){return void N.error(new Bn({error:It,status:It.status??0,statusText:It.statusText,url:p.urlWithParams,headers:It.headers}))}const me=new es(oe.headers),Ne=oe.statusText,ot=Dr(oe)??p.urlWithParams;let et=oe.status,Rt=null;if(p.reportProgress&&N.next(new qe({headers:me,status:et,statusText:Ne,url:ot})),oe.body){const It=oe.headers.get("content-length"),pt=[],Gt=oe.body.getReader();let fr,_n,Nn=0;const er=typeof Zone<"u"&&Zone.current;yield H.ngZone.runOutsideAngular((0,$i.A)(function*(){for(;;){const{done:Ci,value:ar}=yield Gt.read();if(Ci)break;if(pt.push(ar),Nn+=ar.length,p.reportProgress){_n="text"===p.responseType?(_n??"")+(fr??=new TextDecoder).decode(ar,{stream:!0}):void 0;const Zr=()=>N.next({type:ne.DownloadProgress,total:It?+It:void 0,loaded:Nn,partialText:_n});er?er.run(Zr):Zr()}}}));const Ts=H.concatChunks(pt,Nn);try{const Ci=oe.headers.get("Content-Type")??"";Rt=H.parseBody(p,Ts,Ci)}catch(Ci){return void N.error(new Bn({error:Ci,headers:new es(oe.headers),status:oe.status,statusText:oe.statusText,url:Dr(oe)??p.urlWithParams}))}}0===et&&(et=Rt?200:0),et>=200&&et<300?(N.next(new gt({body:Rt,headers:me,status:et,statusText:Ne,url:ot})),N.complete()):N.error(new Bn({error:Rt,headers:me,status:et,statusText:Ne,url:ot}))})()}parseBody(p,D,N){switch(p.responseType){case"json":const H=(new TextDecoder).decode(D).replace(vr,"");return""===H?null:JSON.parse(H);case"text":return(new TextDecoder).decode(D);case"blob":return new Blob([D],{type:N});case"arraybuffer":return D.buffer}}createRequestInit(p){const D={},N=p.withCredentials?"include":void 0;if(p.headers.forEach((H,Z)=>D[H]=Z.join(",")),p.headers.has("Accept")||(D.Accept="application/json, text/plain, */*"),!p.headers.has("Content-Type")){const H=p.detectContentTypeHeader();null!==H&&(D["Content-Type"]=H)}return{body:p.serializeBody(),method:p.method,headers:D,credentials:N}}concatChunks(p,D){const N=new Uint8Array(D);let H=0;for(const Z of p)N.set(Z,H),H+=Z.length;return N}static{this.\u0275fac=function(D){return new(D||T)}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();class no{}function ki(){}function Es(T,f){return f(T)}function oa(T,f){return(p,D)=>f.intercept(p,{handle:N=>T(N,D)})}const Bo=new A.nKC(""),Or=new A.nKC(""),aa=new A.nKC(""),la=new A.nKC("",{providedIn:"root",factory:()=>!0});function ca(){let T=null;return(f,p)=>{null===T&&(T=((0,A.WQX)(Bo,{optional:!0})??[]).reduceRight(oa,Es));const D=(0,A.WQX)(A.TgB);if((0,A.WQX)(la)){const H=D.add();return T(f,p).pipe((0,tn.j)(()=>D.remove(H)))}return T(f,p)}}let sc=(()=>{class T extends _l{constructor(p,D){super(),this.backend=p,this.injector=D,this.chain=null,this.pendingTasks=(0,A.WQX)(A.TgB),this.contributeToStability=(0,A.WQX)(la)}handle(p){if(null===this.chain){const D=Array.from(new Set([...this.injector.get(Or),...this.injector.get(aa,[])]));this.chain=D.reduceRight((N,H)=>function Uo(T,f,p){return(D,N)=>(0,A.N4e)(p,()=>f(D,H=>T(H,N)))}(N,H,this.injector),Es)}if(this.contributeToStability){const D=this.pendingTasks.add();return this.chain(p,N=>this.backend.handle(N)).pipe((0,tn.j)(()=>this.pendingTasks.remove(D)))}return this.chain(p,D=>this.backend.handle(D))}static{this.\u0275fac=function(D){return new(D||T)(A.KVO(Fo),A.KVO(A.uvJ))}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();const xi=/^\)\]\}',?\n/;let xa=(()=>{class T{constructor(p){this.xhrFactory=p}handle(p){if("JSONP"===p.method)throw new A.wOt(-2800,!1);const D=this.xhrFactory;return(D.\u0275loadImpl?(0,Oa.H)(D.\u0275loadImpl()):(0,ra.of)(null)).pipe((0,Pn.n)(()=>new Oi.c(H=>{const Z=D.build();if(Z.open(p.method,p.urlWithParams),p.withCredentials&&(Z.withCredentials=!0),p.headers.forEach((pt,Gt)=>Z.setRequestHeader(pt,Gt.join(","))),p.headers.has("Accept")||Z.setRequestHeader("Accept","application/json, text/plain, */*"),!p.headers.has("Content-Type")){const pt=p.detectContentTypeHeader();null!==pt&&Z.setRequestHeader("Content-Type",pt)}if(p.responseType){const pt=p.responseType.toLowerCase();Z.responseType="json"!==pt?pt:"text"}const oe=p.serializeBody();let me=null;const Ne=()=>{if(null!==me)return me;const pt=Z.statusText||"OK",Gt=new es(Z.getAllResponseHeaders()),Nn=function Is(T){return"responseURL"in T&&T.responseURL?T.responseURL:/^X-Request-URL:/m.test(T.getAllResponseHeaders())?T.getResponseHeader("X-Request-URL"):null}(Z)||p.url;return me=new qe({headers:Gt,status:Z.status,statusText:pt,url:Nn}),me},ot=()=>{let{headers:pt,status:Gt,statusText:Nn,url:fr}=Ne(),_n=null;204!==Gt&&(_n=typeof Z.response>"u"?Z.responseText:Z.response),0===Gt&&(Gt=_n?200:0);let er=Gt>=200&&Gt<300;if("json"===p.responseType&&"string"==typeof _n){const Ts=_n;_n=_n.replace(xi,"");try{_n=""!==_n?JSON.parse(_n):null}catch(Ci){_n=Ts,er&&(er=!1,_n={error:Ci,text:_n})}}er?(H.next(new gt({body:_n,headers:pt,status:Gt,statusText:Nn,url:fr||void 0})),H.complete()):H.error(new Bn({error:_n,headers:pt,status:Gt,statusText:Nn,url:fr||void 0}))},et=pt=>{const{url:Gt}=Ne(),Nn=new Bn({error:pt,status:Z.status||0,statusText:Z.statusText||"Unknown Error",url:Gt||void 0});H.error(Nn)};let Rt=!1;const bt=pt=>{Rt||(H.next(Ne()),Rt=!0);let Gt={type:ne.DownloadProgress,loaded:pt.loaded};pt.lengthComputable&&(Gt.total=pt.total),"text"===p.responseType&&Z.responseText&&(Gt.partialText=Z.responseText),H.next(Gt)},It=pt=>{let Gt={type:ne.UploadProgress,loaded:pt.loaded};pt.lengthComputable&&(Gt.total=pt.total),H.next(Gt)};return Z.addEventListener("load",ot),Z.addEventListener("error",et),Z.addEventListener("timeout",et),Z.addEventListener("abort",et),p.reportProgress&&(Z.addEventListener("progress",bt),null!==oe&&Z.upload&&Z.upload.addEventListener("progress",It)),Z.send(oe),H.next({type:ne.Sent}),()=>{Z.removeEventListener("error",et),Z.removeEventListener("abort",et),Z.removeEventListener("load",ot),Z.removeEventListener("timeout",et),p.reportProgress&&(Z.removeEventListener("progress",bt),null!==oe&&Z.upload&&Z.upload.removeEventListener("progress",It)),Z.readyState!==Z.DONE&&Z.abort()}})))}static{this.\u0275fac=function(D){return new(D||T)(A.KVO(x.N0))}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();const Cs=new A.nKC(""),ro=new A.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),io=new A.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ua{}let La=(()=>{class T{constructor(p,D,N){this.doc=p,this.platform=D,this.cookieName=N,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const p=this.doc.cookie||"";return p!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,x._b)(p,this.cookieName),this.lastCookieString=p),this.lastToken}static{this.\u0275fac=function(D){return new(D||T)(A.KVO(x.qQ),A.KVO(A.Agw),A.KVO(ro))}}static{this.\u0275prov=A.jDH({token:T,factory:T.\u0275fac})}}return T})();function Za(T,f){const p=T.url.toLowerCase();if(!(0,A.WQX)(Cs)||"GET"===T.method||"HEAD"===T.method||p.startsWith("http://")||p.startsWith("https://"))return f(T);const D=(0,A.WQX)(ua).getToken(),N=(0,A.WQX)(io);return null!=D&&!T.headers.has(N)&&(T=T.clone({headers:T.headers.set(N,D)})),f(T)}var Vs=function(T){return T[T.Interceptors=0]="Interceptors",T[T.LegacyInterceptors=1]="LegacyInterceptors",T[T.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",T[T.NoXsrfProtection=3]="NoXsrfProtection",T[T.JsonpSupport=4]="JsonpSupport",T[T.RequestsMadeViaParent=5]="RequestsMadeViaParent",T[T.Fetch=6]="Fetch",T}(Vs||{});function da(...T){const f=[$n,xa,sc,{provide:_l,useExisting:sc},{provide:Fo,useFactory:()=>(0,A.WQX)(Ei,{optional:!0})??(0,A.WQX)(xa)},{provide:Or,useValue:Za,multi:!0},{provide:Cs,useValue:!0},{provide:ua,useClass:La}];for(const p of T)f.push(...p.\u0275providers);return(0,A.EmA)(f)}const ds=new A.nKC("");function ac(){return function Li(T,f){return{\u0275kind:T,\u0275providers:f}}(Vs.LegacyInterceptors,[{provide:ds,useFactory:ca},{provide:Or,useExisting:ds,multi:!0}])}const Ot_firebaseConfig={apiKey:"AIzaSyDomFWYvzoPrTLrP2GrJHtfx-zAcGUieOQ",authDomain:"language-36c6f.firebaseapp.com",databaseURL:"https://language-36c6f-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"language-36c6f",storageBucket:"language-36c6f.appspot.com",messagingSenderId:"83614807032",appId:"1:83614807032:web:dbc34637cc1b80a4191c0d"};var Ut=z(7440),or=z(8579),Yr=z(5621);const Xr=[Ue];let si=(()=>{class T{static \u0275fac=function(D){return new(D||T)};static \u0275mod=A.$C({type:T,bootstrap:[We]});static \u0275inj=A.G2t({providers:[da(ac()),(0,Ut.MW)(()=>(0,Ut.Wp)(Ot_firebaseConfig)),(0,or.lX)(()=>(0,or.C3)()),(0,Yr._q)(()=>(0,Yr.xI)()),$.bg],imports:[w.Bb,Co,Vr,Xr]})}return T})();w.sG().bootstrapModule(si).catch(T=>console.error(T))},4412:(Dt,Ve,z)=>{z.d(Ve,{t:()=>A});var w=z(1413);class A extends w.B{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const x=super._subscribe(re);return!x.closed&&re.next(this._value),x}getValue(){const{hasError:re,thrownError:x,_value:$}=this;if(re)throw x;return this._throwIfClosed(),$}next(re){super.next(this._value=re)}}},1985:(Dt,Ve,z)=>{z.d(Ve,{c:()=>X});var w=z(7707),A=z(8359),le=z(3494),re=z(1203),x=z(1026),$=z(8071),V=z(9786);let X=(()=>{class ge{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const rt=new ge;return rt.source=this,rt.operator=xe,rt}subscribe(xe,rt,_t){const vt=function q(ge){return ge&&ge instanceof w.vU||function K(ge){return ge&&(0,$.T)(ge.next)&&(0,$.T)(ge.error)&&(0,$.T)(ge.complete)}(ge)&&(0,A.Uv)(ge)}(xe)?xe:new w.Ms(xe,rt,_t);return(0,V.Y)(()=>{const{operator:ut,source:rn}=this;vt.add(ut?ut.call(vt,rn):rn?this._subscribe(vt):this._trySubscribe(vt))}),vt}_trySubscribe(xe){try{return this._subscribe(xe)}catch(rt){xe.error(rt)}}forEach(xe,rt){return new(rt=F(rt))((_t,vt)=>{const ut=new w.Ms({next:rn=>{try{xe(rn)}catch(Pt){vt(Pt),ut.unsubscribe()}},error:vt,complete:_t});this.subscribe(ut)})}_subscribe(xe){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(xe)}[le.s](){return this}pipe(...xe){return(0,re.m)(xe)(this)}toPromise(xe){return new(xe=F(xe))((rt,_t)=>{let vt;this.subscribe(ut=>vt=ut,ut=>_t(ut),()=>rt(vt))})}}return ge.create=Me=>new ge(Me),ge})();function F(ge){var Me;return null!==(Me=ge??x.$.Promise)&&void 0!==Me?Me:Promise}},1413:(Dt,Ve,z)=>{z.d(Ve,{B:()=>V});var w=z(1985),A=z(8359);const re=(0,z(1853).L)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=z(7908),$=z(9786);let V=(()=>{class F extends w.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ge=new X(this,this);return ge.operator=q,ge}_throwIfClosed(){if(this.closed)throw new re}next(q){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(q)}})}error(q){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ge}=this;for(;ge.length;)ge.shift().error(q)}})}complete(){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ge,isStopped:Me,observers:xe}=this;return ge||Me?A.Kn:(this.currentObservers=null,xe.push(q),new A.yU(()=>{this.currentObservers=null,(0,x.o)(xe,q)}))}_checkFinalizedStatuses(q){const{hasError:ge,thrownError:Me,isStopped:xe}=this;ge?q.error(Me):xe&&q.complete()}asObservable(){const q=new w.c;return q.source=this,q}}return F.create=(K,q)=>new X(K,q),F})();class X extends V{constructor(K,q){super(),this.destination=K,this.source=q}next(K){var q,ge;null===(ge=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ge||ge.call(q,K)}error(K){var q,ge;null===(ge=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ge||ge.call(q,K)}complete(){var K,q;null===(q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===q||q.call(K)}_subscribe(K){var q,ge;return null!==(ge=null===(q=this.source)||void 0===q?void 0:q.subscribe(K))&&void 0!==ge?ge:A.Kn}}},7707:(Dt,Ve,z)=>{z.d(Ve,{Ms:()=>_t,vU:()=>ge});var w=z(8071),A=z(8359),le=z(1026),re=z(5334),x=z(5343);const $=F("C",void 0,void 0);function F(De,$e,ce){return{kind:De,value:$e,error:ce}}var K=z(9270),q=z(9786);class ge extends A.yU{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,A.Uv)($e)&&$e.add(this)):this.destination=Pt}static create($e,ce,ue){return new _t($e,ce,ue)}next($e){this.isStopped?rn(function X(De){return F("N",De,void 0)}($e),this):this._next($e)}error($e){this.isStopped?rn(function V(De){return F("E",void 0,De)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?rn($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function xe(De,$e){return Me.call(De,$e)}class rt{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:ce}=this;if(ce.next)try{ce.next($e)}catch(ue){vt(ue)}}error($e){const{partialObserver:ce}=this;if(ce.error)try{ce.error($e)}catch(ue){vt(ue)}else vt($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(ce){vt(ce)}}}class _t extends ge{constructor($e,ce,ue){let Ze;if(super(),(0,w.T)($e)||!$e)Ze={next:$e??void 0,error:ce??void 0,complete:ue??void 0};else{let ct;this&&le.$.useDeprecatedNextContext?(ct=Object.create($e),ct.unsubscribe=()=>this.unsubscribe(),Ze={next:$e.next&&xe($e.next,ct),error:$e.error&&xe($e.error,ct),complete:$e.complete&&xe($e.complete,ct)}):Ze=$e}this.destination=new rt(Ze)}}function vt(De){le.$.useDeprecatedSynchronousErrorHandling?(0,q.l)(De):(0,re.m)(De)}function rn(De,$e){const{onStoppedNotification:ce}=le.$;ce&&K.f.setTimeout(()=>ce(De,$e))}const Pt={closed:!0,next:x.l,error:function ut(De){throw De},complete:x.l}},8359:(Dt,Ve,z)=>{z.d(Ve,{Kn:()=>$,yU:()=>x,Uv:()=>V});var w=z(8071);const le=(0,z(1853).L)(F=>function(q){F(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ge,Me)=>`${Me+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var re=z(7908);class x{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:ge}=this;if((0,w.T)(ge))try{ge()}catch(xe){K=xe instanceof le?xe.errors:[xe]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const xe of Me)try{X(xe)}catch(rt){K=K??[],rt instanceof le?K=[...K,...rt.errors]:K.push(rt)}}if(K)throw new le(K)}}add(K){var q;if(K&&K!==this)if(this.closed)X(K);else{if(K instanceof x){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(K)}}_hasParent(K){const{_parentage:q}=this;return q===K||Array.isArray(q)&&q.includes(K)}_addParent(K){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(K),q):q?[q,K]:K}_removeParent(K){const{_parentage:q}=this;q===K?this._parentage=null:Array.isArray(q)&&(0,re.o)(q,K)}remove(K){const{_finalizers:q}=this;q&&(0,re.o)(q,K),K instanceof x&&K._removeParent(this)}}x.EMPTY=(()=>{const F=new x;return F.closed=!0,F})();const $=x.EMPTY;function V(F){return F instanceof x||F&&"closed"in F&&(0,w.T)(F.remove)&&(0,w.T)(F.add)&&(0,w.T)(F.unsubscribe)}function X(F){(0,w.T)(F)?F():F.unsubscribe()}},1026:(Dt,Ve,z)=>{z.d(Ve,{$:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8455:(Dt,Ve,z)=>{z.d(Ve,{H:()=>$e});var w=z(8750),A=z(941),le=z(6745),$=z(1985),X=z(4761),F=z(8071),K=z(5225);function ge(ce,ue){if(!ce)throw new Error("Iterable cannot be null");return new $.c(Ze=>{(0,K.N)(Ze,ue,()=>{const ct=ce[Symbol.asyncIterator]();(0,K.N)(Ze,ue,()=>{ct.next().then(de=>{de.done?Ze.complete():Ze.next(de.value)})},0,!0)})})}var Me=z(5055),xe=z(9858),rt=z(7441),_t=z(5397),vt=z(7953),ut=z(591),rn=z(5196);function $e(ce,ue){return ue?function De(ce,ue){if(null!=ce){if((0,Me.l)(ce))return function re(ce,ue){return(0,w.Tg)(ce).pipe((0,le._)(ue),(0,A.Q)(ue))}(ce,ue);if((0,rt.X)(ce))return function V(ce,ue){return new $.c(Ze=>{let ct=0;return ue.schedule(function(){ct===ce.length?Ze.complete():(Ze.next(ce[ct++]),Ze.closed||this.schedule())})})}(ce,ue);if((0,xe.y)(ce))return function x(ce,ue){return(0,w.Tg)(ce).pipe((0,le._)(ue),(0,A.Q)(ue))}(ce,ue);if((0,vt.T)(ce))return ge(ce,ue);if((0,_t.x)(ce))return function q(ce,ue){return new $.c(Ze=>{let ct;return(0,K.N)(Ze,ue,()=>{ct=ce[X.l](),(0,K.N)(Ze,ue,()=>{let de,be;try{({value:de,done:be}=ct.next())}catch(lt){return void Ze.error(lt)}be?Ze.complete():Ze.next(de)},0,!0)}),()=>(0,F.T)(ct?.return)&&ct.return()})}(ce,ue);if((0,rn.U)(ce))return function Pt(ce,ue){return ge((0,rn.C)(ce),ue)}(ce,ue)}throw(0,ut.L)(ce)}(ce,ue):(0,w.Tg)(ce)}},8750:(Dt,Ve,z)=>{z.d(Ve,{Tg:()=>Me});var w=z(1635),A=z(7441),le=z(9858),re=z(1985),x=z(5055),$=z(7953),V=z(591),X=z(5397),F=z(5196),K=z(8071),q=z(5334),ge=z(3494);function Me(De){if(De instanceof re.c)return De;if(null!=De){if((0,x.l)(De))return function xe(De){return new re.c($e=>{const ce=De[ge.s]();if((0,K.T)(ce.subscribe))return ce.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,A.X)(De))return function rt(De){return new re.c($e=>{for(let ce=0;ce<De.length&&!$e.closed;ce++)$e.next(De[ce]);$e.complete()})}(De);if((0,le.y)(De))return function _t(De){return new re.c($e=>{De.then(ce=>{$e.closed||($e.next(ce),$e.complete())},ce=>$e.error(ce)).then(null,q.m)})}(De);if((0,$.T)(De))return ut(De);if((0,X.x)(De))return function vt(De){return new re.c($e=>{for(const ce of De)if($e.next(ce),$e.closed)return;$e.complete()})}(De);if((0,F.U)(De))return function rn(De){return ut((0,F.C)(De))}(De)}throw(0,V.L)(De)}function ut(De){return new re.c($e=>{(function Pt(De,$e){var ce,ue,Ze,ct;return(0,w.sH)(this,void 0,void 0,function*(){try{for(ce=(0,w.xN)(De);!(ue=yield ce.next()).done;)if($e.next(ue.value),$e.closed)return}catch(de){Ze={error:de}}finally{try{ue&&!ue.done&&(ct=ce.return)&&(yield ct.call(ce))}finally{if(Ze)throw Ze.error}}$e.complete()})})(De,$e).catch(ce=>$e.error(ce))})}},7673:(Dt,Ve,z)=>{z.d(Ve,{of:()=>le});var w=z(9326),A=z(8455);function le(...re){const x=(0,w.lI)(re);return(0,A.H)(re,x)}},4360:(Dt,Ve,z)=>{z.d(Ve,{_:()=>A});var w=z(7707);function A(re,x,$,V,X){return new le(re,x,$,V,X)}class le extends w.vU{constructor(x,$,V,X,F,K){super(x),this.onFinalize=F,this.shouldUnsubscribe=K,this._next=$?function(q){try{$(q)}catch(ge){x.error(ge)}}:super._next,this._error=X?function(q){try{X(q)}catch(ge){x.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=V?function(){try{V()}catch(q){x.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},274:(Dt,Ve,z)=>{z.d(Ve,{H:()=>le});var w=z(1397),A=z(8071);function le(re,x){return(0,A.T)(x)?(0,w.Z)(re,x,1):(0,w.Z)(re,1)}},5964:(Dt,Ve,z)=>{z.d(Ve,{p:()=>le});var w=z(9974),A=z(4360);function le(re,x){return(0,w.N)(($,V)=>{let X=0;$.subscribe((0,A._)(V,F=>re.call(x,F,X++)&&V.next(F)))})}},980:(Dt,Ve,z)=>{z.d(Ve,{j:()=>A});var w=z(9974);function A(le){return(0,w.N)((re,x)=>{try{re.subscribe(x)}finally{x.add(le)}})}},6354:(Dt,Ve,z)=>{z.d(Ve,{T:()=>le});var w=z(9974),A=z(4360);function le(re,x){return(0,w.N)(($,V)=>{let X=0;$.subscribe((0,A._)(V,F=>{V.next(re.call(x,F,X++))}))})}},1397:(Dt,Ve,z)=>{z.d(Ve,{Z:()=>X});var w=z(6354),A=z(8750),le=z(9974),re=z(5225),x=z(4360),V=z(8071);function X(F,K,q=1/0){return(0,V.T)(K)?X((ge,Me)=>(0,w.T)((xe,rt)=>K(ge,xe,Me,rt))((0,A.Tg)(F(ge,Me))),q):("number"==typeof K&&(q=K),(0,le.N)((ge,Me)=>function $(F,K,q,ge,Me,xe,rt,_t){const vt=[];let ut=0,rn=0,Pt=!1;const De=()=>{Pt&&!vt.length&&!ut&&K.complete()},$e=ue=>ut<ge?ce(ue):vt.push(ue),ce=ue=>{xe&&K.next(ue),ut++;let Ze=!1;(0,A.Tg)(q(ue,rn++)).subscribe((0,x._)(K,ct=>{Me?.(ct),xe?$e(ct):K.next(ct)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ut--;vt.length&&ut<ge;){const ct=vt.shift();rt?(0,re.N)(K,rt,()=>ce(ct)):ce(ct)}De()}catch(ct){K.error(ct)}}))};return F.subscribe((0,x._)(K,$e,()=>{Pt=!0,De()})),()=>{_t?.()}}(ge,Me,F,q)))}},941:(Dt,Ve,z)=>{z.d(Ve,{Q:()=>re});var w=z(5225),A=z(9974),le=z(4360);function re(x,$=0){return(0,A.N)((V,X)=>{V.subscribe((0,le._)(X,F=>(0,w.N)(X,x,()=>X.next(F),$),()=>(0,w.N)(X,x,()=>X.complete(),$),F=>(0,w.N)(X,x,()=>X.error(F),$)))})}},6745:(Dt,Ve,z)=>{z.d(Ve,{_:()=>A});var w=z(9974);function A(le,re=0){return(0,w.N)((x,$)=>{$.add(le.schedule(()=>x.subscribe($),re))})}},5558:(Dt,Ve,z)=>{z.d(Ve,{n:()=>re});var w=z(8750),A=z(9974),le=z(4360);function re(x,$){return(0,A.N)((V,X)=>{let F=null,K=0,q=!1;const ge=()=>q&&!F&&X.complete();V.subscribe((0,le._)(X,Me=>{F?.unsubscribe();let xe=0;const rt=K++;(0,w.Tg)(x(Me,rt)).subscribe(F=(0,le._)(X,_t=>X.next($?$(Me,_t,rt,xe++):_t),()=>{F=null,ge()}))},()=>{q=!0,ge()}))})}},8141:(Dt,Ve,z)=>{z.d(Ve,{M:()=>x});var w=z(8071),A=z(9974),le=z(4360),re=z(3669);function x($,V,X){const F=(0,w.T)($)||V||X?{next:$,error:V,complete:X}:$;return F?(0,A.N)((K,q)=>{var ge;null===(ge=F.subscribe)||void 0===ge||ge.call(F);let Me=!0;K.subscribe((0,le._)(q,xe=>{var rt;null===(rt=F.next)||void 0===rt||rt.call(F,xe),q.next(xe)},()=>{var xe;Me=!1,null===(xe=F.complete)||void 0===xe||xe.call(F),q.complete()},xe=>{var rt;Me=!1,null===(rt=F.error)||void 0===rt||rt.call(F,xe),q.error(xe)},()=>{var xe,rt;Me&&(null===(xe=F.unsubscribe)||void 0===xe||xe.call(F)),null===(rt=F.finalize)||void 0===rt||rt.call(F)}))}):re.D}},6780:(Dt,Ve,z)=>{z.d(Ve,{R:()=>x});var w=z(8359);class A extends w.yU{constructor(V,X){super()}schedule(V,X=0){return this}}const le={setInterval($,V,...X){const{delegate:F}=le;return F?.setInterval?F.setInterval($,V,...X):setInterval($,V,...X)},clearInterval($){const{delegate:V}=le;return(V?.clearInterval||clearInterval)($)},delegate:void 0};var re=z(7908);class x extends A{constructor(V,X){super(V,X),this.scheduler=V,this.work=X,this.pending=!1}schedule(V,X=0){var F;if(this.closed)return this;this.state=V;const K=this.id,q=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(q,K,X)),this.pending=!0,this.delay=X,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(q,this.id,X),this}requestAsyncId(V,X,F=0){return le.setInterval(V.flush.bind(V,this),F)}recycleAsyncId(V,X,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return X;null!=X&&le.clearInterval(X)}execute(V,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(V,X);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(V,X){let K,F=!1;try{this.work(V)}catch(q){F=!0,K=q||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:V,scheduler:X}=this,{actions:F}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.o)(F,this),null!=V&&(this.id=this.recycleAsyncId(X,V,null)),this.delay=null,super.unsubscribe()}}}},3604:(Dt,Ve,z)=>{z.d(Ve,{q:()=>le});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class A{constructor(x,$=A.now){this.schedulerActionCtor=x,this.now=$}schedule(x,$=0,V){return new this.schedulerActionCtor(this,x).schedule(V,$)}}A.now=w.now;class le extends A{constructor(x,$=A.now){super(x,$),this.actions=[],this._active=!1}flush(x){const{actions:$}=this;if(this._active)return void $.push(x);let V;this._active=!0;do{if(V=x.execute(x.state,x.delay))break}while(x=$.shift());if(this._active=!1,V){for(;x=$.shift();)x.unsubscribe();throw V}}}},3236:(Dt,Ve,z)=>{z.d(Ve,{E:()=>le,b:()=>re});var w=z(6780);const le=new(z(3604).q)(w.R),re=le},9270:(Dt,Ve,z)=>{z.d(Ve,{f:()=>w});const w={setTimeout(A,le,...re){const{delegate:x}=w;return x?.setTimeout?x.setTimeout(A,le,...re):setTimeout(A,le,...re)},clearTimeout(A){const{delegate:le}=w;return(le?.clearTimeout||clearTimeout)(A)},delegate:void 0}},4761:(Dt,Ve,z)=>{z.d(Ve,{l:()=>A});const A=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dt,Ve,z)=>{z.d(Ve,{s:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Dt,Ve,z)=>{z.d(Ve,{lI:()=>x,ms:()=>re});var w=z(8071),A=z(9470);function le(V){return V[V.length-1]}function re(V){return(0,w.T)(le(V))?V.pop():void 0}function x(V){return(0,A.m)(le(V))?V.pop():void 0}},3073:(Dt,Ve,z)=>{z.d(Ve,{D:()=>x});const{isArray:w}=Array,{getPrototypeOf:A,prototype:le,keys:re}=Object;function x(V){if(1===V.length){const X=V[0];if(w(X))return{args:X,keys:null};if(function $(V){return V&&"object"==typeof V&&A(V)===le}(X)){const F=re(X);return{args:F.map(K=>X[K]),keys:F}}}return{args:V,keys:null}}},7908:(Dt,Ve,z)=>{function w(A,le){if(A){const re=A.indexOf(le);0<=re&&A.splice(re,1)}}z.d(Ve,{o:()=>w})},1853:(Dt,Ve,z)=>{function w(A){const re=A(x=>{Error.call(x),x.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}z.d(Ve,{L:()=>w})},8496:(Dt,Ve,z)=>{function w(A,le){return A.reduce((re,x,$)=>(re[x]=le[$],re),{})}z.d(Ve,{e:()=>w})},9786:(Dt,Ve,z)=>{z.d(Ve,{Y:()=>le,l:()=>re});var w=z(1026);let A=null;function le(x){if(w.$.useDeprecatedSynchronousErrorHandling){const $=!A;if($&&(A={errorThrown:!1,error:null}),x(),$){const{errorThrown:V,error:X}=A;if(A=null,V)throw X}}else x()}function re(x){w.$.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=x)}},5225:(Dt,Ve,z)=>{function w(A,le,re,x=0,$=!1){const V=le.schedule(function(){re(),$?A.add(this.schedule(null,x)):this.unsubscribe()},x);if(A.add(V),!$)return V}z.d(Ve,{N:()=>w})},3669:(Dt,Ve,z)=>{function w(A){return A}z.d(Ve,{D:()=>w})},7441:(Dt,Ve,z)=>{z.d(Ve,{X:()=>w});const w=A=>A&&"number"==typeof A.length&&"function"!=typeof A},7953:(Dt,Ve,z)=>{z.d(Ve,{T:()=>A});var w=z(8071);function A(le){return Symbol.asyncIterator&&(0,w.T)(le?.[Symbol.asyncIterator])}},8071:(Dt,Ve,z)=>{function w(A){return"function"==typeof A}z.d(Ve,{T:()=>w})},5055:(Dt,Ve,z)=>{z.d(Ve,{l:()=>le});var w=z(3494),A=z(8071);function le(re){return(0,A.T)(re[w.s])}},5397:(Dt,Ve,z)=>{z.d(Ve,{x:()=>le});var w=z(4761),A=z(8071);function le(re){return(0,A.T)(re?.[w.l])}},9858:(Dt,Ve,z)=>{z.d(Ve,{y:()=>A});var w=z(8071);function A(le){return(0,w.T)(le?.then)}},5196:(Dt,Ve,z)=>{z.d(Ve,{C:()=>le,U:()=>re});var w=z(1635),A=z(8071);function le(x){return(0,w.AQ)(this,arguments,function*(){const V=x.getReader();try{for(;;){const{value:X,done:F}=yield(0,w.N3)(V.read());if(F)return yield(0,w.N3)(void 0);yield yield(0,w.N3)(X)}}finally{V.releaseLock()}})}function re(x){return(0,A.T)(x?.getReader)}},9470:(Dt,Ve,z)=>{z.d(Ve,{m:()=>A});var w=z(8071);function A(le){return le&&(0,w.T)(le.schedule)}},9974:(Dt,Ve,z)=>{z.d(Ve,{N:()=>le,S:()=>A});var w=z(8071);function A(re){return(0,w.T)(re?.lift)}function le(re){return x=>{if(A(x))return x.lift(function($){try{return re($,this)}catch(V){this.error(V)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dt,Ve,z)=>{z.d(Ve,{I:()=>re});var w=z(6354);const{isArray:A}=Array;function re(x){return(0,w.T)($=>function le(x,$){return A($)?x(...$):x($)}(x,$))}},5343:(Dt,Ve,z)=>{function w(){}z.d(Ve,{l:()=>w})},1203:(Dt,Ve,z)=>{z.d(Ve,{F:()=>A,m:()=>le});var w=z(3669);function A(...re){return le(re)}function le(re){return 0===re.length?w.D:1===re.length?re[0]:function($){return re.reduce((V,X)=>X(V),$)}}},5334:(Dt,Ve,z)=>{z.d(Ve,{m:()=>le});var w=z(1026),A=z(9270);function le(re){A.f.setTimeout(()=>{const{onUnhandledError:x}=w.$;if(!x)throw re;x(re)})}},591:(Dt,Ve,z)=>{function w(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Ve,{L:()=>w})},9969:(Dt,Ve,z)=>{z.d(Ve,{FX:()=>ct,If:()=>w,K2:()=>$,MA:()=>ge,P:()=>xe,hZ:()=>le,i0:()=>re,iF:()=>V,kY:()=>K,kp:()=>A,lY:()=>q,sM:()=>Me,sf:()=>ue,ui:()=>Ze,wk:()=>X});var w=function(de){return de[de.State=0]="State",de[de.Transition=1]="Transition",de[de.Sequence=2]="Sequence",de[de.Group=3]="Group",de[de.Animate=4]="Animate",de[de.Keyframes=5]="Keyframes",de[de.Style=6]="Style",de[de.Trigger=7]="Trigger",de[de.Reference=8]="Reference",de[de.AnimateChild=9]="AnimateChild",de[de.AnimateRef=10]="AnimateRef",de[de.Query=11]="Query",de[de.Stagger=12]="Stagger",de}(w||{});const A="*";function le(de,be){return{type:w.Trigger,name:de,definitions:be,options:{}}}function re(de,be=null){return{type:w.Animate,styles:be,timings:de}}function $(de,be=null){return{type:w.Sequence,steps:de,options:be}}function V(de){return{type:w.Style,styles:de,offset:null}}function X(de,be,lt){return{type:w.State,name:de,styles:be,options:lt}}function K(de,be,lt=null){return{type:w.Transition,expr:de,animation:be,options:lt}}function q(de,be=null){return{type:w.Reference,animation:de,options:be}}function ge(de=null){return{type:w.AnimateChild,options:de}}function Me(de,be=null){return{type:w.AnimateRef,animation:de,options:be}}function xe(de,be,lt=null){return{type:w.Query,selector:de,animation:be,options:lt}}class ue{constructor(be=0,lt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+lt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const lt="start"==be?this._onStartFns:this._onDoneFns;lt.forEach(Ht=>Ht()),lt.length=0}}class Ze{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let lt=0,Ht=0,Kt=0;const Hn=this.players.length;0==Hn?queueMicrotask(()=>this._onFinish()):this.players.forEach(Et=>{Et.onDone(()=>{++lt==Hn&&this._onFinish()}),Et.onDestroy(()=>{++Ht==Hn&&this._onDestroy()}),Et.onStart(()=>{++Kt==Hn&&this._onStart()})}),this.totalTime=this.players.reduce((Et,zt)=>Math.max(Et,zt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const lt=be*this.totalTime;this.players.forEach(Ht=>{const Kt=Ht.totalTime?Math.min(1,lt/Ht.totalTime):1;Ht.setPosition(Kt)})}getPosition(){const be=this.players.reduce((lt,Ht)=>null===lt||Ht.totalTime>lt.totalTime?Ht:lt,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const lt="start"==be?this._onStartFns:this._onDoneFns;lt.forEach(Ht=>Ht()),lt.length=0}}const ct="!"},177:(Dt,Ve,z)=>{z.d(Ve,{AJ:()=>wa,B3:()=>en,MD:()=>za,N0:()=>Zn,QT:()=>le,Sm:()=>_t,Sq:()=>ci,T3:()=>Bt,UE:()=>ni,VF:()=>x,Vy:()=>ri,Xr:()=>Xo,YU:()=>Xn,ZD:()=>re,_b:()=>At,aZ:()=>ut,bT:()=>Ms,fw:()=>vt,hb:()=>xe,hj:()=>F,qQ:()=>V});var w=z(3953);let A=null;function le(){return A}function re(v){A??=v}class x{}const V=new w.nKC("");let X=(()=>{class v{historyGo(R){throw new Error("")}static{this.\u0275fac=function(B){return new(B||v)}}static{this.\u0275prov=w.jDH({token:v,factory:()=>(0,w.WQX)(K),providedIn:"platform"})}}return v})();const F=new w.nKC("");let K=(()=>{class v extends X{constructor(){super(),this._doc=(0,w.WQX)(V),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(R){const B=le().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",R,!1),()=>B.removeEventListener("popstate",R)}onHashChange(R){const B=le().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",R,!1),()=>B.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,B,ne){this._history.pushState(R,B,ne)}replaceState(R,B,ne){this._history.replaceState(R,B,ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static{this.\u0275fac=function(B){return new(B||v)}}static{this.\u0275prov=w.jDH({token:v,factory:()=>new v,providedIn:"platform"})}}return v})();function q(v,j){if(0==v.length)return j;if(0==j.length)return v;let R=0;return v.endsWith("/")&&R++,j.startsWith("/")&&R++,2==R?v+j.substring(1):1==R?v+j:v+"/"+j}function ge(v){const j=v.match(/#|\?|$/),R=j&&j.index||v.length;return v.slice(0,R-("/"===v[R-1]?1:0))+v.slice(R)}function Me(v){return v&&"?"!==v[0]?"?"+v:v}let xe=(()=>{class v{historyGo(R){throw new Error("")}static{this.\u0275fac=function(B){return new(B||v)}}static{this.\u0275prov=w.jDH({token:v,factory:()=>(0,w.WQX)(_t),providedIn:"root"})}}return v})();const rt=new w.nKC("");let _t=(()=>{class v extends xe{constructor(R,B){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,w.WQX)(V).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return q(this._baseHref,R)}path(R=!1){const B=this._platformLocation.pathname+Me(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&R?`${B}${ne}`:B}pushState(R,B,ne,Se){const qe=this.prepareExternalUrl(ne+Me(Se));this._platformLocation.pushState(R,B,qe)}replaceState(R,B,ne,Se){const qe=this.prepareExternalUrl(ne+Me(Se));this._platformLocation.replaceState(R,B,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static{this.\u0275fac=function(B){return new(B||v)(w.KVO(X),w.KVO(rt,8))}}static{this.\u0275prov=w.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),vt=(()=>{class v extends xe{constructor(R,B){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(R){const B=q(this._baseHref,R);return B.length>0?"#"+B:B}pushState(R,B,ne,Se){let qe=this.prepareExternalUrl(ne+Me(Se));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(R,B,qe)}replaceState(R,B,ne,Se){let qe=this.prepareExternalUrl(ne+Me(Se));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(R,B,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static{this.\u0275fac=function(B){return new(B||v)(w.KVO(X),w.KVO(rt,8))}}static{this.\u0275prov=w.jDH({token:v,factory:v.\u0275fac})}}return v})(),ut=(()=>{class v{constructor(R){this._subject=new w.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const B=this._locationStrategy.getBaseHref();this._basePath=function $e(v){if(new RegExp("^(https?:)?//").test(v)){const[,R]=v.split(/\/\/[^\/]+/);return R}return v}(ge(De(B))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,B=""){return this.path()==this.normalize(R+Me(B))}normalize(R){return v.stripTrailingSlash(function Pt(v,j){if(!v||!j.startsWith(v))return j;const R=j.substring(v.length);return""===R||["/",";","?","#"].includes(R[0])?R:j}(this._basePath,De(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,B="",ne=null){this._locationStrategy.pushState(ne,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Me(B)),ne)}replaceState(R,B="",ne=null){this._locationStrategy.replaceState(ne,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Me(B)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription??=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}),()=>{const B=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",B){this._urlChangeListeners.forEach(ne=>ne(R,B))}subscribe(R,B,ne){return this._subject.subscribe({next:R,error:B,complete:ne})}static{this.normalizeQueryParams=Me}static{this.joinWithSlash=q}static{this.stripTrailingSlash=ge}static{this.\u0275fac=function(B){return new(B||v)(w.KVO(xe))}}static{this.\u0275prov=w.jDH({token:v,factory:()=>function rn(){return new ut((0,w.KVO)(xe))}(),providedIn:"root"})}}return v})();function De(v){return v.replace(/\/index.html$/,"")}function At(v,j){j=encodeURIComponent(j);for(const R of v.split(";")){const B=R.indexOf("="),[ne,Se]=-1==B?[R,""]:[R.slice(0,B),R.slice(B+1)];if(ne.trim()===j)return decodeURIComponent(Se)}return null}const Jt=/\s+/,vn=[];let Xn=(()=>{class v{constructor(R,B){this._ngEl=R,this._renderer=B,this.initialClasses=vn,this.stateMap=new Map}set klass(R){this.initialClasses=null!=R?R.trim().split(Jt):vn}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(Jt):R}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const B of R)this._updateState(B,!0);else if(null!=R)for(const B of Object.keys(R))this._updateState(B,!!R[B]);this._applyStateDiff()}_updateState(R,B){const ne=this.stateMap.get(R);void 0!==ne?(ne.enabled!==B&&(ne.changed=!0,ne.enabled=B),ne.touched=!0):this.stateMap.set(R,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const B=R[0],ne=R[1];ne.changed?(this._toggleClass(B,ne.enabled),ne.changed=!1):ne.touched||(ne.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),ne.touched=!1}}_toggleClass(R,B){(R=R.trim()).length>0&&R.split(Jt).forEach(ne=>{B?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}static{this.\u0275fac=function(B){return new(B||v)(w.rXU(w.aKT),w.rXU(w.sFG))}}static{this.\u0275dir=w.FsC({type:v,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return v})();class zr{constructor(j,R,B,ne){this.$implicit=j,this.ngForOf=R,this.index=B,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ci=(()=>{class v{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,B,ne){this._viewContainer=R,this._template=B,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const B=this._viewContainer;R.forEachOperation((ne,Se,qe)=>{if(null==ne.previousIndex)B.createEmbeddedView(this._template,new zr(ne.item,this._ngForOf,-1,-1),null===qe?void 0:qe);else if(null==qe)B.remove(null===Se?void 0:Se);else if(null!==Se){const gt=B.get(Se);B.move(gt,qe),Yi(gt,ne)}});for(let ne=0,Se=B.length;ne<Se;ne++){const gt=B.get(ne).context;gt.index=ne,gt.count=Se,gt.ngForOf=this._ngForOf}R.forEachIdentityChange(ne=>{Yi(B.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(R,B){return!0}static{this.\u0275fac=function(B){return new(B||v)(w.rXU(w.c1b),w.rXU(w.C4Q),w.rXU(w._q3))}}static{this.\u0275dir=w.FsC({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return v})();function Yi(v,j){v.context.$implicit=j.item}let Ms=(()=>{class v{constructor(R,B){this._viewContainer=R,this._context=new Ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){pn("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){pn("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,B){return!0}static{this.\u0275fac=function(B){return new(B||v)(w.rXU(w.c1b),w.rXU(w.C4Q))}}static{this.\u0275dir=w.FsC({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return v})();class Ln{constructor(){this.$implicit=null,this.ngIf=null}}function pn(v,j){if(j&&!j.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,w.Tbb)(j)}'.`)}let en=(()=>{class v{constructor(R,B,ne){this._ngEl=R,this._differs=B,this._renderer=ne,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,B){const[ne,Se]=R.split("."),qe=-1===ne.indexOf("-")?void 0:w.czy.DashCase;null!=B?this._renderer.setStyle(this._ngEl.nativeElement,ne,Se?`${B}${Se}`:B,qe):this._renderer.removeStyle(this._ngEl.nativeElement,ne,qe)}_applyChanges(R){R.forEachRemovedItem(B=>this._setStyle(B.key,null)),R.forEachAddedItem(B=>this._setStyle(B.key,B.currentValue)),R.forEachChangedItem(B=>this._setStyle(B.key,B.currentValue))}static{this.\u0275fac=function(B){return new(B||v)(w.rXU(w.aKT),w.rXU(w.MKu),w.rXU(w.sFG))}}static{this.\u0275dir=w.FsC({type:v,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return v})(),Bt=(()=>{class v{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(this._shouldRecreateView(R)){const B=this._viewContainerRef;if(this._viewRef&&B.remove(B.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ne=this._createContextForwardProxy();this._viewRef=B.createEmbeddedView(this.ngTemplateOutlet,ne,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(R){return!!R.ngTemplateOutlet||!!R.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(R,B,ne)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,B,ne),get:(R,B,ne)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,B,ne)}})}static{this.\u0275fac=function(B){return new(B||v)(w.rXU(w.c1b))}}static{this.\u0275dir=w.FsC({type:v,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.OA$]})}}return v})(),za=(()=>{class v{static{this.\u0275fac=function(B){return new(B||v)}}static{this.\u0275mod=w.$C({type:v})}static{this.\u0275inj=w.G2t({})}}return v})();const wa="browser",po="server";function ni(v){return v===wa}function ri(v){return v===po}let Xo=(()=>{class v{static{this.\u0275prov=(0,w.jDH)({token:v,providedIn:"root",factory:()=>ni((0,w.WQX)(w.Agw))?new gs((0,w.WQX)(V),window):new Zo})}}return v})();class gs{constructor(j,R){this.document=j,this.window=R,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const R=function Ga(v,j){const R=v.getElementById(j)||v.getElementsByName(j)[0];if(R)return R;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const B=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let ne=B.currentNode;for(;ne;){const Se=ne.shadowRoot;if(Se){const qe=Se.getElementById(j)||Se.querySelector(`[name="${j}"]`);if(qe)return qe}ne=B.nextNode()}}return null}(this.document,j);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const R=j.getBoundingClientRect(),B=R.left+this.window.pageXOffset,ne=R.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(B-Se[0],ne-Se[1])}}class Zo{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class Zn{}},3953:(Dt,Ve,z)=>{function w(e,t){return Object.is(e,t)}z.d(Ve,{bc$:()=>jD,iLQ:()=>Vf,sZ2:()=>Ph,hnV:()=>GT,Hbi:()=>dP,o8S:()=>rc,BIS:()=>HD,gRc:()=>lw,Ql9:()=>xO,Ocv:()=>HO,Z63:()=>us,aKT:()=>gd,uvJ:()=>et,zcH:()=>uc,bkB:()=>Jl,$GK:()=>En,nKC:()=>Ft,zZn:()=>co,_q3:()=>ny,MKu:()=>ry,xe9:()=>Qm,Co$:()=>HE,Vns:()=>eu,SKi:()=>Di,Xx1:()=>ki,Agw:()=>kh,PLl:()=>p_,sFG:()=>Ob,_9s:()=>Fg,czy:()=>Kh,kdw:()=>Es,C4Q:()=>Pd,NYb:()=>AO,giA:()=>WT,xvI:()=>nO,RxE:()=>LT,c1b:()=>ff,gXe:()=>Cs,mal:()=>If,L39:()=>HP,EWP:()=>zP,Ol2:()=>Jg,w6W:()=>TA,oH4:()=>iw,QZP:()=>$w,Rfq:()=>Oo,WQX:()=>nt,QuC:()=>y,EmA:()=>st,Udg:()=>$P,fpN:()=>uP,HJs:()=>XP,N4e:()=>Ci,vPA:()=>wE,O8t:()=>GP,H3F:()=>FT,zAP:()=>Pw,H8p:()=>Z,KH2:()=>Xu,TgB:()=>Gc,wOt:()=>ht,WHO:()=>HT,e01:()=>$T,H5H:()=>Dm,Zy3:()=>ms,mq5:()=>qI,JZv:()=>_r,LfX:()=>Bs,plB:()=>Sc,jNT:()=>zm,zjR:()=>zT,TL$:()=>BD,Tbb:()=>Cr,Vt3:()=>Yg,GFd:()=>jE,OA$:()=>G,Jv_:()=>sT,aNF:()=>oT,R7$:()=>dv,BMQ:()=>hm,HbH:()=>PI,AVh:()=>_m,wni:()=>MC,VBU:()=>Ba,FsC:()=>tl,jDH:()=>In,G2t:()=>Qr,$C:()=>Va,EJ8:()=>nl,rXU:()=>Su,nrm:()=>Tm,eu8:()=>wm,bVm:()=>Nf,qex:()=>Rf,k0s:()=>Af,j41:()=>bf,RV6:()=>zI,xGo:()=>Oy,KVO:()=>nn,kS0:()=>bh,QTQ:()=>fv,bIt:()=>Am,lsd:()=>kC,qSk:()=>Th,XpG:()=>vC,SdG:()=>IC,NAR:()=>EC,Y8G:()=>mm,lJ4:()=>cT,eq3:()=>uT,l_i:()=>dT,sMw:()=>hT,ziG:()=>fT,zJS:()=>pT,mGM:()=>PC,sdS:()=>xC,Njj:()=>yh,EBC:()=>z_,eBV:()=>ad,npT:()=>U_,B4B:()=>Jp,n$t:()=>V_,Aen:()=>Nl,DNE:()=>tm,C5r:()=>ET,EFF:()=>zC,JRh:()=>Om,SpI:()=>xf,DH7:()=>tT,mxI:()=>km,R50:()=>Pm,GBs:()=>OC});let A=null,le=!1,re=1;const x=Symbol("SIGNAL");function $(e){const t=A;return A=e,t}const K={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function q(e){if(le)throw new Error("");if(null===A)return;A.consumerOnSignalRead(e);const t=A.nextProducerIndex++;ue(A),t<A.producerNode.length&&A.producerNode[t]!==e&&ce(A)&&$e(A.producerNode[t],A.producerIndexOfThis[t]),A.producerNode[t]!==e&&(A.producerNode[t]=e,A.producerIndexOfThis[t]=ce(A)?De(e,A,t):0),A.producerLastReadVersion[t]=e.version}function Me(e){if((!ce(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==re)){if(!e.producerMustRecompute(e)&&!rn(e))return e.dirty=!1,void(e.lastCleanEpoch=re);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=re}}function xe(e){if(void 0===e.liveConsumerNode)return;const t=le;le=!0;try{for(const n of e.liveConsumerNode)n.dirty||_t(n)}finally{le=t}}function rt(){return!1!==A?.consumerAllowSignalWrites}function _t(e){e.dirty=!0,xe(e),e.consumerMarkedDirty?.(e)}function vt(e){return e&&(e.nextProducerIndex=0),$(e)}function ut(e,t){if($(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ce(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)$e(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function rn(e){ue(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Me(n),r!==n.version))return!0}return!1}function Pt(e){if(ue(e),ce(e))for(let t=0;t<e.producerNode.length;t++)$e(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function De(e,t,n){if(Ze(e),0===e.liveConsumerNode.length&&ct(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=De(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function $e(e,t){if(Ze(e),1===e.liveConsumerNode.length&&ct(e))for(let r=0;r<e.producerNode.length;r++)$e(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ue(i),i.producerIndexOfThis[r]=t}}function ce(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ue(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ze(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ct(e){return void 0!==e.producerNode}const be=Symbol("UNSET"),lt=Symbol("COMPUTING"),Ht=Symbol("ERRORED"),Kt={...K,value:be,dirty:!0,error:null,equal:w,producerMustRecompute:e=>e.value===be||e.value===lt,producerRecomputeValue(e){if(e.value===lt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=lt;const n=vt(e);let r;try{r=e.computation()}catch(i){r=Ht,e.error=i}finally{ut(e,n)}t!==be&&t!==Ht&&r!==Ht&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let Et=function Hn(){throw new Error};function zt(){Et()}let _e=null;function We(e,t){rt()||zt(),e.equal(e.value,t)||(e.value=t,function cr(e){e.version++,function ge(){re++}(),xe(e),_e?.()}(e))}const gn={...K,equal:w,value:void 0};const dn=()=>{},fn={...K,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:dn};var Rn=z(4412),Wn=z(1413),zn=z(8359),Gn=z(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Qs="https://g.co/ng/security#xss";class ht extends Error{constructor(t,n){super(ms(t,n)),this.code=t}}function ms(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Fr(e){return{toString:e}.toString()}const Fn="__parameters__";function xs(e,t,n){return Fr(()=>{const r=function ji(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const u=new i(...a);return m.annotation=u,m;function m(I,O,L){const Y=I.hasOwnProperty(Fn)?I[Fn]:Object.defineProperty(I,Fn,{value:[]})[Fn];for(;Y.length<=L;)Y.push(null);return(Y[L]=Y[L]||[]).push(u),I}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const _r=globalThis;function Un(e){for(let t in e)if(e[t]===Un)return t;throw Error("Could not find renamed property on target object.")}function qr(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Cr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function as(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ri=Un({__forward_ref__:Un});function Oo(e){return e.__forward_ref__=Oo,e.toString=function(){return Cr(this())},e}function Vt(e){return ea(e)?e():e}function ea(e){return"function"==typeof e&&e.hasOwnProperty(Ri)&&e.__forward_ref__===Oo}function In(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qr(e){return{providers:e.providers||[],imports:e.imports||[]}}function vi(e){return Hi(e,_s)||Hi(e,Eo)}function Bs(e){return null!==vi(e)}function Hi(e,t){return e.hasOwnProperty(t)?e[t]:null}function xo(e){return e&&(e.hasOwnProperty(yl)||e.hasOwnProperty(Lo))?e[yl]:null}const _s=Un({\u0275prov:Un}),yl=Un({\u0275inj:Un}),Eo=Un({ngInjectableDef:Un}),Lo=Un({ngInjectorDef:Un});class Ft{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=In({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Co(e){return e&&!!e.\u0275providers}const $i=Un({\u0275cmp:Un}),ra=Un({\u0275dir:Un}),Oi=Un({\u0275pipe:Un}),Oa=Un({\u0275mod:Un}),ii=Un({\u0275fac:Un}),Js=Un({__NG_ELEMENT_ID__:Un}),ls=Un({__NG_ENV_ID__:Un});function tn(e){return"string"==typeof e?e:null==e?"":String(e)}function ia(e,t){throw new ht(-201,!1)}var En=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(En||{});let qa;function Pa(){return qa}function jr(e){const t=qa;return qa=e,t}function Wi(e,t,n){const r=vi(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&En.Optional?null:void 0!==t?t:void ia()}const eo={},to="__NG_DI_FLAG__",v="ngTempTokenPath",R=/\n/gm,ne="__source";let Se;function gt(e){const t=Se;return Se=e,t}function Bn(e,t=En.Default){if(void 0===Se)throw new ht(-203,!1);return null===Se?Wi(e,void 0,t):Se.get(e,t&En.Optional?null:void 0,t)}function nn(e,t=En.Default){return(Pa()||Bn)(Vt(e),t)}function nt(e,t=En.Default){return nn(e,rr(t))}function rr(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $n(e){const t=[];for(let n=0;n<e.length;n++){const r=Vt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ht(900,!1);let i,a=En.Default;for(let u=0;u<r.length;u++){const m=r[u],I=Pi(m);"number"==typeof I?-1===I?i=m.token:a|=I:i=m}t.push(nn(i,a))}else t.push(nn(r))}return t}function vr(e,t){return e[to]=t,e.prototype[to]=t,e}function Pi(e){return e[to]}const ki=vr(xs("Optional"),8),Es=vr(xs("SkipSelf"),4);function Uo(e,t){return e.hasOwnProperty(ii)?e[ii]:null}function aa(e,t){e.forEach(n=>Array.isArray(n)?aa(n,t):t(n))}function la(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ca(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ii(e,t,n){let r=Xa(e,t);return r>=0?e[1|r]=n:(r=~r,function Qa(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ya(e,t){const n=Xa(e,t);if(n>=0)return e[1|n]}function Xa(e,t){return function Ll(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const a=r+(i-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}const Vn={},bn=[],us=new Ft(""),Fl=new Ft("",-1),xi=new Ft("");class Is{get(t,n=eo){if(n===eo){const r=new Error(`NullInjectorError: No provider for ${Cr(t)}!`);throw r.name="NullInjectorError",r}return n}}var xa=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xa||{}),Cs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Cs||{}),Gi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Gi||{});function ro(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}function To(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const a=n[r++],u=n[r++],m=n[r++];e.setAttribute(t,u,m,a)}else{const a=i,u=n[++r];ua(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function io(e){return 3===e||4===e||6===e}function ua(e){return 64===e.charCodeAt(0)}function La(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Za(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Za(e,t,n,r,i){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const m=e[a++];if("number"==typeof m){if(m===t){u=-1;break}if(m>t){u=a-1;break}}}for(;a<e.length;){const m=e[a];if("number"==typeof m)break;if(m===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}const Fa="ng-template";function Vs(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==ro(t[i+1].toLowerCase(),n,0))return!0}else if(Li(e))return!1;if(i=t.indexOf(1,i),i>-1){let a;for(;++i<t.length&&"string"==typeof(a=t[i]);)if(a.toLowerCase()===n)return!0}return!1}function Li(e){return 4===e.type&&e.value!==Fa}function da(e,t,n){return t===(4!==e.type||n?e.value:Fa)}function gc(e,t,n){let r=4;const i=e.attrs,a=null!==i?function mc(e){for(let t=0;t<e.length;t++)if(io(e[t]))return t;return e.length}(i):0;let u=!1;for(let m=0;m<t.length;m++){const I=t[m];if("number"!=typeof I){if(!u)if(4&r){if(r=2|1&r,""!==I&&!da(e,I,n)||""===I&&1===t.length){if(ds(r))return!1;u=!0}}else if(8&r){if(null===i||!Vs(e,i,I,n)){if(ds(r))return!1;u=!0}}else{const O=t[++m],L=ac(I,i,Li(e),n);if(-1===L){if(ds(r))return!1;u=!0;continue}if(""!==O){let Y;if(Y=L>a?"":i[L+1].toLowerCase(),2&r&&O!==Y){if(ds(r))return!1;u=!0}}}}else{if(!u&&!ds(r)&&!ds(I))return!1;if(u&&ds(I))continue;u=!1,r=I|1&r}}return ds(r)||u}function ds(e){return!(1&e)}function ac(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)a=!0;else{if(1===u||2===u){let m=t[++i];for(;"string"==typeof m;)m=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=a?1:2}return-1}return function Vl(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ul(e,t,n=!1){for(let r=0;r<t.length;r++)if(gc(e,t[r],n))return!0;return!1}function El(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function lc(e,t){return e?":not("+t.trim()+")":t}function Ua(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const m=e[++n];i+="["+u+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!ds(u)&&(t+=lc(a,i),i=""),r=u,a=a||!ds(r);n++}return""!==i&&(t+=lc(a,i)),t}function Ba(e){return Fr(()=>{const t=P(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Cs.Emulated,styles:e.styles||bn,_:null,schemas:e.schemas||null,tView:null,id:""};W(n);const r=e.dependencies;return n.directiveDefs=te(r,!1),n.pipeDefs=te(r,!0),n.id=function Ie(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function ha(e){return hn(e)||g(e)}function fa(e){return null!==e}function Va(e){return Fr(()=>({type:e.type,bootstrap:e.bootstrap||bn,declarations:e.declarations||bn,imports:e.imports||bn,exports:e.exports||bn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function el(e,t){if(null==e)return Vn;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let a,u,m=Gi.None;Array.isArray(i)?(m=i[0],a=i[1],u=i[2]??a):(a=i,u=i),t?(n[a]=m!==Gi.None?[r,m]:r,t[a]=u):n[a]=r}return n}function tl(e){return Fr(()=>{const t=P(e);return W(t),t})}function nl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function hn(e){return e[$i]||null}function g(e){return e[ra]||null}function S(e){return e[Oi]||null}function y(e){const t=hn(e)||g(e)||S(e);return null!==t&&t.standalone}function b(e,t){const n=e[Oa]||null;if(!n&&!0===t)throw new Error(`Type ${Cr(e)} does not have '\u0275mod' property.`);return n}function P(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Vn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:el(e.inputs,t),outputs:el(e.outputs),debugInfo:null}}function W(e){e.features?.forEach(t=>t(e))}function te(e,t){if(!e)return null;const n=t?S:ha;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(fa)}function st(e){return{\u0275providers:e}}function Ot(...e){return{\u0275providers:Ut(0,e),\u0275fromNgModule:!0}}function Ut(e,...t){const n=[],r=new Set;let i;const a=u=>{n.push(u)};return aa(t,u=>{const m=u;Yr(m,a,[],r)&&(i||=[],i.push(m))}),void 0!==i&&or(i,a),n}function or(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];si(i,a=>{t(a,r)})}}function Yr(e,t,n,r){if(!(e=Vt(e)))return!1;let i=null,a=xo(e);const u=!a&&hn(e);if(a||u){if(u&&!u.standalone)return!1;i=e}else{const I=e.ngModule;if(a=xo(I),!a)return!1;i=I}const m=r.has(i);if(u){if(m)return!1;if(r.add(i),u.dependencies){const I="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const O of I)Yr(O,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!m){let O;r.add(i);try{aa(a.imports,L=>{Yr(L,t,n,r)&&(O||=[],O.push(L))})}finally{}void 0!==O&&or(O,t)}if(!m){const O=Uo(i)||(()=>new i);t({provide:i,useFactory:O,deps:bn},i),t({provide:xi,useValue:i,multi:!0},i),t({provide:us,useValue:()=>nn(i),multi:!0},i)}const I=a.providers;if(null!=I&&!m){const O=e;si(I,L=>{t(L,O)})}}}return i!==e&&void 0!==e.providers}function si(e,t){for(let n of e)Co(n)&&(n=n.\u0275providers),Array.isArray(n)?si(n,t):t(n)}const T=Un({provide:String,useValue:Un});function f(e){return null!==e&&"object"==typeof e&&T in e}function N(e){return"function"==typeof e}const Z=new Ft(""),oe={},me={};let Ne;function ot(){return void 0===Ne&&(Ne=new Is),Ne}class et{}class Rt extends et{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ts(t,u=>this.processProvider(u)),this.records.set(Fl,Nn(void 0,this)),i.has("environment")&&this.records.set(et,Nn(void 0,this));const a=this.records.get(Z);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(xi,bn,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=$(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=gt(this),r=jr(void 0);try{return t()}finally{gt(n),jr(r)}}get(t,n=eo,r=En.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ls))return t[ls](this);r=rr(r);const a=gt(this),u=jr(void 0);try{if(!(r&En.SkipSelf)){let I=this.records.get(t);if(void 0===I){const O=function er(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ft}(t)&&vi(t);I=O&&this.injectableDefInScope(O)?Nn(bt(t),oe):null,this.records.set(t,I)}if(null!=I)return this.hydrate(t,I)}return(r&En.Self?ot():this.parent).get(t,n=r&En.Optional&&n===eo?null:n)}catch(m){if("NullInjectorError"===m.name){if((m[v]=m[v]||[]).unshift(Cr(t)),a)throw m;return function Dr(e,t,n,r){const i=e[v];throw t[ne]&&i.unshift(t[ne]),e.message=function Ei(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Cr(t);if(Array.isArray(t))i=t.map(Cr).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let m=t[u];a.push(u+":"+("string"==typeof m?JSON.stringify(m):Cr(m)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(R,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[v]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{jr(u),gt(a)}}resolveInjectorInitializers(){const t=$(null),n=gt(this),r=jr(void 0);try{const a=this.get(us,bn,En.Self);for(const u of a)u()}finally{gt(n),jr(r),$(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Cr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processProvider(t){let n=N(t=Vt(t))?t:Vt(t&&t.provide);const r=function pt(e){return f(e)?Nn(void 0,e.useValue):Nn(Gt(e),oe)}(t);if(!N(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Nn(void 0,oe,!0),i.factory=()=>$n(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=$(null);try{return n.value===oe&&(n.value=me,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _n(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Vt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function bt(e){const t=vi(e),n=null!==t?t.factory:Uo(e);if(null!==n)return n;if(e instanceof Ft)throw new ht(204,!1);if(e instanceof Function)return function It(e){if(e.length>0)throw new ht(204,!1);const n=function ko(e){return e&&(e[_s]||e[Eo])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ht(204,!1)}function Gt(e,t,n){let r;if(N(e)){const i=Vt(e);return Uo(i)||bt(i)}if(f(e))r=()=>Vt(e.useValue);else if(function D(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...$n(e.deps||[]));else if(function p(e){return!(!e||!e.useExisting)}(e))r=()=>nn(Vt(e.useExisting));else{const i=Vt(e&&(e.useClass||e.provide));if(!function fr(e){return!!e.deps}(e))return Uo(i)||bt(i);r=()=>new i(...$n(e.deps))}return r}function Nn(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ts(e,t){for(const n of e)Array.isArray(n)?Ts(n,t):n&&Co(n)?Ts(n.\u0275providers,t):t(n)}function Ci(e,t){e instanceof Rt&&e.assertNotDestroyed();const r=gt(e),i=jr(void 0);try{return t()}finally{gt(r),jr(i)}}function ar(){return void 0!==Pa()||null!=function qe(){return Se}()}function Zr(e){if(!ar())throw new ht(-203,!1)}const an=0,it=1,jt=2,An=3,Ui=4,pr=5,oi=6,jo=7,Sr=8,Ti=9,wo=10,ln=11,$l=12,Mc=13,Ho=14,tr=15,Tl=16,il=17,Do=18,Wl=19,wl=20,sl=21,cc=22,oo=23,Mt=25,zl=1,So=7,Gl=9,Hr=10;var _c=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(_c||{});function wi(e){return Array.isArray(e)&&"object"==typeof e[zl]}function hs(e){return Array.isArray(e)&&!0===e[zl]}function vc(e){return!!(4&e.flags)}function ol(e){return e.componentOffset>-1}function Sl(e){return!(1&~e.flags)}function ao(e){return!!e.template}function ts(e){return!!(512&e[jt])}class E{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function U(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function G(){return ye}function ye(e){return e.type.prototype.ngOnChanges&&(e.setInput=Je),Fe}function Fe(){const e=Wt(this),t=e?.current;if(t){const n=e.previous;if(n===Vn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Je(e,t,n,r,i){const a=this.declaredInputs[r],u=Wt(e)||function jn(e,t){return e[Tt]=t}(e,{previous:Vn,current:null}),m=u.current||(u.current={}),I=u.previous,O=I[a];m[a]=new E(O&&O.currentValue,n,I===Vn),U(e,t,i,n)}G.ngInherit=!0;const Tt="__ngSimpleChanges__";function Wt(e){return e[Tt]||null}const bo=function(e,t,n){},xc="svg";function nr(e){for(;Array.isArray(e);)e=e[an];return e}function Rl(e,t){return nr(t[e])}function bs(e,t){return nr(t[e.index])}function Ql(e,t){return e.data[t]}function Ao(e,t){const n=t[e];return wi(n)?n:n[an]}function lu(e){return!(128&~e[jt])}function pa(e,t){return null==t?null:e[t]}function cu(e){e[il]=0}function nd(e){1024&e[jt]||(e[jt]|=1024,lu(e)&&uu(e))}function Bc(e){return!!(9216&e[jt]||e[oo]?.dirty)}function rd(e){e[wo].changeDetectionScheduler?.notify(8),64&e[jt]&&(e[jt]|=1024),Bc(e)&&uu(e)}function uu(e){e[wo].changeDetectionScheduler?.notify(0);let t=dl(e);for(;null!==t&&!(8192&t[jt])&&(t[jt]|=8192,lu(t));)t=dl(t)}function du(e,t){if(!(256&~e[jt]))throw new ht(911,!1);null===e[sl]&&(e[sl]=[]),e[sl].push(t)}function dl(e){const t=e[An];return hs(t)?t[An]:t}const yn={lFrame:fp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gh=!1;function mh(){return yn.bindingsEnabled}function Cc(){return null!==yn.skipHydrationRootTNode}function Ke(){return yn.lFrame.lView}function wn(){return yn.lFrame.tView}function ad(e){return yn.lFrame.contextLView=e,e[Sr]}function yh(e){return yn.lFrame.contextLView=null,e}function br(){let e=hu();for(;null!==e&&64===e.type;)e=e.parent;return e}function hu(){return yn.lFrame.currentTNode}function ja(e,t){const n=yn.lFrame;n.currentTNode=e,n.isParent=t}function ld(){return yn.lFrame.isParent}function cd(){yn.lFrame.isParent=!1}function op(){return gh}function ap(e){gh=e}function Ro(){const e=yn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hl(){return yn.lFrame.bindingIndex++}function Xl(e){const t=yn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yy(e,t){const n=yn.lFrame;n.bindingIndex=n.bindingRootIndex=e,_h(t)}function _h(e){yn.lFrame.currentDirectiveIndex=e}function Eh(){return yn.lFrame.currentQueryIndex}function ud(e){yn.lFrame.currentQueryIndex=e}function up(e){const t=e[it];return 2===t.type?t.declTNode:1===t.type?e[pr]:null}function dp(e,t,n){if(n&En.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&En.Host||(i=up(a),null===i||(a=a[Ho],10&i.type))););if(null===i)return!1;t=i,e=a}const r=yn.lFrame=hp();return r.currentTNode=t,r.lView=e,!0}function Ih(e){const t=hp(),n=e[it];yn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function hp(){const e=yn.lFrame,t=null===e?null:e.child;return null===t?fp(e):t}function fp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pp(){const e=yn.lFrame;return yn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gp=pp;function Ch(){const e=pp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function js(){return yn.lFrame.selectedIndex}function Tc(e){yn.lFrame.selectedIndex=e}function Jr(){const e=yn.lFrame;return Ql(e.tView,e.selectedIndex)}function Th(){yn.lFrame.currentNamespace=xc}let yp=!0;function fu(){return yp}function fl(e){yp=e}function pu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:m,ngAfterViewInit:I,ngAfterViewChecked:O,ngOnDestroy:L}=a;u&&(e.contentHooks??=[]).push(-n,u),m&&((e.contentHooks??=[]).push(n,m),(e.contentCheckHooks??=[]).push(n,m)),I&&(e.viewHooks??=[]).push(-n,I),O&&((e.viewHooks??=[]).push(n,O),(e.viewCheckHooks??=[]).push(n,O)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function dd(e,t,n){_p(e,t,3,n)}function hd(e,t,n,r){(3&e[jt])===n&&_p(e,t,n,r)}function fd(e,t){let n=e[jt];(3&n)===t&&(n&=16383,n+=1,e[jt]=n)}function _p(e,t,n,r){const a=r??-1,u=t.length-1;let m=0;for(let I=void 0!==r?65535&e[il]:0;I<u;I++)if("number"==typeof t[I+1]){if(m=t[I],null!=r&&m>=r)break}else t[I]<0&&(e[il]+=65536),(m<a||-1==a)&&(wy(e,n,t,I),e[il]=(4294901760&e[il])+I+2),I++}function vp(e,t){bo(4,e,t);const n=$(null);try{t.call(e)}finally{$(n),bo(5,e,t)}}function wy(e,t,n,r){const i=n[r]<0,a=n[r+1],m=e[i?-n[r]:n[r]];i?e[jt]>>14<e[il]>>16&&(3&e[jt])===t&&(e[jt]+=16384,vp(m,a)):vp(m,a)}const jc=-1;class Hc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const se={};class fe{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=rr(r);const i=this.injector.get(t,se,r);return i!==se||n===se?i:this.parentInjector.get(t,n,r)}}function He(e){return e!==jc}function Ge(e){return 32767&e}function wt(e,t){let n=function Xe(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ho],n--;return r}let dr=!0;function Ki(e){const t=dr;return dr=e,t}const Wc=255,gu=5;let Ep=0;const Zl={};function wh(e,t){const n=Dy(e,t);if(-1!==n)return n;const r=t[it];r.firstCreatePass&&(e.injectorIndex=t.length,Ip(r.data,e),Ip(t,null),Ip(r.blueprint,null));const i=Dh(e,t),a=e.injectorIndex;if(He(i)){const u=Ge(i),m=wt(i,t),I=m[it].data;for(let O=0;O<8;O++)t[a+O]=m[u+O]|I[u+O]}return t[a+8]=i,a}function Ip(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dy(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Dh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Py(i),null===r)return jc;if(n++,i=i[Ho],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return jc}function Cp(e,t,n){!function Kw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),null==r&&(r=n[Js]=Ep++);const i=r&Wc;t.data[e+(i>>gu)]|=1<<i}(e,t,n)}function Sy(e,t,n){if(n&En.Optional||void 0!==e)return e;ia()}function by(e,t,n,r){if(n&En.Optional&&void 0===r&&(r=null),!(n&(En.Self|En.Host))){const i=e[Ti],a=jr(void 0);try{return i?i.get(t,r,n&En.Optional):Wi(t,r,n&En.Optional)}finally{jr(a)}}return Sy(r,0,n)}function Ay(e,t,n,r=En.Default,i){if(null!==e){if(2048&t[jt]&&!(r&En.Self)){const u=function Zw(e,t,n,r,i){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[jt]&&!(512&u[jt]);){const m=Ry(a,u,n,r|En.Self,Zl);if(m!==Zl)return m;let I=a.parent;if(!I){const O=u[wl];if(O){const L=O.get(n,Zl,r);if(L!==Zl)return L}I=Py(u),u=u[Ho]}a=I}return i}(e,t,n,r,Zl);if(u!==Zl)return u}const a=Ry(e,t,n,r,Zl);if(a!==Zl)return a}return by(t,n,r,i)}function Ry(e,t,n,r,i){const a=function Yw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Js)?e[Js]:void 0;return"number"==typeof t?t>=0?t&Wc:Xw:t}(n);if("function"==typeof a){if(!dp(t,e,r))return r&En.Host?Sy(i,0,r):by(t,n,r,i);try{let u;if(u=a(r),null!=u||r&En.Optional)return u;ia()}finally{gp()}}else if("number"==typeof a){let u=null,m=Dy(e,t),I=jc,O=r&En.Host?t[tr][pr]:null;for((-1===m||r&En.SkipSelf)&&(I=-1===m?Dh(e,t):t[m+8],I!==jc&&My(r,!1)?(u=t[it],m=Ge(I),t=wt(I,t)):m=-1);-1!==m;){const L=t[it];if(Ny(a,m,L.data)){const Y=Qw(m,t,n,u,r,O);if(Y!==Zl)return Y}I=t[m+8],I!==jc&&My(r,t[it].data[m+8]===O)&&Ny(a,m,t)?(u=L,m=Ge(I),t=wt(I,t)):m=-1}}return i}function Qw(e,t,n,r,i,a){const u=t[it],m=u.data[e+8],L=Sh(m,u,n,null==r?ol(m)&&dr:r!=u&&!!(3&m.type),i&En.Host&&a===m);return null!==L?zc(t,u,L,m):Zl}function Sh(e,t,n,r,i){const a=e.providerIndexes,u=t.data,m=1048575&a,I=e.directiveStart,L=a>>20,ae=i?m+L:e.directiveEnd;for(let pe=r?m:m+L;pe<ae;pe++){const we=u[pe];if(pe<I&&n===we||pe>=I&&we.type===n)return pe}if(i){const pe=u[I];if(pe&&ao(pe)&&pe.type===n)return I}return null}function zc(e,t,n,r){let i=e[n];const a=t.data;if(function l(e){return e instanceof Hc}(i)){const u=i;u.resolving&&function es(e,t){throw t&&t.join(" > "),new ht(-200,e)}(function Pn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():tn(e)}(a[n]));const m=Ki(u.canSeeViewProviders);u.resolving=!0;const O=u.injectImpl?jr(u.injectImpl):null;dp(e,r,En.Default);try{i=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ty(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const u=ye(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}i&&(n.preOrderHooks??=[]).push(0-e,i),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==O&&jr(O),Ki(m),u.resolving=!1,gp()}}return i}function Ny(e,t,n){return!!(n[t+(e>>gu)]&1<<e)}function My(e,t){return!(e&En.Self||e&En.Host&&t)}class As{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ay(this._tNode,this._lView,t,rr(r),n)}}function Xw(){return new As(br(),Ke())}function Oy(e){return Fr(()=>{const t=e.prototype.constructor,n=t[ii]||Tp(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[ii]||Tp(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Tp(e){return ea(e)?()=>{const t=Tp(Vt(e));return t&&t()}:Uo(e)}function Py(e){const t=e[it],n=t.type;return 2===n?t.declTNode:1===n?e[pr]:null}function bh(e){return function qw(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const a=n[i];if(io(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}}return null}(br(),e)}function Uy(e,t=null,n=null,r){const i=By(e,t,n,r);return i.resolveInjectorInitializers(),i}function By(e,t=null,n=null,r,i=new Set){const a=[n||bn,Ot(e)];return r=r||("object"==typeof e?void 0:Cr(e)),new Rt(a,t||ot(),r||null,i)}class co{static{this.THROW_IF_NOT_FOUND=eo}static{this.NULL=new Is}static create(t,n){if(Array.isArray(t))return Uy({name:""},n,t,"");{const r=t.name??"";return Uy({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=In({token:co,providedIn:"any",factory:()=>nn(Fl)})}static{this.__NG_ELEMENT_ID__=-1}}new Ft("").__NG_ELEMENT_ID__=e=>{const t=br();if(null===t)throw new ht(204,!1);if(2&t.type)return t.value;if(e&En.Optional)return null;throw new ht(204,!1)};function Dp(e){return e.ngOriginalError}const jy=!0;let pd=(()=>{class e{static{this.__NG_ELEMENT_ID__=lD}static{this.__NG_ENV_ID__=n=>n}}return e})();class aD extends pd{constructor(t){super(),this._lView=t}onDestroy(t){return du(this._lView,t),()=>function id(e,t){if(null===e[sl])return;const n=e[sl].indexOf(t);-1!==n&&e[sl].splice(n,1)}(this._lView,t)}}function lD(){return new aD(Ke())}let Gc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=In({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Jl=class cD extends Wn.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,ar()&&(this.destroyRef=nt(pd,{optional:!0})??void 0,this.pendingTasks=nt(Gc,{optional:!0})??void 0)}emit(t){const n=$(null);try{super.next(t)}finally{$(n)}}subscribe(t,n,r){let i=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const I=t;i=I.next?.bind(I),a=I.error?.bind(I),u=I.complete?.bind(I)}this.__isAsync&&(a=this.wrapInTimeout(a),i&&(i=this.wrapInTimeout(i)),u&&(u=this.wrapInTimeout(u)));const m=super.subscribe({next:i,error:a,complete:u});return t instanceof zn.yU&&t.add(m),m}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function Rh(...e){}function Hy(e){let t,n;function r(){e=Rh;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function $y(e){return queueMicrotask(()=>e()),()=>{e=Rh}}const Sp="isAngularZone",Nh=Sp+"_ID";let uD=0;class Di{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:a=jy}=t;if(typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!i&&r,u.shouldCoalesceRunChangeDetection=i,u.callbackScheduled=!1,u.scheduleInRootZone=a,function fD(e){const t=()=>{!function hD(e){function t(){Hy(()=>{e.callbackScheduled=!1,Ap(e),e.isCheckStableRunning=!0,bp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ap(e))}(e)},n=uD++;e._inner=e._inner.fork({name:"angular",properties:{[Sp]:!0,[Nh]:n,[Nh+n]:!0},onInvokeTask:(r,i,a,u,m,I)=>{if(function pD(e){return Gy(e,"__ignore_ng_zone__")}(I))return r.invokeTask(a,u,m,I);try{return Wy(e),r.invokeTask(a,u,m,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),zy(e)}},onInvoke:(r,i,a,u,m,I,O)=>{try{return Wy(e),r.invoke(a,u,m,I,O)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function gD(e){return Gy(e,"__scheduler_tick__")}(I)&&t(),zy(e)}},onHasTask:(r,i,a,u)=>{r.hasTask(a,u),i===a&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Ap(e),bp(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(r,i,a,u)=>(r.handleError(a,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sp)}static assertInAngularZone(){if(!Di.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new ht(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+i,t,dD,Rh,Rh);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const dD={};function bp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ap(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Wy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zy(e){e._nesting--,bp(e)}class Rp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}function Gy(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class uc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Dp(t);for(;n&&Dp(n);)n=Dp(n);return n||null}}const yD=new Ft("",{providedIn:"root",factory:()=>{const e=nt(Di),t=nt(uc);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function _D(){return _u(br(),Ke())}function _u(e,t){return new gd(bs(e,t))}let gd=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=_D}}return e})();function qy(e){return e instanceof gd?e.nativeElement:e}function vD(){return this._results[Symbol.iterator]()}class Np{get changes(){return this._changes??=new Jl}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Np.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Or(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Bo(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function yd(e){return!(128&~e.flags)}const Op=new Map;let ID=0;function Pp(e){Op.delete(e[Wl])}const Mh="__ngContext__";function No(e,t){wi(t)?(e[Mh]=t[Wl],function TD(e){Op.set(e[Wl],e)}(t)):e[Mh]=t}function i_(e){return o_(e[$l])}function s_(e){return o_(e[Ui])}function o_(e){for(;null!==e&&!hs(e);)e=e[Ui];return e}let xp;function BD(e){xp=e}function wc(){if(void 0!==xp)return xp;if(typeof document<"u")return document;throw new ht(210,!1)}const Ph=new Ft("",{providedIn:"root",factory:()=>VD}),VD="ng",p_=new Ft(""),kh=new Ft("",{providedIn:"platform",factory:()=>"unknown"}),jD=new Ft(""),HD=new Ft("",{providedIn:"root",factory:()=>wc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let g_=()=>null;function Hp(e,t,n=!1){return g_(e,t,n)}const T_=new Ft("",{providedIn:"root",factory:()=>!1});let Hh,$h;function Cu(e){return function Kp(){if(void 0===Hh&&(Hh=null,_r.trustedTypes))try{Hh=_r.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hh}()?.createHTML(e)||e}function qp(){if(void 0===$h&&($h=null,_r.trustedTypes))try{$h=_r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $h}function S_(e){return qp()?.createHTML(e)||e}function A_(e){return qp()?.createScriptURL(e)||e}class R_{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qs})`}}function Dc(e){return e instanceof R_?e.changingThisBreaksApplicationSecurity:e}function wd(e,t){const n=function l0(e){return e instanceof R_&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Qs})`)}return n===t}class c0{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Cu(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class u0{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Cu(t),n}}const h0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qp(e){return(e=String(e)).match(h0)?e:"unsafe:"+e}function dc(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Dd(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const M_=dc("area,br,col,hr,img,wbr"),O_=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),P_=dc("rp,rt"),Yp=Dd(M_,Dd(O_,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dd(P_,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dd(P_,O_)),Xp=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),k_=Dd(Xp,dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),f0=dc("script,style,template");class p0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)i.push(n),n=y0(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=m0(n);if(a){n=a;break}n=i.pop()}return this.buf.join("")}startElement(t){const n=x_(t).toLowerCase();if(!Yp.hasOwnProperty(n))return this.sanitizedSomething=!0,!f0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),u=a.name,m=u.toLowerCase();if(!k_.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let I=a.value;Xp[m]&&(I=Qp(I)),this.buf.push(" ",u,'="',F_(I),'"')}return this.buf.push(">"),!0}endElement(t){const n=x_(t).toLowerCase();Yp.hasOwnProperty(n)&&!M_.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(F_(t))}}function m0(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw L_(t);return t}function y0(e){const t=e.firstChild;if(t&&function g0(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw L_(t);return t}function x_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function L_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const _0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v0=/([^\#-~ |!])/g;function F_(e){return e.replace(/&/g,"&amp;").replace(_0,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(v0,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wh;function Zp(e){return"content"in e&&function I0(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Tu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Tu||{});function U_(e){const t=Sd();return t?S_(t.sanitize(Tu.HTML,e)||""):wd(e,"HTML")?S_(Dc(e)):function E0(e,t){let n=null;try{Wh=Wh||function N_(e){const t=new u0(e);return function d0(){try{return!!(new window.DOMParser).parseFromString(Cu(""),"text/html")}catch{return!1}}()?new c0(t):t}(e);let r=t?String(t):"";n=Wh.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=Wh.getInertBodyElement(r)}while(r!==a);return Cu((new p0).sanitizeChildren(Zp(n)||n))}finally{if(n){const r=Zp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(wc(),tn(e))}function Jp(e){const t=Sd();return t?t.sanitize(Tu.URL,e)||"":wd(e,"URL")?Dc(e):Qp(tn(e))}function B_(e){const t=Sd();if(t)return A_(t.sanitize(Tu.RESOURCE_URL,e)||"");if(wd(e,"ResourceURL"))return A_(Dc(e));throw new ht(904,!1)}function V_(e,t,n){return function S0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?B_:Jp}(t,n)(e)}function Sd(){const e=Ke();return e&&e[wo].sanitizer}const b0=/^>|^->|<!--|-->|--!>|<!-$/g,A0=/(<|>)/g,R0="\u200b$1\u200b";function z_(e){return e.ownerDocument}function Ha(e){return e instanceof Function?e():e}var Kh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Kh||{});let ng;function rg(e,t){return ng(e,t)}function Du(e,t,n,r,i){if(null!=r){let a,u=!1;hs(r)?a=r:wi(r)&&(u=!0,r=r[an]);const m=nr(r);0===e&&null!==n?null==i?ev(t,n,m):qc(t,n,m,i||null,!0):1===e&&null!==n?qc(t,n,m,i||null,!0):2===e?function Ad(e,t,n){e.removeChild(null,t,n)}(t,m,u):3===e&&t.destroyNode(m),null!=a&&function q0(e,t,n,r,i){const a=n[So];a!==nr(n)&&Du(t,e,r,a,i);for(let m=Hr;m<n.length;m++){const I=n[m];Xh(I[it],I,e,t,r,a)}}(t,e,a,n,i)}}function sg(e,t){return e.createComment(function j_(e){return e.replace(b0,t=>t.replace(A0,R0))}(t))}function qh(e,t,n){return e.createElement(t,n)}function X_(e,t){t[wo].changeDetectionScheduler?.notify(9),Xh(e,t,t[ln],2,null,null)}function Z_(e,t){const n=e[Gl],r=t[An];(wi(r)||t[tr]!==r[An][tr])&&(e[jt]|=_c.HasTransplantedViews),null===n?e[Gl]=[t]:n.push(t)}function og(e,t){const n=e[Gl],r=n.indexOf(t);n.splice(r,1)}function bd(e,t){if(e.length<=Hr)return;const n=Hr+t,r=e[n];if(r){const i=r[Tl];null!==i&&i!==e&&og(i,r),t>0&&(e[n-1][Ui]=r[Ui]);const a=ca(e,Hr+t);!function V0(e,t){X_(e,t),t[an]=null,t[pr]=null}(r[it],r);const u=a[Do];null!==u&&u.detachView(a[it]),r[An]=null,r[Ui]=null,r[jt]&=-129}return r}function Qh(e,t){if(!(256&t[jt])){const n=t[ln];n.destroyNode&&Xh(e,t,n,3,null,null),function H0(e){let t=e[$l];if(!t)return ag(e[it],e);for(;t;){let n=null;if(wi(t))n=t[$l];else{const r=t[Hr];r&&(n=r)}if(!n){for(;t&&!t[Ui]&&t!==e;)wi(t)&&ag(t[it],t),t=t[An];null===t&&(t=e),wi(t)&&ag(t[it],t),n=t&&t[Ui]}t=n}}(t)}}function ag(e,t){if(256&t[jt])return;const n=$(null);try{t[jt]&=-129,t[jt]|=256,t[oo]&&Pt(t[oo]),function z0(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Hc)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const m=i[a[u]],I=a[u+1];bo(4,m,I);try{I.call(m)}finally{bo(5,m,I)}}else{bo(4,i,a);try{a.call(i)}finally{bo(5,i,a)}}}}}(e,t),function W0(e,t){const n=e.cleanup,r=t[jo];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[jo]=null);const i=t[sl];if(null!==i){t[sl]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(e,t),1===t[it].type&&t[ln].destroy();const r=t[Tl];if(null!==r&&hs(t[An])){r!==t[An]&&og(r,t);const i=t[Do];null!==i&&i.detachView(e)}Pp(t)}finally{$(n)}}function lg(e,t,n){return function J_(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[an];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===Cs.None||a===Cs.Emulated)return null}return bs(r,n)}}(e,t.parent,n)}function qc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ev(e,t,n){e.appendChild(t,n)}function tv(e,t,n,r,i){null!==r?qc(e,t,n,r,i):ev(e,t,n)}function cg(e,t){return e.parentNode(t)}function nv(e,t,n){return iv(e,t,n)}let ug,iv=function rv(e,t,n){return 40&e.type?bs(e,n):null};function Yh(e,t,n,r){const i=lg(e,r,t),a=t[ln],m=nv(r.parent||t[pr],r,t);if(null!=i)if(Array.isArray(n))for(let I=0;I<n.length;I++)tv(a,i,n[I],m,!1);else tv(a,i,n,m,!1);void 0!==ug&&ug(a,r,t,n,i)}function Qc(e,t){if(null!==t){const n=t.type;if(3&n)return bs(t,e);if(4&n)return dg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Qc(e,r);{const i=e[t.index];return hs(i)?dg(-1,i):nr(i)}}if(128&n)return Qc(e,t.next);if(32&n)return rg(t,e)()||nr(e[t.index]);{const r=ov(e,t);return null!==r?Array.isArray(r)?r[0]:Qc(dl(e[tr]),r):Qc(e,t.next)}}return null}function ov(e,t){return null!==t?e[tr][pr].projection[t.projection]:null}function dg(e,t){const n=Hr+e+1;if(n<t.length){const r=t[n],i=r[it].firstChild;if(null!==i)return Qc(r,i)}return t[So]}function hg(e,t,n,r,i,a,u){for(;null!=n;){if(128===n.type){n=n.next;continue}const m=r[n.index],I=n.type;if(u&&0===t&&(m&&No(nr(m),r),n.flags|=2),32&~n.flags)if(8&I)hg(e,t,n.child,r,i,a,!1),Du(t,e,i,m,a);else if(32&I){const O=rg(n,r);let L;for(;L=O();)Du(t,e,i,L,a);Du(t,e,i,m,a)}else 16&I?lv(e,t,r,n,i,a):Du(t,e,i,m,a);n=u?n.projectionNext:n.next}}function Xh(e,t,n,r,i,a){hg(n,r,e.firstChild,t,i,a,!1)}function lv(e,t,n,r,i,a){const u=n[tr],I=u[pr].projection[r.projection];if(Array.isArray(I))for(let O=0;O<I.length;O++)Du(t,e,i,I[O],a);else{let O=I;const L=u[An];yd(r)&&(O.flags|=128),hg(e,t,O,L,i,a,!0)}}function cv(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function uv(e,t,n){const{mergedAttrs:r,classes:i,styles:a}=n;null!==r&&To(e,t,r),null!==i&&cv(e,t,i),null!==a&&function Y0(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}const Dn={};function dv(e=1){hv(wn(),Ke(),js()+e,!1)}function hv(e,t,n,r){if(!r)if(3&~t[jt]){const a=e.preOrderHooks;null!==a&&hd(t,a,0,n)}else{const a=e.preOrderCheckHooks;null!==a&&dd(t,a,n)}Tc(n)}function Su(e,t=En.Default){const n=Ke();return null===n?nn(e,t):Ay(br(),n,Vt(e),t)}function fv(){throw new Error("invalid")}function pv(e,t,n,r,i,a){const u=$(null);try{let m=null;i&Gi.SignalBased&&(m=t[r][x]),null!==m&&void 0!==m.transformFn&&(a=m.transformFn(a)),i&Gi.HasDecoratorInputTransform&&(a=e.inputTransforms[r].call(t,a)),null!==e.setInput?e.setInput(t,m,a,n,r):U(t,m,r,a)}finally{$(u)}}function Zh(e,t,n,r,i,a,u,m,I,O,L){const Y=t.blueprint.slice();return Y[an]=i,Y[jt]=204|r,(null!==O||e&&2048&e[jt])&&(Y[jt]|=2048),cu(Y),Y[An]=Y[Ho]=e,Y[Sr]=n,Y[wo]=u||e&&e[wo],Y[ln]=m||e&&e[ln],Y[Ti]=I||e&&e[Ti]||null,Y[pr]=a,Y[Wl]=function CD(){return ID++}(),Y[oi]=L,Y[wl]=O,Y[tr]=2==t.type?e[tr]:Y,Y}function Yc(e,t,n,r,i){let a=e.data[t];if(null===a)a=function fg(e,t,n,r,i){const a=hu(),u=ld(),I=e.data[t]=function iS(e,t,n,r,i,a){let u=t?t.injectorIndex:-1,m=0;return Cc()&&(m|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=I),null!==a&&(u?null==a.child&&null!==I.parent&&(a.child=I):null===a.next&&(a.next=I,I.prev=a)),I}(e,t,n,r,i),function my(){return yn.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const u=function Vc(){const e=yn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return ja(a,!0),a}function Rd(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function gv(e,t,n,r,i){const a=js(),u=2&r;try{Tc(-1),u&&t.length>Mt&&hv(e,t,Mt,!1),bo(u?2:0,i),n(r,i)}finally{Tc(a),bo(u?3:1,i)}}function pg(e,t,n){if(vc(t)){const r=$(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const m=e.data[u];m.contentQueries&&m.contentQueries(1,n[u],u)}}finally{$(r)}}}function gg(e,t,n){mh()&&(function dS(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;ol(n)&&function _S(e,t,n){const r=bs(t,e),i=mv(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const m=Jh(e,Zh(e,i,null,u,r,t,null,e[wo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=m}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||wh(n,t),No(r,t);const u=n.initialInputs;for(let m=i;m<a;m++){const I=e.data[m],O=zc(t,e,m,n);No(O,t),null!==u&&vS(0,m-i,O,I,0,u),ao(I)&&(Ao(n.index,t)[Sr]=zc(t,e,m,n))}}(e,t,n,bs(n,t)),!(64&~n.flags)&&Iv(e,t,n))}function mg(e,t,n=bs){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],m=-1===u?n(t,e):e[u];e[i++]=m}}}function mv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function yg(e,t,n,r,i,a,u,m,I,O,L){const Y=Mt+r,ae=Y+i,pe=function Z0(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Dn);return n}(Y,ae),we="function"==typeof O?O():O;return pe[it]={type:e,blueprint:pe,template:n,queries:null,viewQuery:m,declTNode:t,data:pe.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:I,consts:we,incompleteFirstPass:!1,ssrId:L}}let yv=()=>null;function _v(e,t,n,r,i){for(let a in t){if(!t.hasOwnProperty(a))continue;const u=t[a];if(void 0===u)continue;r??={};let m,I=Gi.None;Array.isArray(u)?(m=u[0],I=u[1]):m=u;let O=a;if(null!==i){if(!i.hasOwnProperty(a))continue;O=i[a]}0===e?vv(r,n,O,m,I):vv(r,n,O,m)}return r}function vv(e,t,n,r,i){let a;e.hasOwnProperty(n)?(a=e[n]).push(t,r):a=e[n]=[t,r],void 0!==i&&a.push(i)}function ma(e,t,n,r,i,a,u,m){const I=bs(t,n);let L,O=t.inputs;!m&&null!=O&&(L=O[r])?(Cg(e,n,L,r,i),ol(t)&&function aS(e,t){const n=Ao(t,e);16&n[jt]||(n[jt]|=64)}(n,t.index)):3&t.type&&(r=function oS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,a.setProperty(I,r,i))}function _g(e,t,n,r){if(mh()){const i=null===r?null:{"":-1},a=function fS(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(Ul(t,u.selectors,!1))if(r||(r=[]),ao(u))if(null!==u.findHostDirectiveDefs){const m=[];i=i||new Map,u.findHostDirectiveDefs(u,m,i),r.unshift(...m,u),vg(e,t,m.length)}else r.unshift(u),vg(e,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(e,n);let u,m;null===a?u=m=null:[u,m]=a,null!==u&&Ev(e,t,n,u,i,m),i&&function pS(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new ht(-301,!1);r.push(t[i],a)}}}(n,r,i)}n.mergedAttrs=La(n.mergedAttrs,n.attrs)}function Ev(e,t,n,r,i,a){for(let O=0;O<r.length;O++)Cp(wh(n,t),e,r[O].type);!function mS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let O=0;O<r.length;O++){const L=r[O];L.providersResolver&&L.providersResolver(L)}let u=!1,m=!1,I=Rd(e,t,r.length,null);for(let O=0;O<r.length;O++){const L=r[O];n.mergedAttrs=La(n.mergedAttrs,L.hostAttrs),yS(e,n,t,I,L),gS(I,L,i),null!==L.contentQueries&&(n.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(n.flags|=64);const Y=L.type.prototype;!u&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!m&&(Y.ngOnChanges||Y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),m=!0),I++}!function sS(e,t,n){const i=t.directiveEnd,a=e.data,u=t.attrs,m=[];let I=null,O=null;for(let L=t.directiveStart;L<i;L++){const Y=a[L],ae=n?n.get(Y):null,we=ae?ae.outputs:null;I=_v(0,Y.inputs,L,I,ae?ae.inputs:null),O=_v(1,Y.outputs,L,O,we);const Qe=null===I||null===u||Li(t)?null:ES(I,L,u);m.push(Qe)}null!==I&&(I.hasOwnProperty("class")&&(t.flags|=8),I.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=m,t.inputs=I,t.outputs=O}(e,n,a)}function Iv(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,u=function _y(){return yn.lFrame.currentDirectiveIndex}();try{Tc(a);for(let m=r;m<i;m++){const I=e.data[m],O=t[m];_h(m),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&hS(I,O)}}finally{Tc(-1),_h(u)}}function hS(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ao(t)&&(n[""]=e)}}function yS(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=Uo(i.type)),u=new Hc(a,ao(i),Su);e.blueprint[r]=u,n[r]=u,function cS(e,t,n,r,i){const a=i.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const m=~t.index;(function uS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=m&&u.push(m),u.push(n,r,a)}}(e,t,r,Rd(e,n,i.hostVars,Dn),i)}function ec(e,t,n,r,i,a){const u=bs(e,t);!function Eg(e,t,n,r,i,a,u){if(null==a)e.removeAttribute(t,i,n);else{const m=null==u?tn(a):u(a,r||"",i);e.setAttribute(t,i,m,n)}}(t[ln],u,a,e.value,n,r,i)}function vS(e,t,n,r,i,a){const u=a[t];if(null!==u)for(let m=0;m<u.length;)pv(r,n,u[m++],u[m++],u[m++],u[m++])}function ES(e,t,n){let r=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let m=0;m<u.length;m+=3)if(u[m]===t){r.push(a,u[m+1],u[m+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Cv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Tv(e,t){const n=e.contentQueries;if(null!==n){const r=$(null);try{for(let i=0;i<n.length;i+=2){const u=n[i+1];if(-1!==u){const m=e.data[u];ud(n[i]),m.contentQueries(2,t[u],u)}}}finally{$(r)}}}function Jh(e,t){return e[$l]?e[Mc][Ui]=t:e[$l]=t,e[Mc]=t,t}function Ig(e,t,n){ud(0);const r=$(null);try{t(e,n)}finally{$(r)}}function wv(e){return e[jo]??=[]}function Dv(e){return e.cleanup??=[]}function ef(e,t){const n=e[Ti],r=n?n.get(uc,null):null;r&&r.handleError(t)}function Cg(e,t,n,r,i){for(let a=0;a<n.length;){const u=n[a++],m=n[a++],I=n[a++];pv(e.data[u],t[u],r,m,I,i)}}function IS(e,t){const n=Ao(t,e),r=n[it];!function CS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[an];null!==i&&null===n[oi]&&(n[oi]=Hp(i,n[Ti])),Tg(r,n,n[Sr])}function Tg(e,t,n){Ih(t);try{const r=e.viewQuery;null!==r&&Ig(1,r,n);const i=e.template;null!==i&&gv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Do]?.finishViewCreation(e),e.staticContentQueries&&Tv(e,t),e.staticViewQueries&&Ig(2,e.viewQuery,n);const a=e.components;null!==a&&function TS(e,t){for(let n=0;n<t.length;n++)IS(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[jt]&=-5,Ch()}}function bu(e,t,n,r){const i=$(null);try{const a=t.tView,I=Zh(e,a,n,4096&e[jt]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);I[Tl]=e[t.index];const L=e[Do];return null!==L&&(I[Do]=L.createEmbeddedView(a)),Tg(a,I,n),I}finally{$(i)}}function Xc(e,t){return!t||null===t.firstChild||yd(e)}function Au(e,t,n,r=!0){const i=t[it];if(function $0(e,t,n,r){const i=Hr+r,a=n.length;r>0&&(n[i-1][Ui]=t),r<a-Hr?(t[Ui]=n[i],la(n,Hr+r,t)):(n.push(t),t[Ui]=null),t[An]=n;const u=t[Tl];null!==u&&n!==u&&Z_(u,t);const m=t[Do];null!==m&&m.insertView(e),rd(t),t[jt]|=128}(i,t,e,n),r){const u=dg(n,e),m=t[ln],I=cg(m,e[So]);null!==I&&function j0(e,t,n,r,i,a){r[an]=i,r[pr]=t,Xh(e,r,n,1,i,a)}(i,e[pr],m,t,I,u)}const a=t[oi];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function Nd(e,t,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const a=t[n.index];null!==a&&r.push(nr(a)),hs(a)&&Av(a,r);const u=n.type;if(8&u)Nd(e,t,n.child,r);else if(32&u){const m=rg(n,t);let I;for(;I=m();)r.push(I)}else if(16&u){const m=ov(t,n);if(Array.isArray(m))r.push(...m);else{const I=dl(t[tr]);Nd(I[it],I,m,r,!0)}}n=i?n.projectionNext:n.next}return r}function Av(e,t){for(let n=Hr;n<e.length;n++){const r=e[n],i=r[it].firstChild;null!==i&&Nd(r[it],r,i,t)}e[So]!==e[an]&&t.push(e[So])}let Rv=[];const bS={...K,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{uu(e.lView)},consumerOnSignalRead(){this.lView[oo]=this}},RS={...K,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=dl(e.lView);for(;t&&!Nv(t[it]);)t=dl(t);t&&nd(t)},consumerOnSignalRead(){this.lView[oo]=this}};function Nv(e){return 2!==e.type}const NS=100;function tf(e,t=!0,n=0){const r=e[wo],i=r.rendererFactory;i.begin?.();try{!function MS(e,t){const n=op();try{ap(!0),Dg(e,t);let r=0;for(;Bc(e);){if(r===NS)throw new ht(103,!1);r++,Dg(e,1)}}finally{ap(n)}}(e,n)}catch(u){throw t&&ef(e,u),u}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function OS(e,t,n,r){const i=t[jt];if(!(256&~i))return;t[wo].inlineEffectRunner?.flush(),Ih(t);let m=!0,I=null,O=null;Nv(e)?(O=function wS(e){return e[oo]??function DS(e){const t=Rv.pop()??Object.create(bS);return t.lView=e,t}(e)}(t),I=vt(O)):null===function V(){return A}()?(m=!1,O=function AS(e){const t=e[oo]??Object.create(RS);return t.lView=e,t}(t),I=vt(O)):t[oo]&&(Pt(t[oo]),t[oo]=null);try{cu(t),function lp(e){return yn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&gv(e,t,n,2,r);const L=!(3&~i);if(L){const pe=e.preOrderCheckHooks;null!==pe&&dd(t,pe,null)}else{const pe=e.preOrderHooks;null!==pe&&hd(t,pe,0,null),fd(t,0)}if(function PS(e){for(let t=i_(e);null!==t;t=s_(t)){if(!(t[jt]&_c.HasTransplantedViews))continue;const n=t[Gl];for(let r=0;r<n.length;r++)nd(n[r])}}(t),Ov(t,0),null!==e.contentQueries&&Tv(e,t),L){const pe=e.contentCheckHooks;null!==pe&&dd(t,pe)}else{const pe=e.contentHooks;null!==pe&&hd(t,pe,1),fd(t,1)}!function X0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Tc(~i);else{const a=i,u=n[++r],m=n[++r];yy(u,a),m(2,t[a])}}}finally{Tc(-1)}}(e,t);const Y=e.components;null!==Y&&kv(t,Y,0);const ae=e.viewQuery;if(null!==ae&&Ig(2,ae,r),L){const pe=e.viewCheckHooks;null!==pe&&dd(t,pe)}else{const pe=e.viewHooks;null!==pe&&hd(t,pe,2),fd(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[cc]){for(const pe of t[cc])pe();t[cc]=null}t[jt]&=-73}catch(L){throw uu(t),L}finally{null!==O&&(ut(O,I),m&&function SS(e){e.lView[oo]!==e&&(e.lView=null,Rv.push(e))}(O)),Ch()}}function Ov(e,t){for(let n=i_(e);null!==n;n=s_(n))for(let r=Hr;r<n.length;r++)Pv(n[r],t)}function kS(e,t,n){Pv(Ao(t,e),n)}function Pv(e,t){lu(e)&&Dg(e,t)}function Dg(e,t){const r=e[it],i=e[jt],a=e[oo];let u=!!(0===t&&16&i);if(u||=!!(64&i&&0===t),u||=!!(1024&i),u||=!(!a?.dirty||!rn(a)),u||=!1,a&&(a.dirty=!1),e[jt]&=-9217,u)OS(r,e,r.template,e[Sr]);else if(8192&i){Ov(e,1);const m=r.components;null!==m&&kv(e,m,1)}}function kv(e,t,n){for(let r=0;r<t.length;r++)kS(e,t[r],n)}function Md(e,t){const n=op()?64:1088;for(e[wo].changeDetectionScheduler?.notify(t);e;){e[jt]|=n;const r=dl(e);if(ts(e)&&!r)return e;e=r}return null}class Od{get rootNodes(){const t=this._lView,n=t[it];return Nd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sr]}set context(t){this._lView[Sr]=t}get destroyed(){return!(256&~this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[An];if(hs(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(bd(t,r),ca(n,r))}this._attachedToViewContainer=!1}Qh(this._lView[it],this._lView)}onDestroy(t){du(this._lView,t)}markForCheck(){Md(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[jt]&=-129}reattach(){rd(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,tf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ts(this._lView),n=this._lView[Tl];null!==n&&!t&&og(n,this._lView),X_(this._lView[it],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=t;const n=ts(this._lView),r=this._lView[Tl];null!==r&&!n&&Z_(r,this._lView),rd(this._lView)}}let Pd=(()=>{class e{static{this.__NG_ELEMENT_ID__=FS}}return e})();const xS=Pd,LS=class extends xS{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=bu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Od(i)}};function FS(){return nf(br(),Ke())}function nf(e,t){return 4&e.type?new LS(t,e,_u(e,t)):null}let tE=()=>null;function Jc(e,t){return tE(e,t)}class Nu{}const jd=new Ft("",{providedIn:"root",factory:()=>!1}),nE=new Ft(""),Lg=new Ft("");class Rb{}class rE{}class Mb{resolveComponentFactory(t){throw function Nb(e){const t=Error(`No component factory found for ${Cr(e)}.`);return t.ngComponent=e,t}(t)}}class uf{static{this.NULL=new Mb}}class Fg{}let Ob=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Pb(){const e=Ke(),n=Ao(br().index,e);return(wi(n)?n:e)[ln]}()}}return e})(),kb=(()=>{class e{static{this.\u0275prov=In({token:e,providedIn:"root",factory:()=>null})}}return e})();function Sc(e){return!!b(e)}function hf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const m=t[u];"number"==typeof m?a=m:1==a?i=as(i,m):2==a&&(r=as(r,m+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class aE extends uf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=hn(t);return new Wd(n,this.ngModule)}}function lE(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r];if(void 0===i)continue;const a=Array.isArray(i),u=a?i[0]:i;n.push(t?{propName:u,templateName:r,isSignal:!!((a?i[1]:Gi.None)&Gi.SignalBased)}:{propName:u,templateName:r})}return n}class Wd extends rE{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=lE(t.inputs,!0);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return lE(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Ja(e){return e.map(Ua).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const a=$(null);try{let u=(i=i||this.ngModule)instanceof et?i:i?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const m=u?new fe(t,u):t,I=m.get(Fg,null);if(null===I)throw new ht(407,!1);const Y={rendererFactory:I,sanitizer:m.get(kb,null),inlineEffectRunner:null,changeDetectionScheduler:m.get(Nu,null)},ae=I.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",we=r?function J0(e,t,n,r){const a=r.get(T_,!1)||n===Cs.ShadowDom,u=e.selectRootElement(t,a);return function eS(e){yv(e)}(u),u}(ae,r,this.componentDef.encapsulation,m):qh(ae,pe,function Fb(e){const t=e.toLowerCase();return"svg"===t?xc:"math"===t?"math":null}(pe));let Qe=512;this.componentDef.signals?Qe|=4096:this.componentDef.onPush||(Qe|=16);let ft=null;null!==we&&(ft=Hp(we,m,!0));const yt=yg(0,null,null,1,0,null,null,null,null,null,null),Ye=Zh(null,yt,null,Qe,null,null,Y,ae,m,null,ft);Ih(Ye);let Cn,lr,$r=null;try{const ss=this.componentDef;let _a,ed=null;ss.findHostDirectiveDefs?(_a=[],ed=new Map,ss.findHostDirectiveDefs(ss,_a,ed),_a.push(ss)):_a=[ss];const Ww=function Bb(e,t){const n=e[it],r=Mt;return e[r]=t,Yc(n,r,2,"#host",null)}(Ye,we);$r=function Vb(e,t,n,r,i,a,u){const m=i[it];!function jb(e,t,n,r){for(const i of e)t.mergedAttrs=La(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(hf(t,t.mergedAttrs,!0),null!==n&&uv(r,n,t))}(r,e,t,u);let I=null;null!==t&&(I=Hp(t,i[Ti]));const O=a.rendererFactory.createRenderer(t,n);let L=16;n.signals?L=4096:n.onPush&&(L=64);const Y=Zh(i,mv(n),null,L,i[e.index],e,a,O,null,null,I);return m.firstCreatePass&&vg(m,e,r.length-1),Jh(i,Y),i[e.index]=Y}(Ww,we,ss,_a,Ye,Y,ae),lr=Ql(yt,Mt),we&&function $b(e,t,n,r){if(r)To(e,n,["ng-version","18.2.6"]);else{const{attrs:i,classes:a}=function jl(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!ds(i))break;i=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&To(e,n,i),a&&a.length>0&&cv(e,n,a.join(" "))}}(ae,ss,we,r),void 0!==n&&function Wb(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const a=n[i];r.push(null!=a?Array.from(a):null)}}(lr,this.ngContentSelectors,n),Cn=function Hb(e,t,n,r,i,a){const u=br(),m=i[it],I=bs(u,i);Ev(m,i,u,n,null,r);for(let L=0;L<n.length;L++)No(zc(i,m,u.directiveStart+L,u),i);Iv(m,i,u),I&&No(I,i);const O=zc(i,m,u.directiveStart+u.componentOffset,u);if(e[Sr]=i[Sr]=O,null!==a)for(const L of a)L(O,t);return pg(m,u,i),O}($r,ss,_a,ed,Ye,[zb]),Tg(yt,Ye,null)}catch(ss){throw null!==$r&&Pp($r),Pp(Ye),ss}finally{Ch()}return new Ub(this.componentType,Cn,_u(lr,Ye),Ye,lr)}finally{$(a)}}}class Ub extends Rb{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Od(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;Cg(a[it],a,i,t,n),this.previousInputValues.set(t,n),Md(Ao(this._tNode.index,a),1)}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zb(){const e=br();pu(Ke()[it],e)}let ff=(()=>{class e{static{this.__NG_ELEMENT_ID__=Gb}}return e})();function Gb(){return dE(br(),Ke())}const Kb=ff,cE=class extends Kb{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _u(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const t=Dh(this._hostTNode,this._hostLView);if(He(t)){const n=wt(t,this._hostLView),r=Ge(t);return new As(n[it].data[r+8],n)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=uE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Hr}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const u=Jc(this._lContainer,t.ssrId),m=t.createEmbeddedViewImpl(n||{},a,u);return this.insertImpl(m,i,Xc(this._hostTNode,u)),m}createComponent(t,n,r,i,a){const u=t&&!function rl(e){return"function"==typeof e}(t);let m;if(u)m=n;else{const we=n||{};m=we.index,r=we.injector,i=we.projectableNodes,a=we.environmentInjector||we.ngModuleRef}const I=u?t:new Wd(hn(t)),O=r||this.parentInjector;if(!a&&null==I.ngModule){const Qe=(u?O:this.parentInjector).get(et,null);Qe&&(a=Qe)}const L=hn(I.componentType??{}),Y=Jc(this._lContainer,L?.id??null),pe=I.create(O,i,Y?.firstChild??null,a);return this.insertImpl(pe.hostView,m,Xc(this._hostTNode,Y)),pe}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function ly(e){return hs(e[An])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const I=i[An],O=new cE(I,I[pr],I[An]);O.detach(O.indexOf(t))}}const a=this._adjustIndex(n),u=this._lContainer;return Au(u,i,a,r),t.attachToViewContainerRef(),la(Vg(u),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=uE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=bd(this._lContainer,n);r&&(ca(Vg(this._lContainer),n),Qh(r[it],r))}detach(t){const n=this._adjustIndex(t,-1),r=bd(this._lContainer,n);return r&&null!=ca(Vg(this._lContainer),n)?new Od(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uE(e){return e[8]}function Vg(e){return e[8]||(e[8]=[])}function dE(e,t){let n;const r=t[e.index];return hs(r)?n=r:(n=Cv(r,t,null,e),t[e.index]=n,Jh(t,n)),hE(n,t,e,r),new cE(n,e,t)}let hE=function pE(e,t,n,r){if(e[So])return;let i;i=8&n.type?nr(r):function qb(e,t){const n=e[ln],r=n.createComment(""),i=bs(t,e);return qc(n,cg(n,i),r,function G0(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[So]=i},jg=()=>!1;class Hg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hg(this.queryList)}setDirty(){this.queryList.setDirty()}}class $g{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let a=0;a<r;a++){const u=n.getByIndex(a);i.push(this.queries[u.indexInDeclarationView].clone())}return new $g(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==qg(t,n).matches&&this.queries[n].setDirty()}}class gE{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function nA(e){return e.split(",").map(t=>t.trim())}(t):t}}class Wg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Wg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new zg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(t,n,Zb(n,a)),this.matchTNodeWithReadOption(t,n,Sh(n,t,a,!1,!1))}else r===Pd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Sh(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===gd||i===ff||i===Pd&&4&n.type)this.addMatch(n.index,-2);else{const a=Sh(n,t,i,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Zb(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eA(e,t,n,r){return-1===n?function Jb(e,t){return 11&e.type?_u(e,t):4&e.type?nf(e,t):null}(t,e):-2===n?function tA(e,t,n){return n===gd?_u(t,e):n===Pd?nf(t,e):n===ff?dE(t,e):void 0}(e,t,r):zc(e,e[it],n,t)}function mE(e,t,n,r){const i=t[Do].queries[r];if(null===i.matches){const a=e.data,u=n.matches,m=[];for(let I=0;null!==u&&I<u.length;I+=2){const O=u[I];m.push(O<0?null:eA(t,a[O],u[I+1],n.metadata.read))}i.matches=m}return i.matches}function Gg(e,t,n,r){const i=e.queries.getByIndex(n),a=i.matches;if(null!==a){const u=mE(e,t,i,n);for(let m=0;m<a.length;m+=2){const I=a[m];if(I>0)r.push(u[m/2]);else{const O=a[m+1],L=t[-I];for(let Y=Hr;Y<L.length;Y++){const ae=L[Y];ae[Tl]===ae[An]&&Gg(ae[it],ae,O,r)}if(null!==L[Gl]){const Y=L[Gl];for(let ae=0;ae<Y.length;ae++){const pe=Y[ae];Gg(pe[it],pe,O,r)}}}}}return r}function yE(e,t,n){const r=new Np(!(4&~n));return function rS(e,t,n,r){const i=wv(t);i.push(n),e.firstCreatePass&&Dv(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[Do]??=new $g).queries.push(new Hg(r))-1}function EE(e,t,n){null===e.queries&&(e.queries=new Wg),e.queries.track(new zg(t,n))}function qg(e,t){return e.queries.getByIndex(t)}function IE(e,t){const n=e[it],r=qg(n,t);return r.crossesNgTemplate?Gg(n,e,t,[]):mE(n,e,r,t)}const CE=new Set;function $o(e){CE.has(e)||(CE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function wE(e,t){$o("NgSignals");const n=function Ee(e){const t=Object.create(gn);t.value=e;const n=()=>(q(t),t.value);return n[x]=t,n}(e),r=n[x];return t?.equal&&(r.equal=t.equal),n.set=i=>We(r,i),n.update=i=>function Be(e,t){rt()||zt(),We(e,t(e.value))}(r,i),n.asReadonly=DE.bind(n),n}function DE(){const e=this[x];if(void 0===e.readonlyFn){const t=()=>this();t[x]=e,e.readonlyFn=t}return e.readonlyFn}function SE(e){return function TE(e){return"function"==typeof e&&void 0!==e[x]}(e)&&"function"==typeof e.set}function Yg(e){let t=function FE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(ao(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ht(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const u=e;u.inputs=gf(e.inputs),u.inputTransforms=gf(e.inputTransforms),u.declaredInputs=gf(e.declaredInputs),u.outputs=gf(e.outputs);const m=i.hostBindings;m&&yA(e,m);const I=i.viewQuery,O=i.contentQueries;if(I&&gA(e,I),O&&mA(e,O),fA(e,i),qr(e.outputs,i.outputs),ao(i)&&i.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let u=0;u<a.length;u++){const m=a[u];m&&m.ngInherit&&m(e),m===Yg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function pA(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=La(i.hostAttrs,n=La(n,i.hostAttrs))}}(r)}function fA(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function gf(e){return e===Vn?{}:e===bn?[]:e}function gA(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function mA(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,a)=>{t(r,i,a),n(r,i,a)}:t}function yA(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function jE(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}class eu{}class HE{}function TA(e,t){return new Xg(e,t??null,[])}class Xg extends eu{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aE(this);const a=b(t);this._bootstrapComponents=Ha(a.bootstrap),this._r3Injector=By(t,n,[{provide:eu,useValue:this},{provide:uf,useValue:this.componentFactoryResolver},...r],Cr(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Zg extends HE{constructor(t){super(),this.moduleType=t}create(t){return new Xg(this.moduleType,t,[])}}class $E extends eu{constructor(t){super(),this.componentFactoryResolver=new aE(this),this.instance=null;const n=new Rt([...t.providers,{provide:eu,useValue:this},{provide:uf,useValue:this.componentFactoryResolver}],t.parent||ot(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Jg(e,t,n=null){return new $E({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function mf(e){return!!em(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function em(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function tc(e,t,n){return e[t]=n}function ns(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function tu(e,t,n,r){const i=ns(e,t,n);return ns(e,t+1,r)||i}function Kd(e,t,n,r,i,a,u,m,I,O){const L=n+Mt,Y=t.firstCreatePass?function RA(e,t,n,r,i,a,u,m,I){const O=t.consts,L=Yc(t,e,4,u||null,m||null);_g(t,n,L,pa(O,I)),pu(t,L);const Y=L.tView=yg(2,L,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,O,null);return null!==t.queries&&(t.queries.template(t,L),Y.queries=t.queries.embeddedTView(L)),L}(L,t,e,r,i,a,u,m,I):t.data[L];ja(Y,!1);const ae=WE(t,e,Y,n);fu()&&Yh(t,e,ae,Y),No(ae,e);const pe=Cv(ae,e,ae,Y);return e[L]=pe,Jh(e,pe),function fE(e,t,n){return jg(e,t,n)}(pe,Y,e),Sl(Y)&&gg(t,e,Y),null!=I&&mg(e,Y,O),Y}function tm(e,t,n,r,i,a,u,m){const I=Ke(),O=wn();return Kd(I,O,e,t,n,r,i,pa(O.consts,a),u,m),tm}let WE=function zE(e,t,n,r){return fl(!0),t[ln].createComment("")};var ku=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ku||{});let XE=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=In({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Yd{constructor(){this.ngZone=nt(Di),this.scheduler=nt(Nu),this.errorHandler=nt(uc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ku.EarlyRead,ku.Write,ku.MixedReadWrite,ku.Read]}execute(){this.executing=!0;for(const t of Yd.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=In({token:Yd,providedIn:"root",factory:()=>new Yd})}}class PA{constructor(t,n,r,i){this.impl=t,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function If(e,t){!t?.injector&&Zr();const n=t?.injector??nt(co);return function $a(e){return"browser"===(e??nt(co)).get(kh)}(n)?($o("NgAfterNextRender"),function ZE(e,t,n,r){const i=t.get(XE);i.impl??=t.get(Yd);const u=new PA(i.impl,function xA(e,t){if(e instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[t]=e,n}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,n?.phase??ku.MixedReadWrite),r,t.get(pd));return i.impl.register(u),u}(e,n,t,!0)):JE}const JE={destroy(){}};function hm(e,t,n,r){const i=Ke();return ns(i,hl(),t)&&(wn(),ec(Jr(),i,e,t,n,r)),hm}function wf(e,t){return e<<17|t<<2}function Rc(e){return e>>17&32767}function fm(e){return 2|e}function ru(e){return(131068&e)>>2}function pm(e,t){return-131069&e|t<<2}function gm(e){return 1|e}function DI(e,t,n,r){const i=e[n+1],a=null===t;let u=r?Rc(i):ru(i),m=!1;for(;0!==u&&(!1===m||a);){const O=e[u+1];yR(e[u],t)&&(m=!0,e[u+1]=r?gm(O):fm(O)),u=r?Rc(O):ru(O)}m&&(e[n+1]=r?fm(i):gm(i))}function yR(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xa(e,t)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SI(e){return e.substring(Rs.key,Rs.keyEnd)}function _R(e){return e.substring(Rs.value,Rs.valueEnd)}function bI(e,t){const n=Rs.textEnd;return n===t?-1:(t=Rs.keyEnd=function IR(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Rs.key=t,n),Qu(e,t,n))}function AI(e,t){const n=Rs.textEnd;let r=Rs.key=Qu(e,t,n);return n===r?-1:(r=Rs.keyEnd=function CR(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=NI(e,r,n),r=Rs.value=Qu(e,r,n),r=Rs.valueEnd=function TR(e,t,n){let r=-1,i=-1,a=-1,u=t,m=u;for(;u<n;){const I=e.charCodeAt(u++);if(59===I)return m;34===I||39===I?m=u=MI(e,I,u,n):t===u-4&&85===a&&82===i&&76===r&&40===I?m=u=MI(e,41,u,n):I>32&&(m=u),a=i,i=r,r=-33&I}return m}(e,r,n),NI(e,r,n))}function RI(e){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=e.length}function Qu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function NI(e,t,n,r){return(t=Qu(e,t,n))<n&&t++,t}function MI(e,t,n,r){let i=-1,a=n;for(;a<r;){const u=e.charCodeAt(a++);if(u==t&&92!==i)return a;i=92==u&&92===i?0:u}throw new Error}function mm(e,t,n){const r=Ke();return ns(r,hl(),t)&&ma(wn(),Jr(),r,e,t,r[ln],n,!1),mm}function ym(e,t,n,r,i){const u=i?"class":"style";Cg(e,n,t.inputs[u],u,r)}function _m(e,t){return function Ml(e,t,n,r){const i=Ke(),a=wn(),u=Xl(2);a.firstUpdatePass&&xI(a,e,u,r),t!==Dn&&ns(i,u,t)&&FI(a,a.data[js()],i,i[ln],e,i[u+1]=function OR(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Cr(Dc(e)))),e}(t,n),r,u)}(e,t,null,!0),_m}function Nl(e){Ol(LI,wR,e,!1)}function wR(e,t){for(let n=function ER(e){return RI(e),AI(e,Qu(e,0,Rs.textEnd))}(t);n>=0;n=AI(t,n))LI(e,SI(t),_R(t))}function PI(e){Ol(NR,nc,e,!0)}function nc(e,t){for(let n=function vR(e){return RI(e),bI(e,Qu(e,0,Rs.textEnd))}(t);n>=0;n=bI(t,n))Ii(e,SI(t),!0)}function Ol(e,t,n,r){const i=wn(),a=Xl(2);i.firstUpdatePass&&xI(i,null,a,r);const u=Ke();if(n!==Dn&&ns(u,a,n)){const m=i.data[js()];if(BI(m,r)&&!kI(i,a)){let I=r?m.classesWithoutHost:m.stylesWithoutHost;null!==I&&(n=as(I,n||"")),ym(i,m,u,n,r)}else!function MR(e,t,n,r,i,a,u,m){i===Dn&&(i=bn);let I=0,O=0,L=0<i.length?i[0]:null,Y=0<a.length?a[0]:null;for(;null!==L||null!==Y;){const ae=I<i.length?i[I+1]:void 0,pe=O<a.length?a[O+1]:void 0;let Qe,we=null;L===Y?(I+=2,O+=2,ae!==pe&&(we=Y,Qe=pe)):null===Y||null!==L&&L<Y?(I+=2,we=L):(O+=2,we=Y,Qe=pe),null!==we&&FI(e,t,n,r,we,Qe,u,m),L=I<i.length?i[I]:null,Y=O<a.length?a[O]:null}}(i,m,u,u[ln],u[a+1],u[a+1]=function RR(e,t,n){if(null==n||""===n)return bn;const r=[],i=Dc(n);if(Array.isArray(i))for(let a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,a)}}function kI(e,t){return t>=e.expandoStartIndex}function xI(e,t,n,r){const i=e.data;if(null===i[n+1]){const a=i[js()],u=kI(e,n);BI(a,r)&&null===t&&!u&&(t=!1),t=function DR(e,t,n,r){const i=function vh(e){const t=yn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Zd(n=vm(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=vm(i,e,t,n,r),null===a){let I=function SR(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ru(r))return e[Rc(r)]}(e,t,r);void 0!==I&&Array.isArray(I)&&(I=vm(null,e,t,I[1],r),I=Zd(I,t.attrs,r),function bR(e,t,n,r){e[Rc(n?t.classBindings:t.styleBindings)]=r}(e,t,r,I))}else a=function AR(e,t,n){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=Zd(r,e[a].hostAttrs,n);return Zd(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function gR(e,t,n,r,i,a){let u=a?t.classBindings:t.styleBindings,m=Rc(u),I=ru(u);e[r]=n;let L,O=!1;if(Array.isArray(n)?(L=n[1],(null===L||Xa(n,L)>0)&&(O=!0)):L=n,i)if(0!==I){const ae=Rc(e[m+1]);e[r+1]=wf(ae,m),0!==ae&&(e[ae+1]=pm(e[ae+1],r)),e[m+1]=function fR(e,t){return 131071&e|t<<17}(e[m+1],r)}else e[r+1]=wf(m,0),0!==m&&(e[m+1]=pm(e[m+1],r)),m=r;else e[r+1]=wf(I,0),0===m?m=r:e[I+1]=pm(e[I+1],r),I=r;O&&(e[r+1]=fm(e[r+1])),DI(e,L,r,!0),DI(e,L,r,!1),function mR(e,t,n,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Xa(a,t)>=0&&(n[r+1]=gm(n[r+1]))}(t,L,e,r,a),u=wf(m,I),a?t.classBindings=u:t.styleBindings=u}(i,a,t,n,u,r)}}function vm(e,t,n,r,i){let a=null;const u=n.directiveEnd;let m=n.directiveStylingLast;for(-1===m?m=n.directiveStart:m++;m<u&&(a=t[m],r=Zd(r,a.hostAttrs,i),a!==e);)m++;return null!==e&&(n.directiveStylingLast=m),r}function Zd(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ii(e,u,!!n||t[++a]))}return void 0===e?null:e}function LI(e,t,n){Ii(e,t,Dc(n))}function NR(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&Ii(e,r,n)}function FI(e,t,n,r,i,a,u,m){if(!(3&t.type))return;const I=e.data,O=I[m+1],L=function pR(e){return!(1&~e)}(O)?UI(I,t,n,i,ru(O),u):void 0;Df(L)||(Df(a)||function hR(e){return!(2&~e)}(O)&&(a=UI(I,null,n,i,m,u)),function Q0(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:Kh.DashCase;null==i?e.removeStyle(n,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=Kh.Important),e.setStyle(n,r,i,a))}}(r,u,Rl(js(),n),i,a))}function UI(e,t,n,r,i,a){const u=null===t;let m;for(;i>0;){const I=e[i],O=Array.isArray(I),L=O?I[1]:I,Y=null===L;let ae=n[i+1];ae===Dn&&(ae=Y?bn:void 0);let pe=Y?Ya(ae,r):L===r?ae:void 0;if(O&&!Df(pe)&&(pe=Ya(I,r)),Df(pe)&&(m=pe,u))return m;const we=e[i+1];i=u?Rc(we):ru(we)}if(null!==t){let I=a?t.residualClasses:t.residualStyles;null!=I&&(m=Ya(I,r))}return m}function Df(e){return void 0!==e}function BI(e,t){return!!(e.flags&(t?8:16))}function bf(e,t,n,r){const i=Ke(),a=wn(),u=Mt+e,m=i[ln],I=a.firstCreatePass?function tN(e,t,n,r,i,a){const u=t.consts,I=Yc(t,e,2,r,pa(u,i));return _g(t,n,I,pa(u,a)),null!==I.attrs&&hf(I,I.attrs,!1),null!==I.mergedAttrs&&hf(I,I.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,I),I}(u,a,i,t,n,r):a.data[u],O=$I(a,i,I,m,t,e);i[u]=O;const L=Sl(I);return ja(I,!0),uv(m,O,I),!function Ou(e){return!(32&~e.flags)}(I)&&fu()&&Yh(a,i,O,I),0===function cy(){return yn.lFrame.elementDepthCount}()&&No(O,i),function uy(){yn.lFrame.elementDepthCount++}(),L&&(gg(a,i,I),pg(a,I,i)),null!==r&&mg(i,I),bf}function Af(){let e=br();ld()?cd():(e=e.parent,ja(e,!1));const t=e;(function dy(e){return yn.skipHydrationRootTNode===e})(t)&&function py(){yn.skipHydrationRootTNode=null}(),function np(){yn.lFrame.elementDepthCount--}();const n=wn();return n.firstCreatePass&&(pu(n,e),vc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function C(e){return!!(8&e.flags)}(t)&&ym(n,t,Ke(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function M(e){return!!(16&e.flags)}(t)&&ym(n,t,Ke(),t.stylesWithoutHost,!1),Af}function Tm(e,t,n,r){return bf(e,t,n,r),Af(),Tm}let $I=(e,t,n,r,i,a)=>(fl(!0),qh(r,i,function mp(){return yn.lFrame.currentNamespace}()));function Rf(e,t,n){const r=Ke(),i=wn(),a=e+Mt,u=i.firstCreatePass?function iN(e,t,n,r,i){const a=t.consts,u=pa(a,r),m=Yc(t,e,8,"ng-container",u);return null!==u&&hf(m,u,!0),_g(t,n,m,pa(a,i)),null!==t.queries&&t.queries.elementStart(t,m),m}(a,i,r,t,n):i.data[a];ja(u,!0);const m=WI(i,r,u,e);return r[a]=m,fu()&&Yh(i,r,m,u),No(m,r),Sl(u)&&(gg(i,r,u),pg(i,u,r)),null!=n&&mg(r,u),Rf}function Nf(){let e=br();const t=wn();return ld()?cd():(e=e.parent,ja(e,!1)),t.firstCreatePass&&(pu(t,e),vc(e)&&t.queries.elementEnd(e)),Nf}function wm(e,t,n){return Rf(e,t,n),Nf(),wm}let WI=(e,t,n,r)=>(fl(!0),sg(t[ln],""));function zI(){return Ke()}const iu=void 0;var lN=["en",[["a","p"],["AM","PM"],iu],[["AM","PM"],iu,iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",iu,"{1} 'at' {0}",iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aN(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Yu={};function Dm(e){const t=function cN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=QI(t);if(n)return n;const r=t.split("-")[0];if(n=QI(r),n)return n;if("en"===r)return lN;throw new ht(701,!1)}function qI(e){return Dm(e)[Xu.PluralCase]}function QI(e){return e in Yu||(Yu[e]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[e]),Yu[e]}var Xu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Xu||{});const Mf="en-US";let YI=Mf,pC=(e,t,n)=>{};function Am(e,t,n,r){const i=Ke(),a=wn(),u=br();return Rm(a,i,i[ln],u,e,t,r),Am}function Rm(e,t,n,r,i,a,u){const m=Sl(r),O=e.firstCreatePass&&Dv(e),L=t[Sr],Y=wv(t);let ae=!0;if(3&r.type||u){const Qe=bs(r,t),ft=u?u(Qe):Qe,yt=Y.length,Ye=u?lr=>u(nr(lr[r.index])):r.index;let Cn=null;if(!u&&m&&(Cn=function XN(e,t,n,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const u=i[a];if(u===n&&i[a+1]===r){const m=t[jo],I=i[a+2];return m.length>I?m[I]:null}"string"==typeof u&&(a+=2)}return null}(e,t,i,r.index)),null!==Cn)(Cn.__ngLastListenerFn__||Cn).__ngNextListenerFn__=a,Cn.__ngLastListenerFn__=a,ae=!1;else{a=_C(r,t,L,a),pC(Qe,i,a);const lr=n.listen(ft,i,a);Y.push(a,lr),O&&O.push(i,Ye,yt,yt+1)}}else a=_C(r,t,L,a);const pe=r.outputs;let we;if(ae&&null!==pe&&(we=pe[i])){const Qe=we.length;if(Qe)for(let ft=0;ft<Qe;ft+=2){const $r=t[we[ft]][we[ft+1]].subscribe(a),ss=Y.length;Y.push(a,$r),O&&O.push(i,r.index,ss,-(ss+1))}}}function yC(e,t,n,r){const i=$(null);try{return bo(6,t,n),!1!==n(r)}catch(a){return ef(e,a),!1}finally{bo(7,t,n),$(i)}}function _C(e,t,n,r){return function i(a){if(a===Function)return r;Md(e.componentOffset>-1?Ao(e.index,t):t,5);let m=yC(t,n,r,a),I=i.__ngNextListenerFn__;for(;I;)m=yC(t,n,I,a)&&m,I=I.__ngNextListenerFn__;return m}}function vC(e=1){return function vy(e){return(yn.lFrame.contextLView=function ph(e,t){for(;e>0;)t=t[Ho],e--;return t}(e,yn.lFrame.contextLView))[Sr]}(e)}function ZN(e,t){let n=null;const r=function Bl(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const a=t[i];if("*"!==a){if(null===r?Ul(e,a,!0):El(r,a))return i}else n=i}return n}function EC(e){const t=Ke()[tr][pr];if(!t.projection){const r=t.projection=function zi(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),i=r.slice();let a=t.child;for(;null!==a;){if(128!==a.type){const u=e?ZN(a,e):0;null!==u&&(i[u]?i[u].projectionNext=a:r[u]=a,i[u]=a)}a=a.next}}}function IC(e,t=0,n,r,i,a){const u=Ke(),m=wn(),I=r?e+1:null;null!==I&&Kd(u,m,I,r,i,a,null,n);const O=Yc(m,Mt+e,16,null,n||null);null===O.projection&&(O.projection=t),cd();const Y=!u[oi]||Cc();null===u[tr][pr].projection[O.projection]&&null!==I?function JN(e,t,n){const r=Mt+n,i=t.data[r],a=e[r],u=Jc(a,i.tView.ssrId);Au(a,bu(e,i,void 0,{dehydratedView:u}),0,Xc(i,u))}(u,m,I):Y&&32&~O.flags&&function K0(e,t,n){lv(t[ln],0,t,n,lg(e,n,t),nv(n.parent||t[pr],n,t))}(m,u,O)}function MC(e,t,n,r){!function vE(e,t,n,r){const i=wn();if(i.firstCreatePass){const a=br();EE(i,new gE(t,n,r),a.index),function rA(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),!(2&~n)&&(i.staticContentQueries=!0)}return yE(i,Ke(),n)}(e,t,n,r)}function OC(e,t,n){!function _E(e,t,n){const r=wn();return r.firstCreatePass&&(EE(r,new gE(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),yE(r,Ke(),t)}(e,t,n)}function PC(e){const t=Ke(),n=wn(),r=Eh();ud(r+1);const i=qg(n,r);if(e.dirty&&function Uc(e){return!(4&~e[jt])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const a=IE(t,r);e.reset(a,qy),e.notifyOnChanges()}return!0}return!1}function kC(){return function Kg(e,t){return e[Do].queries[t].queryList}(Ke(),Eh())}function xC(e){return function ul(e,t){return e[t]}(function ip(){return yn.lFrame.contextLView}(),Mt+e)}function zC(e,t=""){const n=Ke(),r=wn(),i=e+Mt,a=r.firstCreatePass?Yc(r,i,1,t,null):r.data[i],u=GC(r,n,a,t,e);n[i]=u,fu()&&Yh(r,n,u,a),ja(a,!1)}let GC=(e,t,n,r,i)=>(fl(!0),function ig(e,t){return e.createText(t)}(t[ln],r));function Om(e){return xf("",e,""),Om}function xf(e,t,n){const r=Ke(),i=function ju(e,t,n,r){return ns(e,hl(),n)?t+tn(n)+r:Dn}(r,e,t,n);return i!==Dn&&function hc(e,t,n){const r=Rl(t,e);!function Y_(e,t,n){e.setValue(t,n)}(e[ln],r,n)}(r,js(),i),xf}function Pm(e,t,n){SE(t)&&(t=t());const r=Ke();return ns(r,hl(),t)&&ma(wn(),Jr(),r,e,t,r[ln],n,!1),Pm}function tT(e,t){const n=SE(e);return n&&e.set(t),n}function km(e,t){const n=Ke(),r=wn(),i=br();return Rm(r,n,n[ln],i,e,t),km}function xm(e,t,n,r,i){if(e=Vt(e),Array.isArray(e))for(let a=0;a<e.length;a++)xm(e[a],t,n,r,i);else{const a=wn(),u=Ke(),m=br();let I=N(e)?e:Vt(e.provide);const O=Gt(e),L=1048575&m.providerIndexes,Y=m.directiveStart,ae=m.providerIndexes>>20;if(N(e)||!e.multi){const pe=new Hc(O,i,Su),we=Fm(I,t,i?L:L+ae,Y);-1===we?(Cp(wh(m,u),a,I),Lm(a,e,t.length),t.push(I),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),n.push(pe),u.push(pe)):(n[we]=pe,u[we]=pe)}else{const pe=Fm(I,t,L+ae,Y),we=Fm(I,t,L,L+ae),ft=we>=0&&n[we];if(i&&!ft||!i&&!(pe>=0&&n[pe])){Cp(wh(m,u),a,I);const yt=function vM(e,t,n,r,i){const a=new Hc(e,n,Su);return a.multi=[],a.index=t,a.componentProviders=0,iT(a,i,r&&!n),a}(i?_M:yM,n.length,i,r,O);!i&&ft&&(n[we].providerFactory=yt),Lm(a,e,t.length,0),t.push(I),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),n.push(yt),u.push(yt)}else Lm(a,e,pe>-1?pe:we,iT(n[i?we:pe],O,!i&&r));!i&&r&&ft&&n[we].componentProviders++}}}function Lm(e,t,n,r){const i=N(t),a=function H(e){return!!e.useClass}(t);if(i||a){const I=(a?Vt(t.useClass):t).prototype.ngOnDestroy;if(I){const O=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const L=O.indexOf(n);-1===L?O.push(n,[r,I]):O[L+1].push(r,I)}else O.push(n,I)}}}function iT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function yM(e,t,n,r){return Um(this.multi,[])}function _M(e,t,n,r){const i=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,m=zc(n,n[it],this.providerFactory.index,r);a=m.slice(0,u),Um(i,a);for(let I=u;I<m.length;I++)a.push(m[I])}else a=[],Um(i,a);return a}function Um(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function sT(e,t=[]){return n=>{n.providersResolver=(r,i)=>function mM(e,t,n){const r=wn();if(r.firstCreatePass){const i=ao(e);xm(n,r.data,r.blueprint,i,!0),xm(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let EM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ut(0,n.type),i=r.length>0?Jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=In({token:e,providedIn:"environment",factory:()=>new e(nn(et))})}}return e})();function oT(e){$o("NgStandalone"),e.getStandaloneInjector=t=>t.get(EM).getOrCreateStandaloneInjector(e)}function cT(e,t,n){const r=Ro()+e,i=Ke();return i[r]===Dn?tc(i,r,n?t.call(n):t()):function Gd(e,t){return e[t]}(i,r)}function uT(e,t,n,r){return function gT(e,t,n,r,i,a){const u=t+n;return ns(e,u,i)?tc(e,u+1,a?r.call(a,i):r(i)):ih(e,u+1)}(Ke(),Ro(),e,t,n,r)}function dT(e,t,n,r,i){return function mT(e,t,n,r,i,a,u){const m=t+n;return tu(e,m,i,a)?tc(e,m+2,u?r.call(u,i,a):r(i,a)):ih(e,m+2)}(Ke(),Ro(),e,t,n,r,i)}function hT(e,t,n,r,i,a){return function yT(e,t,n,r,i,a,u,m){const I=t+n;return function yf(e,t,n,r,i){const a=tu(e,t,n,r);return ns(e,t+2,i)||a}(e,I,i,a,u)?tc(e,I+3,m?r.call(m,i,a,u):r(i,a,u)):ih(e,I+3)}(Ke(),Ro(),e,t,n,r,i,a)}function fT(e,t,n,r,i,a,u){return function _T(e,t,n,r,i,a,u,m,I){const O=t+n;return function pl(e,t,n,r,i,a){const u=tu(e,t,n,r);return tu(e,t+2,i,a)||u}(e,O,i,a,u,m)?tc(e,O+4,I?r.call(I,i,a,u,m):r(i,a,u,m)):ih(e,O+4)}(Ke(),Ro(),e,t,n,r,i,a,u)}function pT(e,t,n,r){return function vT(e,t,n,r,i,a){let u=t+n,m=!1;for(let I=0;I<i.length;I++)ns(e,u++,i[I])&&(m=!0);return m?tc(e,u,r.apply(a,i)):ih(e,u)}(Ke(),Ro(),e,t,n,r)}function ih(e,t){const n=e[t];return n===Dn?void 0:n}function ET(e,t){return nf(e,t)}class LT{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const nO=new LT("18.2.6");let FT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const HT=new Ft(""),$T=new Ft("");let Wm,AO=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wm||(function RO(e){Wm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n()},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(nn(Di),nn(WT),nn($T))}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac})}}return e})(),WT=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Wm?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function zm(e){return!!e&&"function"==typeof e.then}function zT(e){return!!e&&"function"==typeof e.subscribe}const GT=new Ft("");let KT=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=nt(GT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const a=i();if(zm(a))n.push(a);else if(zT(a)){const u=new Promise((m,I)=>{a.subscribe({complete:m,error:I})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Vf=new Ft("");function QT(e,t){return Array.isArray(t)?t.reduce(QT,e):{...e,...t}}let rc=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(yD),this.afterRenderManager=nt(XE),this.zonelessEnabled=nt(jd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Wn.B,this.afterTick=new Wn.B,this.componentTypes=[],this.components=[],this.isStable=nt(Gc).hasPendingTasks.pipe((0,Gn.T)(n=>!n)),this._injector=nt(et)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof rE;if(!this._injector.get(KT).done)throw!i&&y(n),new ht(405,!1);let u;u=i?n:this._injector.get(uf).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const m=function NO(e){return e.isBoundToModule}(u)?void 0:this._injector.get(eu),O=u.create(co.NULL,[],r||u.selector,m),L=O.location.nativeElement,Y=O.injector.get(HT,null);return Y?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),jf(this.components,O),Y?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ht(101,!1);const n=$(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,$(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Fg,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:a}of this._views)PO(i,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Bc(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;jf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Vf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ht(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PO(e,t,n,r){(n||Bc(e))&&tf(e,t,n&&!r?0:1)}class kO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let xO=(()=>{class e{compileModuleSync(n){return new Zg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Ha(b(n).declarations).reduce((u,m)=>{const I=hn(m);return I&&u.push(new Wd(I)),u},[]);return new kO(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UO=(()=>{class e{constructor(){this.zone=nt(Di),this.changeDetectionScheduler=nt(Nu),this.applicationRef=nt(rc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Gm({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Di({...Km(),scheduleInRootZone:n}),[{provide:Di,useFactory:e},{provide:us,multi:!0,useFactory:()=>{const r=nt(UO,{optional:!0});return()=>r.initialize()}},{provide:us,multi:!0,useFactory:()=>{const r=nt(VO);return()=>{r.initialize()}}},!0===t?{provide:nE,useValue:!0}:[],{provide:Lg,useValue:n??jy}]}function Km(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let VO=(()=>{class e{constructor(){this.subscription=new zn.yU,this.initialized=!1,this.zone=nt(Di),this.pendingTasks=nt(Gc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lh=(()=>{class e{constructor(){this.appRef=nt(rc),this.taskService=nt(Gc),this.ngZone=nt(Di),this.zonelessEnabled=nt(jd),this.disableScheduling=nt(nE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new zn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(nt(Lg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?$y:Hy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$y(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Qm=new Ft("",{providedIn:"root",factory:()=>nt(Qm,En.Optional|En.SkipSelf)||function jO(){return typeof $localize<"u"&&$localize.locale||Mf}()}),HO=new Ft("",{providedIn:"root",factory:()=>"USD"}),Ym=new Ft("");function $f(e){return!!e.platformInjector}let nw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=r?.scheduleInRootZone,u=r?.ignoreChangesOutsideZone,m=[Gm({ngZoneFactory:()=>function mD(e="zone.js",t){return"noop"===e?new Rp:"zone.js"===e?new Di(t):e}(r?.ngZone,{...Km({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:i}),ignoreChangesOutsideZone:u}),{provide:Nu,useExisting:lh}],I=function wA(e,t,n){return new Xg(e,t,n,!1)}(n.moduleType,this.injector,m);return function tw(e){const t=$f(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Di);return n.run(()=>{$f(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(uc,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:a=>{r.handleError(a)}})}),$f(e)){const a=()=>t.destroy(),u=e.platformInjector.get(Ym);u.add(a),t.onDestroy(()=>{i.unsubscribe(),u.delete(a)})}else e.moduleRef.onDestroy(()=>{jf(e.allPlatformModules,e.moduleRef),i.unsubscribe()});return function OO(e,t,n){try{const r=n();return zm(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const a=t.get(KT);return a.runInitializers(),a.donePromise.then(()=>{if(function fN(e){"string"==typeof e&&(YI=e.toLowerCase().replace(/_/g,"-"))}(t.get(Qm,Mf)||Mf),$f(e)){const m=t.get(rc);return void 0!==e.rootComponent&&m.bootstrap(e.rootComponent),m}return function KO(e,t){const n=e.injector.get(rc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ht(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:I,allPlatformModules:this._modules})}bootstrapModule(n,r=[]){const i=QT({},r);return function FO(e,t,n){const r=new Zg(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ym,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(nn(co))}}static{this.\u0275prov=In({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Nc=null;const rw=new Ft("");function iw(e,t,n=[]){const r=`Platform: ${t}`,i=new Ft(r);return(a=[])=>{let u=Xm();if(!u||u.injector.get(rw,!1)){const m=[...n,...a,{provide:i,useValue:!0}];e?e(m):function qO(e){if(Nc&&!Nc.get(rw,!1))throw new ht(400,!1);(function qT(){!function Ct(e){Et=e}(()=>{throw new ht(600,!1)})})(),Nc=e;const t=e.get(nw);(function ow(e){e.get(p_,null)?.forEach(n=>n())})(e)}(function sw(e=[],t){return co.create({name:t,providers:[{provide:Z,useValue:"platform"},{provide:Ym,useValue:new Set([()=>Nc=null])},...e]})}(m,r))}return function QO(){const t=Xm();if(!t)throw new ht(401,!1);return t}()}}function Xm(){return Nc?.get(nw)??null}let lw=(()=>{class e{static{this.__NG_ELEMENT_ID__=XO}}return e})();function XO(e){return function ZO(e,t,n){if(ol(e)&&!n){const r=Ao(e.index,t);return new Od(r,r)}return 175&e.type?new Od(t[tr],t):null}(br(),Ke(),!(16&~e))}class hw{constructor(){}supports(t){return mf(t)}create(t){return new rP(t)}}const nP=(e,t)=>t;class rP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nP}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,a=null;for(;n||r;){const u=!r||n&&n.currentIndex<pw(r,i,a)?n:r,m=pw(u,i,a),I=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)i++;else{a||(a=[]);const O=m-i,L=I-i;if(O!=L){for(let ae=0;ae<O;ae++){const pe=ae<a.length?a[ae]:a[ae]=0,we=pe+ae;L<=we&&we<O&&(a[ae]=pe+1)}a[u.previousIndex]=L-O}}m!==I&&t(u,m,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!mf(t))throw new ht(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)a=t[m],u=this._trackByFn(m,a),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,a,u,m)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,u,m),r=!0),n=n._next}else i=0,function bA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,m=>{u=this._trackByFn(i,m),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,m,u,i)),Object.is(n.item,m)||this._addIdentityChange(n,m)):(n=this._mismatch(n,m,u,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,i)):t=this._addAfter(new iP(n,r),a,i),t}_verifyReinsertion(t,n,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class iP{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fw{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new sP,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class gw{constructor(){}supports(t){return t instanceof Map||em(t)}create(){return new oP}}class oP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||em(t)))throw new ht(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const a=i._prev,u=i._next;return a&&(a._next=u),u&&(u._prev=a),i._next=null,i._prev=null,i}const r=new aP(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new ny([new hw])}let ny=(()=>{class e{static{this.\u0275prov=In({token:e,providedIn:"root",factory:mw})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||mw()),deps:[[e,new Es,new ki]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ht(901,!1)}}return e})();function yw(){return new ry([new gw])}let ry=(()=>{class e{static{this.\u0275prov=In({token:e,providedIn:"root",factory:yw})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||yw()),deps:[[e,new Es,new ki]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ht(901,!1)}}return e})();const uP=iw(null,"core",[]);let dP=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(nn(rc))}}static{this.\u0275mod=Va({type:e})}static{this.\u0275inj=Qr({})}}return e})();const Pw=new Ft("");function HP(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function $P(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function zP(e,t){$o("NgSignals");const n=function de(e){const t=Object.create(Kt);t.computation=e;const n=()=>{if(Me(t),q(t),t.value===Ht)throw t.error;return t.value};return n[x]=t,n}(e);return t?.equal&&(n[x].equal=t.equal),n}function GP(e){const t=$(null);try{return e()}finally{$(t)}}const KP=new Ft("",{providedIn:"root",factory:()=>nt(qP)});let qP=(()=>{class e{static{this.\u0275prov=In({token:e,providedIn:"root",factory:()=>new QP})}}return e})();class QP{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=nt(Gc),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class YP{constructor(t,n,r,i,a,u){this.scheduler=t,this.effectFn=n,this.creationZone=r,this.injector=a,this.watcher=function St(e,t,n){const r=Object.create(fn);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=I=>{r.cleanupFn=I};return r.ref={notify:()=>_t(r),run:()=>{if(null===r.fn)return;if(function X(){return le}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!rn(r))return;r.hasRun=!0;const I=vt(r);try{r.cleanupFn(),r.cleanupFn=dn,r.fn(i)}finally{ut(r,I)}},cleanup:()=>r.cleanupFn(),destroy:()=>function u(I){(function a(I){return null===I.fn&&null===I.schedule})(I)||(Pt(I),I.cleanupFn(),I.fn=null,I.schedule=null,I.cleanupFn=dn)}(r),[x]:r},r.ref}(m=>this.runEffect(m),()=>this.schedule(),u),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(uc,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function $w(e,t){$o("NgSignals"),!t?.injector&&Zr();const n=t?.injector??nt(co),r=!0!==t?.manualCleanup?n.get(pd):null,i=new YP(n.get(KP),e,typeof Zone>"u"?null:Zone.current,r,n,t?.allowSignalWrites??!1),a=n.get(lw,null,{optional:!0});return a&&8&a._lView[jt]?(a._lView[cc]??=[]).push(i.watcher.notify):i.watcher.notify(),i}function XP(e){const t=hn(e);if(!t)return null;const n=new Wd(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},7440:(Dt,Ve,z)=>{z.d(Ve,{MW:()=>Me,Wp:()=>vt,XU:()=>re,gL:()=>x});var w=z(2214),A=z(3953),le=z(5407);class re{constructor(ce){return ce}}class x{constructor(){return(0,w.Dk)()}}const X=new A.nKC("angularfire2._apps"),F={provide:re,useFactory:function V($e){return $e&&1===$e.length?$e[0]:new re((0,w.Sx)())},deps:[[new A.Xx1,X]]},K={provide:x,deps:[[new A.Xx1,X]]};function q($e){return(ce,ue)=>{const Ze=ue.get(A.Agw);(0,w.KO)("angularfire",le.xv.full,"core"),(0,w.KO)("angularfire",le.xv.full,"app"),(0,w.KO)("angular",A.xvI.full,Ze.toString());const ct=ce.runOutsideAngular(()=>$e(ue));return new re(ct)}}function Me($e,...ce){return(0,A.EmA)([F,K,{provide:X,useFactory:q($e),multi:!0,deps:[A.SKi,A.zZn,le.u0,...ce]}])}const vt=(0,le.S3)(w.Wp,!0)},5621:(Dt,Ve,z)=>{z.d(Ve,{DF:()=>X,_q:()=>_t,xI:()=>lt});var w=z(5407),A=z(3953),le=z(7440),re=z(2214),x=z(9579);const $="auth";class V{constructor(yr){return yr}}class X{constructor(){return(0,w.CA)($)}}const K=new A.nKC("angularfire2.auth-instances");function ge(Yn){return(yr,mi)=>{const ei=yr.runOutsideAngular(()=>Yn(mi));return new V(ei)}}const Me={provide:X,deps:[[new A.Xx1,K]]},xe={provide:V,useFactory:function q(Yn,yr){const mi=(0,w.lR)($,Yn,yr);return mi&&new V(mi)},deps:[[new A.Xx1,K],le.XU]};function _t(Yn,...yr){return(0,re.KO)("angularfire",w.xv.full,"auth"),(0,A.EmA)([xe,Me,{provide:K,useFactory:ge(Yn),multi:!0,deps:[A.SKi,A.zZn,w.u0,le.gL,[new A.Xx1,w.Jv],...yr]}])}const lt=(0,w.S3)(x.xI,!0)},8579:(Dt,Ve,z)=>{z.d(Ve,{Wm:()=>wn,C3:()=>up,Zy:()=>Th,lX:()=>gy,KR:()=>fl,TF:()=>pu,hZ:()=>fd,yo:()=>Hc});var w=z(5407),A=z(3953),le=z(7440),re=z(5621),x=z(2214),$=z(467),V=z(7852),X=z(1362),F=z(1076),K=z(8041);const q="@firebase/database";let Me="";class rt{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,o){null==o?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,F.As)(o))}get(s){const o=this.domStorage_.getItem(this.prefixedName_(s));return null==o?null:(0,F.$L)(o)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class _t{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,o){null==o?delete this.cache_[s]:this.cache_[s]=o}get(s){return(0,F.gR)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const vt=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const s=window[l];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new rt(s)}}catch{}return new _t},ut=vt("localStorage"),rn=vt("sessionStorage"),Pt=new K.Vy("@firebase/database"),De=function(){let l=1;return function(){return l++}}(),$e=function(l){const s=(0,F.kj)(l),o=new F.gz;o.update(s);const d=o.digest();return F.K3.encodeByteArray(d)},ce=function(...l){let s="";for(let o=0;o<l.length;o++){const d=l[o];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?s+=ce.apply(null,d):s+="object"==typeof d?(0,F.As)(d):d,s+=" "}return s};let ue=null,Ze=!0;const de=function(...l){if(!0===Ze&&(Ze=!1,null===ue&&!0===rn.get("logging_enabled")&&function(l,s){(0,F.vA)(!s||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(Pt.logLevel=K.$b.VERBOSE,ue=Pt.log.bind(Pt),s&&rn.set("logging_enabled",!0)):"function"==typeof l?ue=l:(ue=null,rn.remove("logging_enabled"))}(!0)),ue){const s=ce.apply(null,l);ue(s)}},be=function(l){return function(...s){de(l,...s)}},lt=function(...l){const s="FIREBASE INTERNAL ERROR: "+ce(...l);Pt.error(s)},Ht=function(...l){const s=`FIREBASE FATAL ERROR: ${ce(...l)}`;throw Pt.error(s),new Error(s)},Kt=function(...l){const s="FIREBASE WARNING: "+ce(...l);Pt.warn(s)},Et=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Ct="[MIN_NAME]",_e="[MAX_NAME]",Ee=function(l,s){if(l===s)return 0;if(l===Ct||s===_e)return-1;if(s===Ct||l===_e)return 1;{const o=Wn(l),d=Wn(s);return null!==o?null!==d?o-d==0?l.length-s.length:o-d:-1:null!==d?1:l<s?-1:1}},Re=function(l,s){return l===s?0:l<s?-1:1},Ue=function(l,s){if(s&&l in s)return s[l];throw new Error("Missing required key ("+l+") in object: "+(0,F.As)(s))},We=function(l){if("object"!=typeof l||null===l)return(0,F.As)(l);const s=[];for(const d in l)s.push(d);s.sort();let o="{";for(let d=0;d<s.length;d++)0!==d&&(o+=","),o+=(0,F.As)(s[d]),o+=":",o+=We(l[s[d]]);return o+="}",o},Be=function(l,s){const o=l.length;if(o<=s)return[l];const d=[];for(let C=0;C<o;C+=s)d.push(l.substring(C,C+s>o?o:C+s));return d};function dt(l,s){for(const o in l)l.hasOwnProperty(o)&&s(o,l[o])}const gn=function(l){(0,F.vA)(!Et(l),"Invalid JSON number");const d=1023;let C,M,k,Q,se;0===l?(M=0,k=0,C=1/l==-1/0?1:0):(C=l<0,(l=Math.abs(l))>=Math.pow(2,1-d)?(Q=Math.min(Math.floor(Math.log(l)/Math.LN2),d),M=Q+d,k=Math.round(l*Math.pow(2,52-Q)-Math.pow(2,52))):(M=0,k=Math.round(l/Math.pow(2,-1074))));const fe=[];for(se=52;se;se-=1)fe.push(k%2?1:0),k=Math.floor(k/2);for(se=11;se;se-=1)fe.push(M%2?1:0),M=Math.floor(M/2);fe.push(C?1:0),fe.reverse();const He=fe.join("");let Ge="";for(se=0;se<64;se+=8){let Xe=parseInt(He.substr(se,8),2).toString(16);1===Xe.length&&(Xe="0"+Xe),Ge+=Xe}return Ge.toLowerCase()},fn=new RegExp("^-?(0*)\\d{1,10}$"),Wn=function(l){if(fn.test(l)){const s=Number(l);if(s>=-2147483648&&s<=2147483647)return s}return null},zn=function(l){try{l()}catch(s){setTimeout(()=>{throw Kt("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},Er=function(l,s){const o=setTimeout(l,s);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class pi{constructor(s,o){this.appName_=s,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(d=>this.appCheck=d)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((o,d)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(o,d):o(null)},0)})}addTokenChangeListener(s){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(d=>d.addTokenListener(s))}notifyForInvalidToken(){Kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bi{constructor(s,o,d){this.appName_=s,this.firebaseOptions_=o,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(C=>this.auth_=C)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(o=>o&&"auth/token-not-initialized"===o.code?(de("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,d)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(o,d):o(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(o=>o.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(o=>o.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kt(s)}}let gi=(()=>{class l{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return l.OWNER="owner",l})();const tt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qi="websocket",hr="long_polling";class Ir{constructor(s,o,d,C,M=!1,k="",Q=!1,se=!1){this.secure=o,this.namespace=d,this.webSocketOnly=C,this.nodeAdmin=M,this.persistenceKey=k,this.includeNamespaceInQueryParams=Q,this.isUsingEmulator=se,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ut.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&ut.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vi(l,s,o){let d;if((0,F.vA)("string"==typeof s,"typeof type must == string"),(0,F.vA)("object"==typeof o,"typeof params must == object"),s===qi)d=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(s!==hr)throw new Error("Unknown connection type: "+s);d=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function ir(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(o.ns=l.namespace);const C=[];return dt(o,(M,k)=>{C.push(M+"="+k)}),d+C.join("&")}class Xt{constructor(){this.counters_={}}incrementCounter(s,o=1){(0,F.gR)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=o}get(){return(0,F.A4)(this.counters_)}}const Mn={},Qi={};function Yn(l){const s=l.toString();return Mn[s]||(Mn[s]=new Xt),Mn[s]}class mi{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,o){this.closeAfterResponse=s,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,o){for(this.pendingResponses[s]=o;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let C=0;C<d.length;++C)d[C]&&zn(()=>{this.onMessage_(d[C])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Sn{constructor(s,o,d,C,M,k,Q){this.connId=s,this.repoInfo=o,this.applicationId=d,this.appCheckToken=C,this.authToken=M,this.transportSessionId=k,this.lastSessionId=Q,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=be(s),this.stats_=Yn(o),this.urlFn=se=>(this.appCheckToken&&(se.ac=this.appCheckToken),Vi(o,hr,se))}open(s,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new mi(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,F.$g)()||"complete"===document.readyState)l();else{let s=!1;const o=function(){document.body?s||(s=!0,l()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wr((...M)=>{const[k,Q,se,fe,He]=M;if(this.incrementIncomingBytes_(M),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===k)this.id=Q,this.password=se;else{if("close"!==k)throw new Error("Unrecognized command received: "+k);Q?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Q,()=>{this.onClosed_()})):this.onClosed_()}},(...M)=>{const[k,Q]=M;this.incrementIncomingBytes_(M),this.myPacketOrderer.handleResponse(k,Q)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&tt.test(location.hostname)&&(d.r="f");const C=this.urlFn(d);this.log_("Connecting via long-poll to "+C),this.scriptTagHolder.addTag(C,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sn.forceAllow_=!0}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){return!((0,F.$g)()||!Sn.forceAllow_&&(Sn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const o=(0,F.As)(s);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const d=(0,F.KA)(o),C=Be(d,1840);for(let M=0;M<C.length;M++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,C.length,C[M]),this.curSegmentNum++}addDisconnectPingFrame(s,o){if((0,F.$g)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=s,d.pw=o,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const o=(0,F.As)(s).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class wr{constructor(s,o,d,C){if(this.onDisconnect=d,this.urlFn=C,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.$g)())this.commandCB=s,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=De(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=wr.createIFrame_();let M="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(M='<script>document.domain="'+document.domain+'";<\/script>');const k="<html><body>"+M+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(k),this.myIFrame.doc.close()}catch(Q){de("frame writing exception"),Q.stack&&de(Q.stack),de(Q)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||de("No IE domain setting required")}catch{const d=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,o){for(this.myID=s,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let o=this.urlFn(s),d="",C=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const k=this.pendingSegs.shift();d=d+"&seg"+C+"="+k.seg+"&ts"+C+"="+k.ts+"&d"+C+"="+k.d,C++}return o+=d,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(s,o,d){this.pendingSegs.push({seg:s,ts:o,d}),this.alive&&this.newRequest_()}addLongPollTag_(s,o){this.outstandingRequests.add(o);const d=()=>{this.outstandingRequests.delete(o),this.newRequest_()},C=setTimeout(d,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(C),d()})}addTag(s,o){(0,F.$g)()?this.doNodeLongPoll(s,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=s,d.onload=d.onreadystatechange=function(){const C=d.readyState;(!C||"loaded"===C||"complete"===C)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),o())},d.onerror=()=>{de("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let yi=null;typeof MozWebSocket<"u"?yi=MozWebSocket:typeof WebSocket<"u"&&(yi=WebSocket);let li=(()=>{class l{constructor(o,d,C,M,k,Q,se){this.connId=o,this.applicationId=C,this.appCheckToken=M,this.authToken=k,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=be(this.connId),this.stats_=Yn(d),this.connURL=l.connectionURL_(d,Q,se,M,C),this.nodeAdmin=d.nodeAdmin}static connectionURL_(o,d,C,M,k){const Q={v:"5"};return!(0,F.$g)()&&typeof location<"u"&&location.hostname&&tt.test(location.hostname)&&(Q.r="f"),d&&(Q.s=d),C&&(Q.ls=C),M&&(Q.ac=M),k&&(Q.p=k),Vi(o,qi,Q)}open(o,d){this.onDisconnect=d,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ut.set("previous_websocket_failure",!0);try{let C;if((0,F.$g)()){C={headers:{"User-Agent":`Firebase/5/${Me}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(C.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(C.headers["X-Firebase-AppCheck"]=this.appCheckToken);const k=process.env,Q=0===this.connURL.indexOf("wss://")?k.HTTPS_PROXY||k.https_proxy:k.HTTP_PROXY||k.http_proxy;Q&&(C.proxy={origin:Q})}this.mySock=new yi(this.connURL,[],C)}catch(C){this.log_("Error instantiating WebSocket.");const M=C.message||C.data;return M&&this.log_(M),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=C=>{this.handleIncomingFrame(C)},this.mySock.onerror=C=>{this.log_("WebSocket error.  Closing connection.");const M=C.message||C.data;M&&this.log_(M),this.onClosed_()}}start(){}static forceDisallow(){l.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const C=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);C&&C.length>1&&parseFloat(C[1])<4.4&&(o=!0)}return!o&&null!==yi&&!l.forceDisallow_}static previouslyFailed(){return ut.isInMemoryStorage||!0===ut.get("previous_websocket_failure")}markConnectionHealthy(){ut.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const C=(0,F.$L)(d);this.onMessage(C)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,F.vA)(null===this.frames,"We already have a frame buffer"),o.length<=6){const d=Number(o);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const d=o.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const C=this.extractFrameCount_(d);null!==C&&this.appendFrame_(C)}}send(o){this.resetKeepAlive();const d=(0,F.As)(o);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const C=Be(d,16384);C.length>1&&this.sendString_(String(C.length));for(let M=0;M<C.length;M++)this.sendString_(C[M])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l})(),Hs=(()=>{class l{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Sn,li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const d=li&&li.isAvailable();let C=d&&!li.previouslyFailed();if(o.webSocketOnly&&(d||Kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),C=!0),C)this.transports_=[li];else{const M=this.transports_=[];for(const k of l.ALL_TRANSPORTS)k&&k.isAvailable()&&M.push(k);l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return l.globalTransportInitialized_=!1,l})();class Tn{constructor(s,o,d,C,M,k,Q,se,fe,He){this.id=s,this.repoInfo_=o,this.applicationId_=d,this.appCheckToken_=C,this.authToken_=M,this.onMessage_=k,this.onReady_=Q,this.onDisconnect_=se,this.onKill_=fe,this.lastSessionId=He,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=be("c:"+this.id+":"),this.transportManager_=new Hs(o),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,d)},Math.floor(0));const C=s.healthyTimeout||0;C>0&&(this.healthyTimeout_=Er(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(C)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return o=>{s===this.conn_?this.onConnectionLost_(o):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return o=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(o):s===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const o=s.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const o=Ue("t",s),d=Ue("d",s);if("c"===o)this.onSecondaryControl_(d);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const o=Ue("t",s),d=Ue("d",s);"c"===o?this.onControl_(d):"d"===o&&this.onDataMessage_(d)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const o=Ue("t",s);if("d"in s){const d=s.d;if("h"===o){const C=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(C.h=this.repoInfo_.host),this.onHandshake_(C)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let C=0;C<this.pendingDataMessages.length;++C)this.onDataMessage_(this.pendingDataMessages[C]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(d):"r"===o?this.onReset_(d):"e"===o?lt("Server Error: "+d):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lt("Unknown control packet command: "+o)}}onHandshake_(s){const o=s.ts,d=s.v,C=s.h;this.sessionId=s.s,this.repoInfo_.host=C,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==d&&Kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,d),Er(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,o){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Er(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ut.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zr{put(s,o,d,C){}merge(s,o,d,C){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,o,d){}onDisconnectMerge(s,o,d){}onDisconnectCancel(s,o){}reportStats(s){}}class ci{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,F.vA)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...o){if(Array.isArray(this.listeners_[s])){const d=[...this.listeners_[s]];for(let C=0;C<d.length;C++)d[C].callback.apply(d[C].context,o)}}on(s,o,d){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:o,context:d});const C=this.getInitialEvent(s);C&&o.apply(d,C)}off(s,o,d){this.validateEventType_(s);const C=this.listeners_[s]||[];for(let M=0;M<C.length;M++)if(C[M].callback===o&&(!d||d===C[M].context))return void C.splice(M,1)}validateEventType_(s){(0,F.vA)(this.allowedEvents_.find(o=>o===s),"Unknown event: "+s)}}class Yi extends ci{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yi}getInitialEvent(s){return(0,F.vA)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Ln{constructor(s,o){if(void 0===o){this.pieces_=s.split("/");let d=0;for(let C=0;C<this.pieces_.length;C++)this.pieces_[C].length>0&&(this.pieces_[d]=this.pieces_[C],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=o}toString(){let s="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(s+="/"+this.pieces_[o]);return s||"/"}}function pn(){return new Ln("")}function un(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function ui(l){return l.pieces_.length-l.pieceNum_}function Kn(l){let s=l.pieceNum_;return s<l.pieces_.length&&s++,new Ln(l.pieces_,s)}function Ws(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function xr(l,s=0){return l.pieces_.slice(l.pieceNum_+s)}function fs(l){if(l.pieceNum_>=l.pieces_.length)return null;const s=[];for(let o=l.pieceNum_;o<l.pieces_.length-1;o++)s.push(l.pieces_[o]);return new Ln(s,0)}function sr(l,s){const o=[];for(let d=l.pieceNum_;d<l.pieces_.length;d++)o.push(l.pieces_[d]);if(s instanceof Ln)for(let d=s.pieceNum_;d<s.pieces_.length;d++)o.push(s.pieces_[d]);else{const d=s.split("/");for(let C=0;C<d.length;C++)d[C].length>0&&o.push(d[C])}return new Ln(o,0)}function en(l){return l.pieceNum_>=l.pieces_.length}function Bt(l,s){const o=un(l),d=un(s);if(null===o)return s;if(o===d)return Bt(Kn(l),Kn(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+l+")")}function Os(l,s){const o=xr(l,0),d=xr(s,0);for(let C=0;C<o.length&&C<d.length;C++){const M=Ee(o[C],d[C]);if(0!==M)return M}return o.length===d.length?0:o.length<d.length?-1:1}function di(l,s){if(ui(l)!==ui(s))return!1;for(let o=l.pieceNum_,d=s.pieceNum_;o<=l.pieces_.length;o++,d++)if(l.pieces_[o]!==s.pieces_[d])return!1;return!0}function Lr(l,s){let o=l.pieceNum_,d=s.pieceNum_;if(ui(l)>ui(s))return!1;for(;o<l.pieces_.length;){if(l.pieces_[o]!==s.pieces_[d])return!1;++o,++d}return!0}class hi{constructor(s,o){this.errorPrefix_=o,this.parts_=xr(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,F.OE)(this.parts_[d]);zs(this)}}function zs(l){if(l.byteLength_>768)throw new Error(l.errorPrefix_+"has a key path longer than 768 bytes ("+l.byteLength_+").");if(l.parts_.length>32)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ai(l))}function Ai(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}class Gs extends ci{constructor(){let s,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const d=!document[s];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new Gs}getInitialEvent(s){return(0,F.vA)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const os=1e3;let fo,Ks=(()=>{class l extends zr{constructor(o,d,C,M,k,Q,se,fe){if(super(),this.repoInfo_=o,this.applicationId_=d,this.onDataUpdate_=C,this.onConnectStatus_=M,this.onServerInfoUpdate_=k,this.authTokenProvider_=Q,this.appCheckTokenProvider_=se,this.authOverride_=fe,this.id=l.nextPersistentConnectionId_++,this.log_=be("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=os,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,fe&&!(0,F.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gs.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Yi.getInstance().on("online",this.onOnline_,this)}sendRequest(o,d,C){const M=++this.requestNumber_,k={r:M,a:o,b:d};this.log_((0,F.As)(k)),(0,F.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(k),C&&(this.requestCBHash_[M]=C)}get(o){this.initConnection_();const d=new F.cY,M={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:Q=>{const se=Q.d;"ok"===Q.s?d.resolve(se):d.reject(se)}};return this.outstandingGets_.push(M),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(o,d,C,M){this.initConnection_();const k=o._queryIdentifier,Q=o._path.toString();this.log_("Listen called for "+Q+" "+k),this.listens.has(Q)||this.listens.set(Q,new Map),(0,F.vA)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.vA)(!this.listens.get(Q).has(k),"listen() called twice for same path/queryId.");const se={onComplete:M,hashFn:d,query:o,tag:C};this.listens.get(Q).set(k,se),this.connected_&&this.sendListen_(se)}sendGet_(o){const d=this.outstandingGets_[o];this.sendRequest("g",d.request,C=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(C)})}sendListen_(o){const d=o.query,C=d._path.toString(),M=d._queryIdentifier;this.log_("Listen on "+C+" for "+M);const k={p:C};o.tag&&(k.q=d._queryObject,k.t=o.tag),k.h=o.hashFn(),this.sendRequest("q",k,se=>{const fe=se.d,He=se.s;l.warnOnListenWarnings_(fe,d),(this.listens.get(C)&&this.listens.get(C).get(M))===o&&(this.log_("listen response",se),"ok"!==He&&this.removeListen_(C,M),o.onComplete&&o.onComplete(He,fe))})}static warnOnListenWarnings_(o,d){if(o&&"object"==typeof o&&(0,F.gR)(o,"w")){const C=(0,F.yw)(o,"w");if(Array.isArray(C)&&~C.indexOf("no_index")){const M='".indexOn": "'+d._queryParams.getIndex().toString()+'"',k=d._path.toString();Kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${M} at ${k} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,F.qc)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,d=(0,F.Cv)(o)?"auth":"gauth",C={cred:o};null===this.authOverride_?C.noauth=!0:"object"==typeof this.authOverride_&&(C.authvar=this.authOverride_),this.sendRequest(d,C,M=>{const k=M.s,Q=M.d||"error";this.authToken_===o&&("ok"===k?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(k,Q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const d=o.s,C=o.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,C)})}unlisten(o,d){const C=o._path.toString(),M=o._queryIdentifier;this.log_("Unlisten called for "+C+" "+M),(0,F.vA)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(C,M)&&this.connected_&&this.sendUnlisten_(C,M,o._queryObject,d)}sendUnlisten_(o,d,C,M){this.log_("Unlisten on "+o+" for "+d);const k={p:o};M&&(k.q=C,k.t=M),this.sendRequest("n",k)}onDisconnectPut(o,d,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,d,C):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:d,onComplete:C})}onDisconnectMerge(o,d,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,d,C):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:d,onComplete:C})}onDisconnectCancel(o,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,d):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(o,d,C,M){const k={p:d,d:C};this.log_("onDisconnect "+o,k),this.sendRequest(o,k,Q=>{M&&setTimeout(()=>{M(Q.s,Q.d)},Math.floor(0))})}put(o,d,C,M){this.putInternal("p",o,d,C,M)}merge(o,d,C,M){this.putInternal("m",o,d,C,M)}putInternal(o,d,C,M,k){this.initConnection_();const Q={p:d,d:C};void 0!==k&&(Q.h=k),this.outstandingPuts_.push({action:o,request:Q,onComplete:M}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(o){const d=this.outstandingPuts_[o].action,C=this.outstandingPuts_[o].request,M=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(d,C,k=>{this.log_(d+" response",k),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),M&&M(k.s,k.d)})}reportStats(o){if(this.connected_){const d={c:o};this.log_("reportStats",d),this.sendRequest("s",d,C=>{"ok"!==C.s&&this.log_("reportStats","Error sending stats: "+C.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,F.As)(o));const d=o.r,C=this.requestCBHash_[d];C&&(delete this.requestCBHash_[d],C(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,d){this.log_("handleServerMessage",o,d),"d"===o?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===o?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===o?this.onListenRevoked_(d.p,d.q):"ac"===o?this.onAuthRevoked_(d.s,d.d):"apc"===o?this.onAppCheckRevoked_(d.s,d.d):"sd"===o?this.onSecurityDebugPacket_(d):lt("Unrecognized action received from server: "+(0,F.As)(o)+"\nAre you using the latest client?")}onReady_(o,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,F.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-o);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,$.A)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const d=o.onDataMessage_.bind(o),C=o.onReady_.bind(o),M=o.onRealtimeDisconnect_.bind(o),k=o.id+":"+l.nextConnectionId_++,Q=o.lastSessionId;let se=!1,fe=null;const He=function(){fe?fe.close():(se=!0,M())};o.realtime_={close:He,sendRequest:function(wt){(0,F.vA)(fe,"sendRequest call when we're not connected not allowed."),fe.sendRequest(wt)}};const Xe=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[wt,Yt]=yield Promise.all([o.authTokenProvider_.getToken(Xe),o.appCheckTokenProvider_.getToken(Xe)]);se?de("getToken() completed but was canceled"):(de("getToken() completed. Creating connection."),o.authToken_=wt&&wt.accessToken,o.appCheckToken_=Yt&&Yt.token,fe=new Tn(k,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,d,C,M,dr=>{Kt(dr+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},Q))}catch(wt){o.log_("Failed to get token: "+wt),se||(o.repoInfo_.nodeAdmin&&Kt(wt),He())}}})()}interrupt(o){de("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){de("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,F.Im)(this.interruptReasons_)&&(this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const d=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const d=this.outstandingPuts_[o];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,d){let C;C=d?d.map(k=>We(k)).join("$"):"default";const M=this.removeListen_(o,C);M&&M.onComplete&&M.onComplete("permission_denied")}removeListen_(o,d){const C=new Ln(o).toString();let M;if(this.listens.has(C)){const k=this.listens.get(C);M=k.get(d),k.delete(d),0===k.size&&this.listens.delete(C)}else M=void 0;return M}onAuthRevoked_(o,d){de("Auth token revoked: "+o+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,d){de("App check token revoked: "+o+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const d of o.values())this.sendListen_(d);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let d="js";(0,F.$g)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+d+"."+Me.replace(/\./g,"-")]=1,(0,F.jZ)()?o["framework.cordova"]=1:(0,F.lV)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Yi.getInstance().currentlyOnline();return(0,F.Im)(this.interruptReasons_)&&o}}return l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l})();class mn{constructor(s,o){this.name=s,this.node=o}static Wrap(s,o){return new mn(s,o)}}class qs{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,o){const d=new mn(Ct,s),C=new mn(Ct,o);return 0!==this.compare(d,C)}minPost(){return mn.MIN}}class qo extends qs{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(s){fo=s}compare(s,o){return Ee(s.name,o.name)}isDefinedOn(s){throw(0,F.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,o){return!1}minPost(){return mn.MIN}maxPost(){return new mn(_e,fo)}makePost(s,o){return(0,F.vA)("string"==typeof s,"KeyIndex indexValue must always be a string."),new mn(s,fo)}toString(){return".key"}}const ti=new qo;class ps{constructor(s,o,d,C,M=null){this.isReverse_=C,this.resultGenerator_=M,this.nodeStack_=[];let k=1;for(;!s.isEmpty();)if(k=o?d(s.key,o):1,C&&(k*=-1),k<0)s=this.isReverse_?s.left:s.right;else{if(0===k){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,s=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Yo,fi=(()=>{class l{constructor(o,d,C,M,k){this.key=o,this.value=d,this.color=C??l.RED,this.left=M??Nr.EMPTY_NODE,this.right=k??Nr.EMPTY_NODE}copy(o,d,C,M,k){return new l(o??this.key,d??this.value,C??this.color,M??this.left,k??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,d,C){let M=this;const k=C(o,M.key);return M=k<0?M.copy(null,null,null,M.left.insert(o,d,C),null):0===k?M.copy(null,d,null,null,null):M.copy(null,null,null,null,M.right.insert(o,d,C)),M.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nr.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,d){let C,M;if(C=this,d(o,C.key)<0)!C.left.isEmpty()&&!C.left.isRed_()&&!C.left.left.isRed_()&&(C=C.moveRedLeft_()),C=C.copy(null,null,null,C.left.remove(o,d),null);else{if(C.left.isRed_()&&(C=C.rotateRight_()),!C.right.isEmpty()&&!C.right.isRed_()&&!C.right.left.isRed_()&&(C=C.moveRedRight_()),0===d(o,C.key)){if(C.right.isEmpty())return Nr.EMPTY_NODE;M=C.right.min_(),C=C.copy(M.key,M.value,null,null,C.right.removeMin_())}C=C.copy(null,null,null,null,C.right.remove(o,d))}return C.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,d)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return l.RED=!0,l.BLACK=!1,l})();class Nr{constructor(s,o=Nr.EMPTY_NODE){this.comparator_=s,this.root_=o}insert(s,o){return new Nr(this.comparator_,this.root_.insert(s,o,this.comparator_).copy(null,null,fi.BLACK,null,null))}remove(s){return new Nr(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,fi.BLACK,null,null))}get(s){let o,d=this.root_;for(;!d.isEmpty();){if(o=this.comparator_(s,d.key),0===o)return d.value;o<0?d=d.left:o>0&&(d=d.right)}return null}getPredecessorKey(s){let o,d=this.root_,C=null;for(;!d.isEmpty();){if(o=this.comparator_(s,d.key),0===o){if(d.left.isEmpty())return C?C.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}o<0?d=d.left:o>0&&(C=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new ps(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,o){return new ps(this.root_,s,this.comparator_,!1,o)}getReverseIteratorFrom(s,o){return new ps(this.root_,s,this.comparator_,!0,o)}getReverseIterator(s){return new ps(this.root_,null,this.comparator_,!0,s)}}function ml(l,s){return Ee(l.name,s.name)}function Qo(l,s){return Ee(l,s)}Nr.EMPTY_NODE=new class Ps{copy(s,o,d,C,M){return this}insert(s,o,d){return new fi(s,o,null)}remove(s,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wa=function(l){return"number"==typeof l?"number:"+gn(l):"string:"+l},po=function(l){if(l.isLeafNode()){const s=l.val();(0,F.vA)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,F.gR)(s,".sv"),"Priority must be a string or number.")}else(0,F.vA)(l===Yo||l.isEmpty(),"priority of unexpected type.");(0,F.vA)(l===Yo||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ni,ks,Xo,ri=(()=>{class l{constructor(o,d=l.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=d,this.lazyHash_=null,(0,F.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),po(this.priorityNode_)}static set __childrenNodeConstructor(o){ni=o}static get __childrenNodeConstructor(){return ni}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new l(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return en(o)?this:".priority"===un(o)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,d){return null}updateImmediateChild(o,d){return".priority"===o?this.updatePriority(d):d.isEmpty()&&".priority"!==o?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,d).updatePriority(this.priorityNode_)}updateChild(o,d){const C=un(o);return null===C?d:d.isEmpty()&&".priority"!==C?this:((0,F.vA)(".priority"!==C||1===ui(o),".priority must be the last token in a path"),this.updateImmediateChild(C,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kn(o),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,d){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+wa(this.priorityNode_.val())+":");const d=typeof this.value_;o+=d+":",o+="number"===d?gn(this.value_):this.value_,this.lazyHash_=$e(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===l.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof l.__childrenNodeConstructor?-1:((0,F.vA)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const d=typeof o.value_,C=typeof this.value_,M=l.VALUE_TYPE_ORDER.indexOf(d),k=l.VALUE_TYPE_ORDER.indexOf(C);return(0,F.vA)(M>=0,"Unknown leaf type: "+d),(0,F.vA)(k>=0,"Unknown leaf type: "+C),M===k?"object"===C?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:k-M}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l})();const Zn=new class Zo extends qs{compare(s,o){const d=s.node.getPriority(),C=o.node.getPriority(),M=d.compareTo(C);return 0===M?Ee(s.name,o.name):M}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,o){return!s.getPriority().equals(o.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(_e,new ri("[PRIORITY-POST]",Xo))}makePost(s,o){const d=ks(s);return new mn(o,new ri("[PRIORITY-POST]",d))}toString(){return".priority"}},Gr=Math.log(2);class Qs{constructor(s){this.count=parseInt(Math.log(s+1)/Gr,10),this.current_=this.count-1;const C=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&C}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const ht=function(l,s,o,d){l.sort(s);const C=function(se,fe){const He=fe-se;let Ge,Xe;if(0===He)return null;if(1===He)return Ge=l[se],Xe=o?o(Ge):Ge,new fi(Xe,Ge.node,fi.BLACK,null,null);{const wt=parseInt(He/2,10)+se,Yt=C(se,wt),dr=C(wt+1,fe);return Ge=l[wt],Xe=o?o(Ge):Ge,new fi(Xe,Ge.node,fi.BLACK,Yt,dr)}},Q=function(se){let fe=null,He=null,Ge=l.length;const Xe=function(Yt,dr){const Ki=Ge-Yt,$c=Ge;Ge-=Yt;const Wc=C(Ki+1,$c),gu=l[Ki],Ep=o?o(gu):gu;wt(new fi(Ep,gu.node,dr,null,Wc))},wt=function(Yt){fe?(fe.left=Yt,fe=Yt):(He=Yt,fe=Yt)};for(let Yt=0;Yt<se.count;++Yt){const dr=se.nextBitIsOne(),Ki=Math.pow(2,se.count-(Yt+1));dr?Xe(Ki,fi.BLACK):(Xe(Ki,fi.BLACK),Xe(Ki,fi.RED))}return He}(new Qs(l.length));return new Nr(d||s,Q)};let ms;const Zi={};class Kr{constructor(s,o){this.indexes_=s,this.indexSet_=o}static get Default(){return(0,F.vA)(Zi&&Zn,"ChildrenNode.ts has not been loaded"),ms=ms||new Kr({".priority":Zi},{".priority":Zn}),ms}get(s){const o=(0,F.yw)(this.indexes_,s);if(!o)throw new Error("No index defined for "+s);return o instanceof Nr?o:null}hasIndex(s){return(0,F.gR)(this.indexSet_,s.toString())}addIndex(s,o){(0,F.vA)(s!==ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let C=!1;const M=o.getIterator(mn.Wrap);let Q,k=M.getNext();for(;k;)C=C||s.isDefinedOn(k.node),d.push(k),k=M.getNext();Q=C?ht(d,s.getCompare()):Zi;const se=s.toString(),fe=Object.assign({},this.indexSet_);fe[se]=s;const He=Object.assign({},this.indexes_);return He[se]=Q,new Kr(He,fe)}addToIndexes(s,o){const d=(0,F.kH)(this.indexes_,(C,M)=>{const k=(0,F.yw)(this.indexSet_,M);if((0,F.vA)(k,"Missing index implementation for "+M),C===Zi){if(k.isDefinedOn(s.node)){const Q=[],se=o.getIterator(mn.Wrap);let fe=se.getNext();for(;fe;)fe.name!==s.name&&Q.push(fe),fe=se.getNext();return Q.push(s),ht(Q,k.getCompare())}return Zi}{const Q=o.get(s.name);let se=C;return Q&&(se=se.remove(new mn(s.name,Q))),se.insert(s,s.node)}});return new Kr(d,this.indexSet_)}removeFromIndexes(s,o){const d=(0,F.kH)(this.indexes_,C=>{if(C===Zi)return C;{const M=o.get(s.name);return M?C.remove(new mn(s.name,M)):C}});return new Kr(d,this.indexSet_)}}let Ji,qt=(()=>{class l{constructor(o,d,C){this.children_=o,this.priorityNode_=d,this.indexMap_=C,this.lazyHash_=null,this.priorityNode_&&po(this.priorityNode_),this.children_.isEmpty()&&(0,F.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ji||(Ji=new l(new Nr(Qo),null,Kr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ji}updatePriority(o){return this.children_.isEmpty()?this:new l(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const d=this.children_.get(o);return null===d?Ji:d}}getChild(o){const d=un(o);return null===d?this:this.getImmediateChild(d).getChild(Kn(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,d){if((0,F.vA)(d,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(d);{const C=new mn(o,d);let M,k;d.isEmpty()?(M=this.children_.remove(o),k=this.indexMap_.removeFromIndexes(C,this.children_)):(M=this.children_.insert(o,d),k=this.indexMap_.addToIndexes(C,this.children_));const Q=M.isEmpty()?Ji:this.priorityNode_;return new l(M,Q,k)}}updateChild(o,d){const C=un(o);if(null===C)return d;{(0,F.vA)(".priority"!==un(o)||1===ui(o),".priority must be the last token in a path");const M=this.getImmediateChild(C).updateChild(Kn(o),d);return this.updateImmediateChild(C,M)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const d={};let C=0,M=0,k=!0;if(this.forEachChild(Zn,(Q,se)=>{d[Q]=se.val(o),C++,k&&l.INTEGER_REGEXP_.test(Q)?M=Math.max(M,Number(Q)):k=!1}),!o&&k&&M<2*C){const Q=[];for(const se in d)Q[se]=d[se];return Q}return o&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+wa(this.getPriority().val())+":"),this.forEachChild(Zn,(d,C)=>{const M=C.hash();""!==M&&(o+=":"+d+":"+M)}),this.lazyHash_=""===o?"":$e(o)}return this.lazyHash_}getPredecessorChildName(o,d,C){const M=this.resolveIndex_(C);if(M){const k=M.getPredecessorKey(new mn(o,d));return k?k.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const d=this.resolveIndex_(o);if(d){const C=d.minKey();return C&&C.name}return this.children_.minKey()}getFirstChild(o){const d=this.getFirstChildName(o);return d?new mn(d,this.children_.get(d)):null}getLastChildName(o){const d=this.resolveIndex_(o);if(d){const C=d.maxKey();return C&&C.name}return this.children_.maxKey()}getLastChild(o){const d=this.getLastChildName(o);return d?new mn(d,this.children_.get(d)):null}forEachChild(o,d){const C=this.resolveIndex_(o);return C?C.inorderTraversal(M=>d(M.name,M.node)):this.children_.inorderTraversal(d)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,d){const C=this.resolveIndex_(d);if(C)return C.getIteratorFrom(o,M=>M);{const M=this.children_.getIteratorFrom(o.name,mn.Wrap);let k=M.peek();for(;null!=k&&d.compare(k,o)<0;)M.getNext(),k=M.peek();return M}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,d){const C=this.resolveIndex_(d);if(C)return C.getReverseIteratorFrom(o,M=>M);{const M=this.children_.getReverseIteratorFrom(o.name,mn.Wrap);let k=M.peek();for(;null!=k&&d.compare(k,o)>0;)M.getNext(),k=M.peek();return M}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Fr?-1:0}withIndex(o){if(o===ti||this.indexMap_.hasIndex(o))return this;{const d=this.indexMap_.addIndex(o,this.children_);return new l(this.children_,this.priorityNode_,d)}}isIndexed(o){return o===ti||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const d=o;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const C=this.getIterator(Zn),M=d.getIterator(Zn);let k=C.getNext(),Q=M.getNext();for(;k&&Q;){if(k.name!==Q.name||!k.node.equals(Q.node))return!1;k=C.getNext(),Q=M.getNext()}return null===k&&null===Q}return!1}return!1}}resolveIndex_(o){return o===ti?null:this.indexMap_.get(o.toString())}}return l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l})();const Fr=new class Jo extends qt{constructor(){super(new Nr(Qo),qt.EMPTY_NODE,Kr.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return qt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mn,{MIN:{value:new mn(Ct,qt.EMPTY_NODE)},MAX:{value:new mn(_e,Fr)}}),qo.__EMPTY_NODE=qt.EMPTY_NODE,ri.__childrenNodeConstructor=qt,function za(l){Yo=l}(Fr),function Ga(l){Xo=l}(Fr);const go=!0;function Fn(l,s=null){if(null===l)return qt.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(s=l[".priority"]),(0,F.vA)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new ri(l,Fn(s));if(l instanceof Array||!go){let o=qt.EMPTY_NODE;return dt(l,(d,C)=>{if((0,F.gR)(l,d)&&"."!==d.substring(0,1)){const M=Fn(C);(M.isLeafNode()||!M.isEmpty())&&(o=o.updateImmediateChild(d,M))}}),o.updatePriority(Fn(s))}{const o=[];let d=!1;if(dt(l,(k,Q)=>{if("."!==k.substring(0,1)){const se=Fn(Q);se.isEmpty()||(d=d||!se.getPriority().isEmpty(),o.push(new mn(k,se)))}}),0===o.length)return qt.EMPTY_NODE;const M=ht(o,ml,k=>k.name,Qo);if(d){const k=ht(o,Zn.getCompare());return new qt(M,Fn(s),new Kr({".priority":k},{".priority":Zn}))}return new qt(M,Fn(s),Kr.Default)}}!function gs(l){ks=l}(Fn);class Ur extends qs{constructor(s){super(),this.indexPath_=s,(0,F.vA)(!en(s)&&".priority"!==un(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,o){const d=this.extractChild(s.node),C=this.extractChild(o.node),M=d.compareTo(C);return 0===M?Ee(s.name,o.name):M}makePost(s,o){const d=Fn(s),C=qt.EMPTY_NODE.updateChild(this.indexPath_,d);return new mn(o,C)}maxPost(){const s=qt.EMPTY_NODE.updateChild(this.indexPath_,Fr);return new mn(_e,s)}toString(){return xr(this.indexPath_,0).join("/")}}const ji=new class Da extends qs{compare(s,o){const d=s.node.compareTo(o.node);return 0===d?Ee(s.name,o.name):d}isDefinedOn(s){return!0}indexedValueChanged(s,o){return!s.equals(o)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(s,o){const d=Fn(s);return new mn(o,d)}toString(){return".value"}};function xs(l){return{type:"value",snapshotNode:l}}function Ls(l,s){return{type:"child_added",snapshotNode:s,childName:l}}function _r(l,s){return{type:"child_removed",snapshotNode:s,childName:l}}function Sa(l,s,o){return{type:"child_changed",snapshotNode:s,childName:l,oldSnap:o}}class Un{constructor(s){this.index_=s}updateChild(s,o,d,C,M,k){(0,F.vA)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Q=s.getImmediateChild(o);return Q.getChild(C).equals(d.getChild(C))&&Q.isEmpty()===d.isEmpty()||(null!=k&&(d.isEmpty()?s.hasChild(o)?k.trackChildChange(_r(o,Q)):(0,F.vA)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?k.trackChildChange(Ls(o,d)):k.trackChildChange(Sa(o,d,Q))),s.isLeafNode()&&d.isEmpty())?s:s.updateImmediateChild(o,d).withIndex(this.index_)}updateFullNode(s,o,d){return null!=d&&(s.isLeafNode()||s.forEachChild(Zn,(C,M)=>{o.hasChild(C)||d.trackChildChange(_r(C,M))}),o.isLeafNode()||o.forEachChild(Zn,(C,M)=>{if(s.hasChild(C)){const k=s.getImmediateChild(C);k.equals(M)||d.trackChildChange(Sa(C,M,k))}else d.trackChildChange(Ls(C,M))})),o.withIndex(this.index_)}updatePriority(s,o){return s.isEmpty()?qt.EMPTY_NODE:s.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qr{constructor(s){this.indexedFilter_=new Un(s.getIndex()),this.index_=s.getIndex(),this.startPost_=qr.getStartPost_(s),this.endPost_=qr.getEndPost_(s),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),s)<=0:this.index_.compare(this.getStartPost(),s)<0,d=this.endIsInclusive_?this.index_.compare(s,this.getEndPost())<=0:this.index_.compare(s,this.getEndPost())<0;return o&&d}updateChild(s,o,d,C,M,k){return this.matches(new mn(o,d))||(d=qt.EMPTY_NODE),this.indexedFilter_.updateChild(s,o,d,C,M,k)}updateFullNode(s,o,d){o.isLeafNode()&&(o=qt.EMPTY_NODE);let C=o.withIndex(this.index_);C=C.updatePriority(qt.EMPTY_NODE);const M=this;return o.forEachChild(Zn,(k,Q)=>{M.matches(new mn(k,Q))||(C=C.updateImmediateChild(k,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,C,d)}updatePriority(s,o){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const o=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),o)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const o=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),o)}return s.getIndex().maxPost()}}class Cr{constructor(s){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=o=>{const d=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new qr(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft(),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}updateChild(s,o,d,C,M,k){return this.rangedFilter_.matches(new mn(o,d))||(d=qt.EMPTY_NODE),s.getImmediateChild(o).equals(d)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,o,d,C,M,k):this.fullLimitUpdateChild_(s,o,d,M,k)}updateFullNode(s,o,d){let C;if(o.isLeafNode()||o.isEmpty())C=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let M;C=qt.EMPTY_NODE.withIndex(this.index_),M=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let k=0;for(;M.hasNext()&&k<this.limit_;){const Q=M.getNext();if(this.withinDirectionalStart(Q)){if(!this.withinDirectionalEnd(Q))break;C=C.updateImmediateChild(Q.name,Q.node),k++}}}else{let M;C=o.withIndex(this.index_),C=C.updatePriority(qt.EMPTY_NODE),M=this.reverse_?C.getReverseIterator(this.index_):C.getIterator(this.index_);let k=0;for(;M.hasNext();){const Q=M.getNext();k<this.limit_&&this.withinDirectionalStart(Q)&&this.withinDirectionalEnd(Q)?k++:C=C.updateImmediateChild(Q.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,C,d)}updatePriority(s,o){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,o,d,C,M){let k;if(this.reverse_){const Ge=this.index_.getCompare();k=(Xe,wt)=>Ge(wt,Xe)}else k=this.index_.getCompare();const Q=s;(0,F.vA)(Q.numChildren()===this.limit_,"");const se=new mn(o,d),fe=this.reverse_?Q.getFirstChild(this.index_):Q.getLastChild(this.index_),He=this.rangedFilter_.matches(se);if(Q.hasChild(o)){const Ge=Q.getImmediateChild(o);let Xe=C.getChildAfterChild(this.index_,fe,this.reverse_);for(;null!=Xe&&(Xe.name===o||Q.hasChild(Xe.name));)Xe=C.getChildAfterChild(this.index_,Xe,this.reverse_);const wt=null==Xe?1:k(Xe,se);if(He&&!d.isEmpty()&&wt>=0)return M?.trackChildChange(Sa(o,d,Ge)),Q.updateImmediateChild(o,d);{M?.trackChildChange(_r(o,Ge));const dr=Q.updateImmediateChild(o,qt.EMPTY_NODE);return null!=Xe&&this.rangedFilter_.matches(Xe)?(M?.trackChildChange(Ls(Xe.name,Xe.node)),dr.updateImmediateChild(Xe.name,Xe.node)):dr}}return d.isEmpty()?s:He&&k(fe,se)>=0?(null!=M&&(M.trackChildChange(_r(fe.name,fe.node)),M.trackChildChange(Ls(o,d))),Q.updateImmediateChild(o,d).updateImmediateChild(fe.name,qt.EMPTY_NODE)):s}}class as{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ct}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_e}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zn}copy(){const s=new as;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.startAfterSet_=this.startAfterSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.endBeforeSet_=this.endBeforeSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function ba(l){const s={};if(l.isDefault())return s;let o;if(l.index_===Zn?o="$priority":l.index_===ji?o="$value":l.index_===ti?o="$key":((0,F.vA)(l.index_ instanceof Ur,"Unrecognized index type!"),o=l.index_.toString()),s.orderBy=(0,F.As)(o),l.startSet_){const d=l.startAfterSet_?"startAfter":"startAt";s[d]=(0,F.As)(l.indexStartValue_),l.startNameSet_&&(s[d]+=","+(0,F.As)(l.indexStartName_))}if(l.endSet_){const d=l.endBeforeSet_?"endBefore":"endAt";s[d]=(0,F.As)(l.indexEndValue_),l.endNameSet_&&(s[d]+=","+(0,F.As)(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?s.limitToFirst=l.limit_:s.limitToLast=l.limit_),s}function Ni(l){const s={};if(l.startSet_&&(s.sp=l.indexStartValue_,l.startNameSet_&&(s.sn=l.indexStartName_),s.sin=!l.startAfterSet_),l.endSet_&&(s.ep=l.indexEndValue_,l.endNameSet_&&(s.en=l.indexEndName_),s.ein=!l.endBeforeSet_),l.limitSet_){s.l=l.limit_;let o=l.viewFrom_;""===o&&(o=l.isViewFromLeft()?"l":"r"),s.vf=o}return l.index_!==Zn&&(s.i=l.index_.toString()),s}class yo extends zr{constructor(s,o,d,C){super(),this.repoInfo_=s,this.onDataUpdate_=o,this.authTokenProvider_=d,this.appCheckTokenProvider_=C,this.log_=be("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,o){return void 0!==o?"tag$"+o:((0,F.vA)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,o,d,C){const M=s._path.toString();this.log_("Listen called for "+M+" "+s._queryIdentifier);const k=yo.getListenId_(s,d),Q={};this.listens_[k]=Q;const se=ba(s._queryParams);this.restRequest_(M+".json",se,(fe,He)=>{let Ge=He;if(404===fe&&(Ge=null,fe=null),null===fe&&this.onDataUpdate_(M,Ge,!1,d),(0,F.yw)(this.listens_,k)===Q){let Xe;Xe=fe?401===fe?"permission_denied":"rest_error:"+fe:"ok",C(Xe,null)}})}unlisten(s,o){const d=yo.getListenId_(s,o);delete this.listens_[d]}get(s){const o=ba(s._queryParams),d=s._path.toString(),C=new F.cY;return this.restRequest_(d+".json",o,(M,k)=>{let Q=k;404===M&&(Q=null,M=null),null===M?(this.onDataUpdate_(d,Q,!1,null),C.resolve(Q)):C.reject(new Error(Q))}),C.promise}refreshAuthToken(s){}restRequest_(s,o={},d){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([C,M])=>{C&&C.accessToken&&(o.auth=C.accessToken),M&&M.token&&(o.ac=M.token);const k=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,F.Am)(o);this.log_("Sending REST request for "+k);const Q=new XMLHttpRequest;Q.onreadystatechange=()=>{if(d&&4===Q.readyState){this.log_("REST Response for "+k+" received. status:",Q.status,"response:",Q.responseText);let se=null;if(Q.status>=200&&Q.status<300){try{se=(0,F.$L)(Q.responseText)}catch{Kt("Failed to parse JSON response for "+k+": "+Q.responseText)}d(null,se)}else 401!==Q.status&&404!==Q.status&&Kt("Got unsuccessful REST response for "+k+" Status: "+Q.status),d(Q.status);d=null}},Q.open("GET",k,!0),Q.send()})}}class sn{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,o){this.rootNode_=this.rootNode_.updateChild(s,o)}}function _i(){return{value:null,children:new Map}}function _o(l,s,o){if(en(s))l.value=o,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(s,o);else{const d=un(s);l.children.has(d)||l.children.set(d,_i()),_o(l.children.get(d),s=Kn(s),o)}}function Fs(l,s,o){null!==l.value?o(s,l.value):function Po(l,s){l.children.forEach((o,d)=>{s(d,o)})}(l,(d,C)=>{Fs(C,new Ln(s.toString()+"/"+d),o)})}class Ka{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),o=Object.assign({},s);return this.last_&&dt(this.last_,(d,C)=>{o[d]=o[d]-C}),this.last_=s,o}}class Na{constructor(s,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Ka(s);const d=1e4+2e4*Math.random();Er(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const s=this.statsListener_.get(),o={};let d=!1;dt(s,(C,M)=>{M>0&&(0,F.gR)(this.statsToReport_,C)&&(o[C]=M,d=!0)}),d&&this.server_.reportStats(o),Er(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Us=function(l){return l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",l}(Us||{});function In(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Ma{constructor(s,o,d){this.path=s,this.affectedTree=o,this.revert=d,this.type=Us.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(en(this.path)){if(null!=this.affectedTree.value)return(0,F.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Ln(s));return new Ma(pn(),o,this.revert)}}return(0,F.vA)(un(this.path)===s,"operationForChild called for unrelated child."),new Ma(Kn(this.path),this.affectedTree,this.revert)}}class Qr{constructor(s,o){this.source=s,this.path=o,this.type=Us.LISTEN_COMPLETE}operationForChild(s){return en(this.path)?new Qr(this.source,pn()):new Qr(this.source,Kn(this.path))}}class vi{constructor(s,o,d){this.source=s,this.path=o,this.snap=d,this.type=Us.OVERWRITE}operationForChild(s){return en(this.path)?new vi(this.source,pn(),this.snap.getImmediateChild(s)):new vi(this.source,Kn(this.path),this.snap)}}class Bs{constructor(s,o,d){this.source=s,this.path=o,this.children=d,this.type=Us.MERGE}operationForChild(s){if(en(this.path)){const o=this.children.subtree(new Ln(s));return o.isEmpty()?null:o.value?new vi(this.source,pn(),o.value):new Bs(this.source,pn(),o)}return(0,F.vA)(un(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new Bs(this.source,Kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hi{constructor(s,o,d){this.node_=s,this.fullyInitialized_=o,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(en(s))return this.isFullyInitialized()&&!this.filtered_;const o=un(s);return this.isCompleteForChild(o)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class ko{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function _s(l,s,o,d,C,M){const k=d.filter(Q=>Q.type===o);k.sort((Q,se)=>function Eo(l,s,o){if(null==s.childName||null==o.childName)throw(0,F.Hk)("Should only compare child_ events.");const d=new mn(s.childName,s.snapshotNode),C=new mn(o.childName,o.snapshotNode);return l.index_.compare(d,C)}(l,Q,se)),k.forEach(Q=>{const se=function yl(l,s,o){return"value"===s.type||"child_removed"===s.type||(s.prevName=o.getPredecessorChildName(s.childName,s.snapshotNode,l.index_)),s}(l,Q,M);C.forEach(fe=>{fe.respondsTo(Q.type)&&s.push(fe.createEvent(se,l.query_))})})}function Lo(l,s){return{eventCache:l,serverCache:s}}function Ft(l,s,o,d){return Lo(new Hi(s,o,d),l.serverCache)}function Zs(l,s,o,d){return Lo(l.eventCache,new Hi(s,o,d))}function Mi(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Vr(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let na;class Jn{constructor(s,o=(()=>(na||(na=new Nr(Re)),na))()){this.value=s,this.children=o}static fromObject(s){let o=new Jn(null);return dt(s,(d,C)=>{o=o.set(new Ln(d),C)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,o){if(null!=this.value&&o(this.value))return{path:pn(),value:this.value};if(en(s))return null;{const d=un(s),C=this.children.get(d);if(null!==C){const M=C.findRootMostMatchingPathAndValue(Kn(s),o);return null!=M?{path:sr(new Ln(d),M.path),value:M.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(en(s))return this;{const o=un(s),d=this.children.get(o);return null!==d?d.subtree(Kn(s)):new Jn(null)}}set(s,o){if(en(s))return new Jn(o,this.children);{const d=un(s),M=(this.children.get(d)||new Jn(null)).set(Kn(s),o),k=this.children.insert(d,M);return new Jn(this.value,k)}}remove(s){if(en(s))return this.children.isEmpty()?new Jn(null):new Jn(null,this.children);{const o=un(s),d=this.children.get(o);if(d){const C=d.remove(Kn(s));let M;return M=C.isEmpty()?this.children.remove(o):this.children.insert(o,C),null===this.value&&M.isEmpty()?new Jn(null):new Jn(this.value,M)}return this}}get(s){if(en(s))return this.value;{const o=un(s),d=this.children.get(o);return d?d.get(Kn(s)):null}}setTree(s,o){if(en(s))return o;{const d=un(s),M=(this.children.get(d)||new Jn(null)).setTree(Kn(s),o);let k;return k=M.isEmpty()?this.children.remove(d):this.children.insert(d,M),new Jn(this.value,k)}}fold(s){return this.fold_(pn(),s)}fold_(s,o){const d={};return this.children.inorderTraversal((C,M)=>{d[C]=M.fold_(sr(s,C),o)}),o(s,this.value,d)}findOnPath(s,o){return this.findOnPath_(s,pn(),o)}findOnPath_(s,o,d){const C=!!this.value&&d(o,this.value);if(C)return C;if(en(s))return null;{const M=un(s),k=this.children.get(M);return k?k.findOnPath_(Kn(s),sr(o,M),d):null}}foreachOnPath(s,o){return this.foreachOnPath_(s,pn(),o)}foreachOnPath_(s,o,d){if(en(s))return this;{this.value&&d(o,this.value);const C=un(s),M=this.children.get(C);return M?M.foreachOnPath_(Kn(s),sr(o,C),d):new Jn(null)}}foreach(s){this.foreach_(pn(),s)}foreach_(s,o){this.children.inorderTraversal((d,C)=>{C.foreach_(sr(s,d),o)}),this.value&&o(s,this.value)}foreachChild(s){this.children.inorderTraversal((o,d)=>{d.value&&s(o,d.value)})}}class vs{constructor(s){this.writeTree_=s}static empty(){return new vs(new Jn(null))}}function Io(l,s,o){if(en(s))return new vs(new Jn(o));{const d=l.writeTree_.findRootMostValueAndPath(s);if(null!=d){const C=d.path;let M=d.value;const k=Bt(C,s);return M=M.updateChild(k,o),new vs(l.writeTree_.set(C,M))}{const C=new Jn(o),M=l.writeTree_.setTree(s,C);return new vs(M)}}}function ic(l,s,o){let d=l;return dt(o,(C,M)=>{d=Io(d,sr(s,C),M)}),d}function Pl(l,s){if(en(s))return vs.empty();{const o=l.writeTree_.setTree(s,new Jn(null));return new vs(o)}}function Co(l,s){return null!=$i(l,s)}function $i(l,s){const o=l.writeTree_.findRootMostValueAndPath(s);return null!=o?l.writeTree_.get(o.path).getChild(Bt(o.path,s)):null}function ra(l){const s=[],o=l.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(Zn,(d,C)=>{s.push(new mn(d,C))}):l.writeTree_.children.inorderTraversal((d,C)=>{null!=C.value&&s.push(new mn(d,C.value))}),s}function Oi(l,s){if(en(s))return l;{const o=$i(l,s);return new vs(null!=o?new Jn(o):l.writeTree_.subtree(s))}}function Oa(l){return l.writeTree_.isEmpty()}function ii(l,s){return Js(pn(),l.writeTree_,s)}function Js(l,s,o){if(null!=s.value)return o.updateChild(l,s.value);{let d=null;return s.children.inorderTraversal((C,M)=>{".priority"===C?((0,F.vA)(null!==M.value,"Priority writes must always be leaf nodes"),d=M.value):o=Js(sr(l,C),M,o)}),!o.getChild(l).isEmpty()&&null!==d&&(o=o.updateChild(sr(l,".priority"),d)),o}}function ls(l,s){return Se(s,l)}function es(l,s){if(l.snap)return Lr(l.path,s);for(const o in l.children)if(l.children.hasOwnProperty(o)&&Lr(sr(l.path,o),s))return!0;return!1}function xl(l){return l.visible}function ia(l,s,o){let d=vs.empty();for(let C=0;C<l.length;++C){const M=l[C];if(s(M)){const k=M.path;let Q;if(M.snap)Lr(o,k)?(Q=Bt(o,k),d=Io(d,Q,M.snap)):Lr(k,o)&&(Q=Bt(k,o),d=Io(d,pn(),M.snap.getChild(Q)));else{if(!M.children)throw(0,F.Hk)("WriteRecord should have .snap or .children");if(Lr(o,k))Q=Bt(o,k),d=ic(d,Q,M.children);else if(Lr(k,o))if(Q=Bt(k,o),en(Q))d=ic(d,pn(),M.children);else{const se=(0,F.yw)(M.children,un(Q));if(se){const fe=se.getChild(Kn(Q));d=Io(d,pn(),fe)}}}}}return d}function En(l,s,o,d,C){if(d||C){const M=Oi(l.visibleWrites,s);return!C&&Oa(M)?o:C||null!=o||Co(M,pn())?ii(ia(l.allWrites,function(fe){return(fe.visible||C)&&(!d||!~d.indexOf(fe.writeId))&&(Lr(fe.path,s)||Lr(s,fe.path))},s),o||qt.EMPTY_NODE):null}{const M=$i(l.visibleWrites,s);if(null!=M)return M;{const k=Oi(l.visibleWrites,s);return Oa(k)?o:null!=o||Co(k,pn())?ii(k,o||qt.EMPTY_NODE):null}}}function eo(l,s,o,d){return En(l.writeTree,l.treePath,s,o,d)}function to(l,s){return function qa(l,s,o){let d=qt.EMPTY_NODE;const C=$i(l.visibleWrites,s);if(C)return C.isLeafNode()||C.forEachChild(Zn,(M,k)=>{d=d.updateImmediateChild(M,k)}),d;if(o){const M=Oi(l.visibleWrites,s);return o.forEachChild(Zn,(k,Q)=>{const se=ii(Oi(M,new Ln(k)),Q);d=d.updateImmediateChild(k,se)}),ra(M).forEach(k=>{d=d.updateImmediateChild(k.name,k.node)}),d}return ra(Oi(l.visibleWrites,s)).forEach(k=>{d=d.updateImmediateChild(k.name,k.node)}),d}(l.writeTree,l.treePath,s)}function v(l,s,o,d){return function Pa(l,s,o,d,C){(0,F.vA)(d||C,"Either existingEventSnap or existingServerSnap must exist");const M=sr(s,o);if(Co(l.visibleWrites,M))return null;{const k=Oi(l.visibleWrites,M);return Oa(k)?C.getChild(o):ii(k,C.getChild(o))}}(l.writeTree,l.treePath,s,o,d)}function j(l,s){return function Wi(l,s){return $i(l.visibleWrites,s)}(l.writeTree,sr(l.treePath,s))}function B(l,s,o){return function jr(l,s,o,d){const C=sr(s,o),M=$i(l.visibleWrites,C);return null!=M?M:d.isCompleteForChild(o)?ii(Oi(l.visibleWrites,C),d.getNode().getImmediateChild(o)):null}(l.writeTree,l.treePath,s,o)}function ne(l,s){return Se(sr(l.treePath,s),l.writeTree)}function Se(l,s){return{treePath:l,writeTree:s}}class qe{constructor(){this.changeMap=new Map}trackChildChange(s){const o=s.type,d=s.childName;(0,F.vA)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,F.vA)(".priority"!==d,"Only non-priority child changes can be tracked.");const C=this.changeMap.get(d);if(C){const M=C.type;if("child_added"===o&&"child_removed"===M)this.changeMap.set(d,Sa(d,s.snapshotNode,C.snapshotNode));else if("child_removed"===o&&"child_added"===M)this.changeMap.delete(d);else if("child_removed"===o&&"child_changed"===M)this.changeMap.set(d,_r(d,C.oldSnap));else if("child_changed"===o&&"child_added"===M)this.changeMap.set(d,Ls(d,s.snapshotNode));else{if("child_changed"!==o||"child_changed"!==M)throw(0,F.Hk)("Illegal combination of changes: "+s+" occurred after "+C);this.changeMap.set(d,Sa(d,s.snapshotNode,C.oldSnap))}}else this.changeMap.set(d,s)}getChanges(){return Array.from(this.changeMap.values())}}const Bn=new class gt{getCompleteChild(s){return null}getChildAfterChild(s,o,d){return null}};class nn{constructor(s,o,d=null){this.writes_=s,this.viewCache_=o,this.optCompleteServerCache_=d}getCompleteChild(s){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(s))return o.getNode().getImmediateChild(s);{const d=null!=this.optCompleteServerCache_?new Hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B(this.writes_,s,d)}}getChildAfterChild(s,o,d){const C=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vr(this.viewCache_),M=function R(l,s,o,d,C,M){return function ka(l,s,o,d,C,M,k){let Q;const se=Oi(l.visibleWrites,s),fe=$i(se,pn());if(null!=fe)Q=fe;else{if(null==o)return[];Q=ii(se,o)}if(Q=Q.withIndex(k),Q.isEmpty()||Q.isLeafNode())return[];{const He=[],Ge=k.getCompare(),Xe=M?Q.getReverseIteratorFrom(d,k):Q.getIteratorFrom(d,k);let wt=Xe.getNext();for(;wt&&He.length<C;)0!==Ge(wt,d)&&He.push(wt),wt=Xe.getNext();return He}}(l.writeTree,l.treePath,s,o,d,C,M)}(this.writes_,C,o,1,d,s);return 0===M.length?null:M[0]}}function vr(l,s,o,d,C,M){const k=s.eventCache;if(null!=j(d,o))return s;{let Q,se;if(en(o))if((0,F.vA)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const fe=Vr(s),Ge=to(d,fe instanceof qt?fe:qt.EMPTY_NODE);Q=l.filter.updateFullNode(s.eventCache.getNode(),Ge,M)}else{const fe=eo(d,Vr(s));Q=l.filter.updateFullNode(s.eventCache.getNode(),fe,M)}else{const fe=un(o);if(".priority"===fe){(0,F.vA)(1===ui(o),"Can't have a priority with additional path components");const He=k.getNode();se=s.serverCache.getNode();const Ge=v(d,o,He,se);Q=null!=Ge?l.filter.updatePriority(He,Ge):k.getNode()}else{const He=Kn(o);let Ge;if(k.isCompleteForChild(fe)){se=s.serverCache.getNode();const Xe=v(d,o,k.getNode(),se);Ge=null!=Xe?k.getNode().getImmediateChild(fe).updateChild(He,Xe):k.getNode().getImmediateChild(fe)}else Ge=B(d,fe,s.serverCache);Q=null!=Ge?l.filter.updateChild(k.getNode(),fe,Ge,He,C,M):k.getNode()}}return Ft(s,Q,k.isFullyInitialized()||en(o),l.filter.filtersNodes())}}function Pi(l,s,o,d,C,M,k,Q){const se=s.serverCache;let fe;const He=k?l.filter:l.filter.getIndexedFilter();if(en(o))fe=He.updateFullNode(se.getNode(),d,null);else if(He.filtersNodes()&&!se.isFiltered()){const wt=se.getNode().updateChild(o,d);fe=He.updateFullNode(se.getNode(),wt,null)}else{const wt=un(o);if(!se.isCompleteForPath(o)&&ui(o)>1)return s;const Yt=Kn(o),Ki=se.getNode().getImmediateChild(wt).updateChild(Yt,d);fe=".priority"===wt?He.updatePriority(se.getNode(),Ki):He.updateChild(se.getNode(),wt,Ki,Yt,Bn,null)}const Ge=Zs(s,fe,se.isFullyInitialized()||en(o),He.filtersNodes());return vr(l,Ge,o,C,new nn(C,Ge,M),Q)}function Dr(l,s,o,d,C,M,k){const Q=s.eventCache;let se,fe;const He=new nn(C,s,M);if(en(o))fe=l.filter.updateFullNode(s.eventCache.getNode(),d,k),se=Ft(s,fe,!0,l.filter.filtersNodes());else{const Ge=un(o);if(".priority"===Ge)fe=l.filter.updatePriority(s.eventCache.getNode(),d),se=Ft(s,fe,Q.isFullyInitialized(),Q.isFiltered());else{const Xe=Kn(o),wt=Q.getNode().getImmediateChild(Ge);let Yt;if(en(Xe))Yt=d;else{const dr=He.getCompleteChild(Ge);Yt=null!=dr?".priority"===Ws(Xe)&&dr.getChild(fs(Xe)).isEmpty()?dr:dr.updateChild(Xe,d):qt.EMPTY_NODE}se=wt.equals(Yt)?s:Ft(s,l.filter.updateChild(Q.getNode(),Ge,Yt,Xe,He,k),Q.isFullyInitialized(),l.filter.filtersNodes())}}return se}function Ei(l,s){return l.eventCache.isCompleteForChild(s)}function ki(l,s,o){return o.foreach((d,C)=>{s=s.updateChild(d,C)}),s}function cs(l,s,o,d,C,M,k,Q){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let fe,se=s;fe=en(o)?d:new Jn(null).setTree(o,d);const He=s.serverCache.getNode();return fe.children.inorderTraversal((Ge,Xe)=>{if(He.hasChild(Ge)){const Yt=ki(0,s.serverCache.getNode().getImmediateChild(Ge),Xe);se=Pi(l,se,new Ln(Ge),Yt,C,M,k,Q)}}),fe.children.inorderTraversal((Ge,Xe)=>{const wt=!s.serverCache.isCompleteForChild(Ge)&&null===Xe.value;if(!He.hasChild(Ge)&&!wt){const dr=ki(0,s.serverCache.getNode().getImmediateChild(Ge),Xe);se=Pi(l,se,new Ln(Ge),dr,C,M,k,Q)}}),se}class Bo{constructor(s,o){this.query_=s,this.eventRegistrations_=[];const d=this.query_._queryParams,C=new Un(d.getIndex()),M=function Ys(l){return l.loadsAllData()?new Un(l.getIndex()):l.hasLimit()?new Cr(l):new qr(l)}(d);this.processor_=function qn(l){return{filter:l}}(M);const k=o.serverCache,Q=o.eventCache,se=C.updateFullNode(qt.EMPTY_NODE,k.getNode(),null),fe=M.updateFullNode(qt.EMPTY_NODE,Q.getNode(),null),He=new Hi(se,k.isFullyInitialized(),C.filtersNodes()),Ge=new Hi(fe,Q.isFullyInitialized(),M.filtersNodes());this.viewCache_=Lo(Ge,He),this.eventGenerator_=new ko(this.query_)}get query(){return this.query_}}function la(l,s){const o=Vr(l.viewCache_);return o&&(l.query._queryParams.loadsAllData()||!en(s)&&!o.getImmediateChild(un(s)).isEmpty())?o.getChild(s):null}function ca(l){return 0===l.eventRegistrations_.length}function vl(l,s,o){const d=[];if(o){(0,F.vA)(null==s,"A cancel should cancel all event registrations.");const C=l.query._path;l.eventRegistrations_.forEach(M=>{const k=M.createCancelEvent(o,C);k&&d.push(k)})}if(s){let C=[];for(let M=0;M<l.eventRegistrations_.length;++M){const k=l.eventRegistrations_[M];if(k.matches(s)){if(s.hasAnyCallback()){C=C.concat(l.eventRegistrations_.slice(M+1));break}}else C.push(k)}l.eventRegistrations_=C}else l.eventRegistrations_=[];return d}function sc(l,s,o,d){s.type===Us.MERGE&&null!==s.source.queryId&&((0,F.vA)(Vr(l.viewCache_),"We should always have a full cache before handling merges"),(0,F.vA)(Mi(l.viewCache_),"Missing event cache, even though we have a server cache"));const C=l.viewCache_,M=function rr(l,s,o,d,C){const M=new qe;let k,Q;if(o.type===Us.OVERWRITE){const fe=o;fe.source.fromUser?k=Dr(l,s,fe.path,fe.snap,d,C,M):((0,F.vA)(fe.source.fromServer,"Unknown source."),Q=fe.source.tagged||s.serverCache.isFiltered()&&!en(fe.path),k=Pi(l,s,fe.path,fe.snap,d,C,Q,M))}else if(o.type===Us.MERGE){const fe=o;fe.source.fromUser?k=function no(l,s,o,d,C,M,k){let Q=s;return d.foreach((se,fe)=>{const He=sr(o,se);Ei(s,un(He))&&(Q=Dr(l,Q,He,fe,C,M,k))}),d.foreach((se,fe)=>{const He=sr(o,se);Ei(s,un(He))||(Q=Dr(l,Q,He,fe,C,M,k))}),Q}(l,s,fe.path,fe.children,d,C,M):((0,F.vA)(fe.source.fromServer,"Unknown source."),Q=fe.source.tagged||s.serverCache.isFiltered(),k=cs(l,s,fe.path,fe.children,d,C,Q,M))}else if(o.type===Us.ACK_USER_WRITE){const fe=o;k=fe.revert?function Uo(l,s,o,d,C,M){let k;if(null!=j(d,o))return s;{const Q=new nn(d,s,C),se=s.eventCache.getNode();let fe;if(en(o)||".priority"===un(o)){let He;if(s.serverCache.isFullyInitialized())He=eo(d,Vr(s));else{const Ge=s.serverCache.getNode();(0,F.vA)(Ge instanceof qt,"serverChildren would be complete if leaf node"),He=to(d,Ge)}fe=l.filter.updateFullNode(se,He,M)}else{const He=un(o);let Ge=B(d,He,s.serverCache);null==Ge&&s.serverCache.isCompleteForChild(He)&&(Ge=se.getImmediateChild(He)),fe=null!=Ge?l.filter.updateChild(se,He,Ge,Kn(o),Q,M):s.eventCache.getNode().hasChild(He)?l.filter.updateChild(se,He,qt.EMPTY_NODE,Kn(o),Q,M):se,fe.isEmpty()&&s.serverCache.isFullyInitialized()&&(k=eo(d,Vr(s)),k.isLeafNode()&&(fe=l.filter.updateFullNode(fe,k,M)))}return k=s.serverCache.isFullyInitialized()||null!=j(d,pn()),Ft(s,fe,k,l.filter.filtersNodes())}}(l,s,fe.path,d,C,M):function Es(l,s,o,d,C,M,k){if(null!=j(C,o))return s;const Q=s.serverCache.isFiltered(),se=s.serverCache;if(null!=d.value){if(en(o)&&se.isFullyInitialized()||se.isCompleteForPath(o))return Pi(l,s,o,se.getNode().getChild(o),C,M,Q,k);if(en(o)){let fe=new Jn(null);return se.getNode().forEachChild(ti,(He,Ge)=>{fe=fe.set(new Ln(He),Ge)}),cs(l,s,o,fe,C,M,Q,k)}return s}{let fe=new Jn(null);return d.foreach((He,Ge)=>{const Xe=sr(o,He);se.isCompleteForPath(Xe)&&(fe=fe.set(He,se.getNode().getChild(Xe)))}),cs(l,s,o,fe,C,M,Q,k)}}(l,s,fe.path,fe.affectedTree,d,C,M)}else{if(o.type!==Us.LISTEN_COMPLETE)throw(0,F.Hk)("Unknown operation type: "+o.type);k=function oa(l,s,o,d,C){const M=s.serverCache;return vr(l,Zs(s,M.getNode(),M.isFullyInitialized()||en(o),M.isFiltered()),o,d,Bn,C)}(l,s,o.path,d,M)}const se=M.getChanges();return function $n(l,s,o){const d=s.eventCache;if(d.isFullyInitialized()){const C=d.getNode().isLeafNode()||d.getNode().isEmpty(),M=Mi(l);(o.length>0||!l.eventCache.isFullyInitialized()||C&&!d.getNode().equals(M)||!d.getNode().getPriority().equals(M.getPriority()))&&o.push(xs(Mi(s)))}}(s,k,se),{viewCache:k,changes:se}}(l.processor_,C,s,o,d);return function nt(l,s){(0,F.vA)(s.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,F.vA)(s.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,M.viewCache),(0,F.vA)(M.viewCache.serverCache.isFullyInitialized()||!C.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=M.viewCache,pc(l,M.changes,M.viewCache.eventCache.getNode(),null)}function pc(l,s,o,d){return function xo(l,s,o,d){const C=[],M=[];return s.forEach(k=>{"child_changed"===k.type&&l.index_.indexedValueChanged(k.oldSnap,k.snapshotNode)&&M.push(function ys(l,s){return{type:"child_moved",snapshotNode:s,childName:l}}(k.childName,k.snapshotNode))}),_s(l,C,"child_removed",s,d,o),_s(l,C,"child_added",s,d,o),_s(l,C,"child_moved",M,d,o),_s(l,C,"child_changed",s,d,o),_s(l,C,"value",s,d,o),C}(l.eventGenerator_,s,o,d?[d]:l.eventRegistrations_)}let Ii,To;class Ya{constructor(){this.views=new Map}}function Vn(l,s,o,d){const C=s.source.queryId;if(null!==C){const M=l.views.get(C);return(0,F.vA)(null!=M,"SyncTree gave us an op for an invalid query."),sc(M,s,o,d)}{let M=[];for(const k of l.views.values())M=M.concat(sc(k,s,o,d));return M}}function us(l,s,o,d,C,M){const k=function bn(l,s,o,d,C){const k=l.views.get(s._queryIdentifier);if(!k){let Q=eo(o,C?d:null),se=!1;Q?se=!0:d instanceof qt?(Q=to(o,d),se=!1):(Q=qt.EMPTY_NODE,se=!1);const fe=Lo(new Hi(Q,se,!1),new Hi(d,C,!1));return new Bo(s,fe)}return k}(l,s,d,C,M);return l.views.has(s._queryIdentifier)||l.views.set(s._queryIdentifier,k),function zi(l,s){l.eventRegistrations_.push(s)}(k,o),function Qa(l,s){const o=l.viewCache_.eventCache,d=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(Zn,(M,k)=>{d.push(Ls(M,k))}),o.isFullyInitialized()&&d.push(xs(o.getNode())),pc(l,d,o.getNode(),s)}(k,o)}function xi(l){const s=[];for(const o of l.views.values())o.query._queryParams.loadsAllData()||s.push(o);return s}function Is(l,s){let o=null;for(const d of l.views.values())o=o||la(d,s);return o}function xa(l,s){return s._queryParams.loadsAllData()?ro(l):l.views.get(s._queryIdentifier)}function Cs(l,s){return null!=xa(l,s)}function Gi(l){return null!=ro(l)}function ro(l){for(const s of l.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let La=1;class Za{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Jn(null),this.pendingWriteTree_=function sa(){return{visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fa(l,s,o,d,C){return function tn(l,s,o,d,C){(0,F.vA)(d>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===C&&(C=!0),l.allWrites.push({path:s,snap:o,writeId:d,visible:C}),C&&(l.visibleWrites=Io(l.visibleWrites,s,o)),l.lastWriteId=d}(l.pendingWriteTree_,s,o,d,C),C?Ua(l,new vi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,o)):[]}function Li(l,s,o=!1){const d=function _l(l,s){for(let o=0;o<l.allWrites.length;o++){const d=l.allWrites[o];if(d.writeId===s)return d}return null}(l.pendingWriteTree_,s);if(function Fo(l,s){const o=l.allWrites.findIndex(Q=>Q.writeId===s);(0,F.vA)(o>=0,"removeWrite called with nonexistent writeId.");const d=l.allWrites[o];l.allWrites.splice(o,1);let C=d.visible,M=!1,k=l.allWrites.length-1;for(;C&&k>=0;){const Q=l.allWrites[k];Q.visible&&(k>=o&&es(Q,d.path)?C=!1:Lr(d.path,Q.path)&&(M=!0)),k--}return!!C&&(M?(function kl(l){l.visibleWrites=ia(l.allWrites,xl,pn()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(d.snap?l.visibleWrites=Pl(l.visibleWrites,d.path):dt(d.children,se=>{l.visibleWrites=Pl(l.visibleWrites,sr(d.path,se))}),!0))}(l.pendingWriteTree_,s)){let M=new Jn(null);return null!=d.snap?M=M.set(pn(),!0):dt(d.children,k=>{M=M.set(new Ln(k),!0)}),Ua(l,new Ma(d.path,M,o))}return[]}function da(l,s,o){return Ua(l,new vi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,o))}function Ul(l,s,o,d,C=!1){const M=s._path,k=l.syncPointTree_.get(M);let Q=[];if(k&&("default"===s._queryIdentifier||Cs(k,s))){const se=function Fl(l,s,o,d){const C=s._queryIdentifier,M=[];let k=[];const Q=Gi(l);if("default"===C)for(const[se,fe]of l.views.entries())k=k.concat(vl(fe,o,d)),ca(fe)&&(l.views.delete(se),fe.query._queryParams.loadsAllData()||M.push(fe.query));else{const se=l.views.get(C);se&&(k=k.concat(vl(se,o,d)),ca(se)&&(l.views.delete(C),se.query._queryParams.loadsAllData()||M.push(se.query)))}return Q&&!Gi(l)&&M.push(new(function oc(){return(0,F.vA)(Ii,"Reference.ts has not been loaded"),Ii}())(s._repo,s._path)),{removed:M,events:k}}(k,s,o,d);(function Ll(l){return 0===l.views.size})(k)&&(l.syncPointTree_=l.syncPointTree_.remove(M));const fe=se.removed;if(Q=se.events,!C){const He=-1!==fe.findIndex(Xe=>Xe._queryParams.loadsAllData()),Ge=l.syncPointTree_.findOnPath(M,(Xe,wt)=>Gi(wt));if(He&&!Ge){const Xe=l.syncPointTree_.subtree(M);if(!Xe.isEmpty()){const wt=function nl(l){return l.fold((s,o,d)=>{if(o&&Gi(o))return[ro(o)];{let C=[];return o&&(C=xi(o)),dt(d,(M,k)=>{C=C.concat(k)}),C}})}(Xe);for(let Yt=0;Yt<wt.length;++Yt){const dr=wt[Yt],Ki=dr.query,$c=Ba(l,dr);l.listenProvider_.startListening(hn(Ki),ha(l,Ki),$c.hashFn,$c.onComplete)}}}!Ge&&fe.length>0&&!d&&(He?l.listenProvider_.stopListening(hn(s),null):fe.forEach(Xe=>{const wt=l.queryToTagMap.get(fa(Xe));l.listenProvider_.stopListening(hn(Xe),wt)}))}!function g(l,s){for(let o=0;o<s.length;++o){const d=s[o];if(!d._queryParams.loadsAllData()){const C=fa(d),M=l.queryToTagMap.get(C);l.queryToTagMap.delete(C),l.tagToQueryMap.delete(M)}}}(l,fe)}return Q}function Vl(l,s,o,d=!1){const C=s._path;let M=null,k=!1;l.syncPointTree_.foreachOnPath(C,(Xe,wt)=>{const Yt=Bt(Xe,C);M=M||Is(wt,Yt),k=k||Gi(wt)});let se,Q=l.syncPointTree_.get(C);Q?(k=k||Gi(Q),M=M||Is(Q,pn())):(Q=new Ya,l.syncPointTree_=l.syncPointTree_.set(C,Q)),null!=M?se=!0:(se=!1,M=qt.EMPTY_NODE,l.syncPointTree_.subtree(C).foreachChild((wt,Yt)=>{const dr=Is(Yt,pn());dr&&(M=M.updateImmediateChild(wt,dr))}));const fe=Cs(Q,s);if(!fe&&!s._queryParams.loadsAllData()){const Xe=fa(s);(0,F.vA)(!l.queryToTagMap.has(Xe),"View does not exist, but we have a tag");const wt=function S(){return La++}();l.queryToTagMap.set(Xe,wt),l.tagToQueryMap.set(wt,Xe)}let Ge=us(Q,s,o,ls(l.pendingWriteTree_,C),M,se);if(!fe&&!k&&!d){const Xe=xa(Q,s);Ge=Ge.concat(function y(l,s,o){const d=s._path,C=ha(l,s),M=Ba(l,o),k=l.listenProvider_.startListening(hn(s),C,M.hashFn,M.onComplete),Q=l.syncPointTree_.subtree(d);if(C)(0,F.vA)(!Gi(Q.value),"If we're adding a query, it shouldn't be shadowed");else{const se=Q.fold((fe,He,Ge)=>{if(!en(fe)&&He&&Gi(He))return[ro(He).query];{let Xe=[];return He&&(Xe=Xe.concat(xi(He).map(wt=>wt.query))),dt(Ge,(wt,Yt)=>{Xe=Xe.concat(Yt)}),Xe}});for(let fe=0;fe<se.length;++fe){const He=se[fe];l.listenProvider_.stopListening(hn(He),ha(l,He))}}return k}(l,s,Xe))}return Ge}function El(l,s,o){const C=l.pendingWriteTree_,M=l.syncPointTree_.findOnPath(s,(k,Q)=>{const fe=Is(Q,Bt(k,s));if(fe)return fe});return En(C,s,M,o,!0)}function Ua(l,s){return Ja(s,l.syncPointTree_,null,ls(l.pendingWriteTree_,pn()))}function Ja(l,s,o,d){if(en(l.path))return jl(l,s,o,d);{const C=s.get(pn());null==o&&null!=C&&(o=Is(C,pn()));let M=[];const k=un(l.path),Q=l.operationForChild(k),se=s.children.get(k);if(se&&Q){const fe=o?o.getImmediateChild(k):null,He=ne(d,k);M=M.concat(Ja(Q,se,fe,He))}return C&&(M=M.concat(Vn(C,l,d,o))),M}}function jl(l,s,o,d){const C=s.get(pn());null==o&&null!=C&&(o=Is(C,pn()));let M=[];return s.children.inorderTraversal((k,Q)=>{const se=o?o.getImmediateChild(k):null,fe=ne(d,k),He=l.operationForChild(k);He&&(M=M.concat(jl(He,Q,se,fe)))}),C&&(M=M.concat(Vn(C,l,d,o))),M}function Ba(l,s){const o=s.query,d=ha(l,o);return{hashFn:()=>(function Or(l){return l.viewCache_.serverCache.getNode()}(s)||qt.EMPTY_NODE).hash(),onComplete:C=>{if("ok"===C)return d?function ac(l,s,o){const d=Va(l,o);if(d){const C=el(d),M=C.path,k=C.queryId,Q=Bt(M,s);return tl(l,M,new Qr(In(k),Q))}return[]}(l,o._path,d):function ds(l,s){return Ua(l,new Qr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(l,o._path);{const M=function dn(l,s){let o="Unknown Error";"too_big"===l?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===l?o="Client doesn't have permission to access the desired data.":"unavailable"===l&&(o="The service is unavailable");const d=new Error(l+" at "+s._path.toString()+": "+o);return d.code=l.toUpperCase(),d}(C,o);return Ul(l,o,null,M)}}}}function ha(l,s){const o=fa(s);return l.queryToTagMap.get(o)}function fa(l){return l._path.toString()+"$"+l._queryIdentifier}function Va(l,s){return l.tagToQueryMap.get(s)}function el(l){const s=l.indexOf("$");return(0,F.vA)(-1!==s&&s<l.length-1,"Bad queryKey."),{queryId:l.substr(s+1),path:new Ln(l.substr(0,s))}}function tl(l,s,o){const d=l.syncPointTree_.get(s);return(0,F.vA)(d,"Missing sync point for query tag that we're tracking"),Vn(d,o,ls(l.pendingWriteTree_,s),null)}function hn(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(function ua(){return(0,F.vA)(To,"Reference.ts has not been loaded"),To}())(l._repo,l._path):l}class b{constructor(s){this.node_=s}getImmediateChild(s){const o=this.node_.getImmediateChild(s);return new b(o)}node(){return this.node_}}class P{constructor(s,o){this.syncTree_=s,this.path_=o}getImmediateChild(s){const o=sr(this.path_,s);return new P(this.syncTree_,o)}node(){return El(this.syncTree_,this.path_)}}const W=function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l},te=function(l,s,o){return l&&"object"==typeof l?((0,F.vA)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?Ae(l[".sv"],s,o):"object"==typeof l[".sv"]?Ie(l[".sv"],s):void(0,F.vA)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},Ae=function(l,s,o){if("timestamp"===l)return o.timestamp;(0,F.vA)(!1,"Unexpected server value: "+l)},Ie=function(l,s,o){l.hasOwnProperty("increment")||(0,F.vA)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const d=l.increment;"number"!=typeof d&&(0,F.vA)(!1,"Unexpected increment value: "+d);const C=s.node();if((0,F.vA)(null!==C&&typeof C<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!C.isLeafNode())return d;const k=C.getValue();return"number"!=typeof k?d:k+d},st=function(l,s,o,d){return Ut(s,new P(o,l),d)},Ot=function(l,s,o){return Ut(l,new b(s),o)};function Ut(l,s,o){const d=l.getPriority().val(),C=te(d,s.getImmediateChild(".priority"),o);let M;if(l.isLeafNode()){const k=l,Q=te(k.getValue(),s,o);return Q!==k.getValue()||C!==k.getPriority().val()?new ri(Q,Fn(C)):l}{const k=l;return M=k,C!==k.getPriority().val()&&(M=M.updatePriority(new ri(C))),k.forEachChild(Zn,(Q,se)=>{const fe=Ut(se,s.getImmediateChild(Q),o);fe!==se&&(M=M.updateImmediateChild(Q,fe))}),M}}class or{constructor(s="",o=null,d={children:{},childCount:0}){this.name=s,this.parent=o,this.node=d}}function Yr(l,s){let o=s instanceof Ln?s:new Ln(s),d=l,C=un(o);for(;null!==C;){const M=(0,F.yw)(d.node.children,C)||{children:{},childCount:0};d=new or(C,d,M),o=Kn(o),C=un(o)}return d}function Xr(l){return l.node.value}function si(l,s){l.node.value=s,Z(l)}function T(l){return l.node.childCount>0}function p(l,s){dt(l.node.children,(o,d)=>{s(new or(o,l,d))})}function D(l,s,o,d){o&&!d&&s(l),p(l,C=>{D(C,s,!0,d)}),o&&d&&s(l)}function H(l){return new Ln(null===l.parent?l.name:H(l.parent)+"/"+l.name)}function Z(l){null!==l.parent&&function oe(l,s,o){const d=function f(l){return void 0===Xr(l)&&!T(l)}(o),C=(0,F.gR)(l.node.children,s);d&&C?(delete l.node.children[s],l.node.childCount--,Z(l)):!d&&!C&&(l.node.children[s]=o.node,l.node.childCount++,Z(l))}(l.parent,l.name,l)}const me=/[\[\].#$\/\u0000-\u001F\u007F]/,Ne=/[\[\].#$\u0000-\u001F\u007F]/,ot=10485760,et=function(l){return"string"==typeof l&&0!==l.length&&!me.test(l)},Rt=function(l){return"string"==typeof l&&0!==l.length&&!Ne.test(l)},pt=function(l,s,o,d){d&&void 0===s||Gt((0,F.dI)(l,"value"),s,o)},Gt=function(l,s,o){const d=o instanceof Ln?new hi(o,l):o;if(void 0===s)throw new Error(l+"contains undefined "+Ai(d));if("function"==typeof s)throw new Error(l+"contains a function "+Ai(d)+" with contents = "+s.toString());if(Et(s))throw new Error(l+"contains "+s.toString()+" "+Ai(d));if("string"==typeof s&&s.length>ot/3&&(0,F.OE)(s)>ot)throw new Error(l+"contains a string greater than "+ot+" utf8 bytes "+Ai(d)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let C=!1,M=!1;if(dt(s,(k,Q)=>{if(".value"===k)C=!0;else if(".priority"!==k&&".sv"!==k&&(M=!0,!et(k)))throw new Error(l+" contains an invalid key ("+k+") "+Ai(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ia(l,s){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(s),l.byteLength_+=(0,F.OE)(s),zs(l)})(d,k),Gt(l,Q,d),function Xi(l){const s=l.parts_.pop();l.byteLength_-=(0,F.OE)(s),l.parts_.length>0&&(l.byteLength_-=1)}(d)}),C&&M)throw new Error(l+' contains ".value" child '+Ai(d)+" in addition to actual children.")}},fr=function(l,s,o,d){if(d&&void 0===s)return;const C=(0,F.dI)(l,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(C+" must be an object containing the children to replace.");const M=[];dt(s,(k,Q)=>{const se=new Ln(k);if(Gt(C,Q,sr(o,se)),".priority"===Ws(se)&&!function(l){return null===l||"string"==typeof l||"number"==typeof l&&!Et(l)||l&&"object"==typeof l&&(0,F.gR)(l,".sv")}(Q))throw new Error(C+"contains an invalid value for '"+se.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");M.push(se)}),function(l,s){let o,d;for(o=0;o<s.length;o++){d=s[o];const M=xr(d);for(let k=0;k<M.length;k++)if((".priority"!==M[k]||k!==M.length-1)&&!et(M[k]))throw new Error(l+"contains an invalid key ("+M[k]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(Os);let C=null;for(o=0;o<s.length;o++){if(d=s[o],null!==C&&Lr(C,d))throw new Error(l+"contains a path "+C.toString()+" that is ancestor of another path "+d.toString());C=d}}(C,M)},Ts=function(l,s,o,d){if(!(d&&void 0===o||Rt(o)))throw new Error((0,F.dI)(l,s)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ci=function(l,s,o,d){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Ts(l,s,o,d)},ar=function(l,s){if(".info"===un(s))throw new Error(l+" failed = Can't modify data under /.info/")};class so{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vo(l,s){let o=null;for(let d=0;d<s.length;d++){const C=s[d],M=C.getPath();null!==o&&!di(M,o.path)&&(l.eventLists_.push(o),o=null),null===o&&(o={events:[],path:M}),o.events.push(C)}o&&l.eventLists_.push(o)}function Il(l,s,o){Vo(l,o),Cl(l,d=>di(d,s))}function kn(l,s,o){Vo(l,o),Cl(l,d=>Lr(d,s)||Lr(s,d))}function Cl(l,s){l.recursionDepth_++;let o=!0;for(let d=0;d<l.eventLists_.length;d++){const C=l.eventLists_[d];C&&(s(C.path)?(Hl(l.eventLists_[d]),l.eventLists_[d]=null):o=!1)}o&&(l.eventLists_=[]),l.recursionDepth_--}function Hl(l){for(let s=0;s<l.events.length;s++){const o=l.events[s];if(null!==o){l.events[s]=null;const d=o.getEventRunner();ue&&de("event: "+o.toString()),zn(d)}}}const Nt=25;class $t{constructor(s,o,d,C){this.repoInfo_=s,this.forceRestClient_=o,this.authTokenProvider_=d,this.appCheckProvider_=C,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new so,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_i(),this.transactionQueueTree_=new or,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xn(l){const o=l.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function Pr(l){return W({timestamp:xn(l)})}function ws(l,s,o,d,C){l.dataUpdateCount++;const M=new Ln(s);o=l.interceptServerDataCallback_?l.interceptServerDataCallback_(s,o):o;let k=[];if(C)if(d){const se=(0,F.kH)(o,fe=>Fn(fe));k=function mc(l,s,o,d){const C=Va(l,d);if(C){const M=el(C),k=M.path,Q=M.queryId,se=Bt(k,s),fe=Jn.fromObject(o);return tl(l,k,new Bs(In(Q),se,fe))}return[]}(l.serverSyncTree_,M,se,C)}else{const se=Fn(o);k=function Bl(l,s,o,d){const C=Va(l,d);if(null!=C){const M=el(C),k=M.path,Q=M.queryId,se=Bt(k,s);return tl(l,k,new vi(In(Q),se,o))}return[]}(l.serverSyncTree_,M,se,C)}else if(d){const se=(0,F.kH)(o,fe=>Fn(fe));k=function gc(l,s,o){const d=Jn.fromObject(o);return Ua(l,new Bs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,d))}(l.serverSyncTree_,M,se)}else{const se=Fn(o);k=da(l.serverSyncTree_,M,se)}let Q=M;k.length>0&&(Q=wl(l,M)),kn(l.eventQueue_,Q,k)}function Fi(l,s){an(l,"connected",s),!1===s&&function pr(l){Ho(l,"onDisconnectEvents");const s=Pr(l),o=_i();Fs(l.onDisconnect_,pn(),(C,M)=>{const k=st(C,M,l.serverSyncTree_,s);_o(o,C,k)});let d=[];Fs(o,pn(),(C,M)=>{d=d.concat(da(l.serverSyncTree_,C,M));const k=Dl(l,C);wl(l,k)}),l.onDisconnect_=_i(),kn(l.eventQueue_,pn(),d)}(l)}function an(l,s,o){const d=new Ln("/.info/"+s),C=Fn(o);l.infoData_.updateSnapshot(d,C);const M=da(l.infoSyncTree_,d,C);kn(l.eventQueue_,d,M)}function it(l){return l.nextWriteId_++}function ln(l,s,o){let d;d=".info"===un(s._path)?Ul(l.infoSyncTree_,s,o):Ul(l.serverSyncTree_,s,o),Il(l.eventQueue_,s._path,d)}function Ho(l,...s){let o="";l.persistentConnection_&&(o=l.persistentConnection_.id+":"),de(o,...s)}function tr(l,s,o,d){s&&zn(()=>{if("ok"===o)s(null);else{const C=(o||"error").toUpperCase();let M=C;d&&(M+=": "+d);const k=new Error(M);k.code=C,s(k)}})}function il(l,s,o){return El(l.serverSyncTree_,s,o)||qt.EMPTY_NODE}function Do(l,s=l.transactionQueueTree_){if(s||zl(l,s),Xr(s)){const o=oo(l,s);(0,F.vA)(o.length>0,"Sending zero length transaction queue"),o.every(C=>0===C.status)&&function Wl(l,s,o){const d=o.map(fe=>fe.currentWriteId),C=il(l,s,d);let M=C;const k=C.hash();for(let fe=0;fe<o.length;fe++){const He=o[fe];(0,F.vA)(0===He.status,"tryToSendTransactionQueue_: items in queue should all be run."),He.status=1,He.retryCount++;const Ge=Bt(s,He.path);M=M.updateChild(Ge,He.currentOutputSnapshotRaw)}const Q=M.val(!0),se=s;l.server_.put(se.toString(),Q,fe=>{Ho(l,"transaction put response",{path:se.toString(),status:fe});let He=[];if("ok"===fe){const Ge=[];for(let Xe=0;Xe<o.length;Xe++)o[Xe].status=2,He=He.concat(Li(l.serverSyncTree_,o[Xe].currentWriteId)),o[Xe].onComplete&&Ge.push(()=>o[Xe].onComplete(null,!0,o[Xe].currentOutputSnapshotResolved)),o[Xe].unwatcher();zl(l,Yr(l.transactionQueueTree_,s)),Do(l,l.transactionQueueTree_),kn(l.eventQueue_,s,He);for(let Xe=0;Xe<Ge.length;Xe++)zn(Ge[Xe])}else{if("datastale"===fe)for(let Ge=0;Ge<o.length;Ge++)o[Ge].status=3===o[Ge].status?4:0;else{Kt("transaction at "+se.toString()+" failed: "+fe);for(let Ge=0;Ge<o.length;Ge++)o[Ge].status=4,o[Ge].abortReason=fe}wl(l,s)}},k)}(l,H(s),o)}else T(s)&&p(s,o=>{Do(l,o)})}function wl(l,s){const o=cc(l,s),d=H(o);return function sl(l,s,o){if(0===s.length)return;const d=[];let C=[];const k=s.filter(Q=>0===Q.status).map(Q=>Q.currentWriteId);for(let Q=0;Q<s.length;Q++){const se=s[Q],fe=Bt(o,se.path);let Ge,He=!1;if((0,F.vA)(null!==fe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===se.status)He=!0,Ge=se.abortReason,C=C.concat(Li(l.serverSyncTree_,se.currentWriteId,!0));else if(0===se.status)if(se.retryCount>=Nt)He=!0,Ge="maxretry",C=C.concat(Li(l.serverSyncTree_,se.currentWriteId,!0));else{const Xe=il(l,se.path,k);se.currentInputSnapshot=Xe;const wt=s[Q].update(Xe.val());if(void 0!==wt){Gt("transaction failed: Data returned ",wt,se.path);let Yt=Fn(wt);"object"==typeof wt&&null!=wt&&(0,F.gR)(wt,".priority")||(Yt=Yt.updatePriority(Xe.getPriority()));const Ki=se.currentWriteId,$c=Pr(l),Wc=Ot(Yt,Xe,$c);se.currentOutputSnapshotRaw=Yt,se.currentOutputSnapshotResolved=Wc,se.currentWriteId=it(l),k.splice(k.indexOf(Ki),1),C=C.concat(Fa(l.serverSyncTree_,se.path,Wc,se.currentWriteId,se.applyLocally)),C=C.concat(Li(l.serverSyncTree_,Ki,!0))}else He=!0,Ge="nodata",C=C.concat(Li(l.serverSyncTree_,se.currentWriteId,!0))}kn(l.eventQueue_,o,C),C=[],He&&(s[Q].status=2,setTimeout(s[Q].unwatcher,Math.floor(0)),s[Q].onComplete&&d.push("nodata"===Ge?()=>s[Q].onComplete(null,!1,s[Q].currentInputSnapshot):()=>s[Q].onComplete(new Error(Ge),!1,null)))}zl(l,l.transactionQueueTree_);for(let Q=0;Q<d.length;Q++)zn(d[Q]);Do(l,l.transactionQueueTree_)}(l,oo(l,o),d),d}function cc(l,s){let o,d=l.transactionQueueTree_;for(o=un(s);null!==o&&void 0===Xr(d);)d=Yr(d,o),o=un(s=Kn(s));return d}function oo(l,s){const o=[];return Mt(l,s,o),o.sort((d,C)=>d.order-C.order),o}function Mt(l,s,o){const d=Xr(s);if(d)for(let C=0;C<d.length;C++)o.push(d[C]);p(s,C=>{Mt(l,C,o)})}function zl(l,s){const o=Xr(s);if(o){let d=0;for(let C=0;C<o.length;C++)2!==o[C].status&&(o[d]=o[C],d++);o.length=d,si(s,o.length>0?o:void 0)}p(s,d=>{zl(l,d)})}function Dl(l,s){const o=H(cc(l,s)),d=Yr(l.transactionQueueTree_,s);return function N(l,s,o){let d=o?l:l.parent;for(;null!==d;){if(s(d))return!0;d=d.parent}}(d,C=>{So(l,C)}),So(l,d),D(d,C=>{So(l,C)}),o}function So(l,s){const o=Xr(s);if(o){const d=[];let C=[],M=-1;for(let k=0;k<o.length;k++)3===o[k].status||(1===o[k].status?((0,F.vA)(M===k-1,"All SENT items should be at beginning of queue."),M=k,o[k].status=3,o[k].abortReason="set"):((0,F.vA)(0===o[k].status,"Unexpected transaction status in abort"),o[k].unwatcher(),C=C.concat(Li(l.serverSyncTree_,o[k].currentWriteId,!0)),o[k].onComplete&&d.push(o[k].onComplete.bind(null,new Error("set"),!1,null))));-1===M?si(s,void 0):o.length=M+1,kn(l.eventQueue_,H(s),C);for(let k=0;k<d.length;k++)zn(d[k])}}const Hr=function(l,s){const o=_c(l),d=o.namespace;return"firebase.com"===o.domain&&Ht(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==o.domain&&Ht("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ir(o.host,o.secure,d,"ws"===o.scheme||"wss"===o.scheme,s,"",d!==o.subdomain),path:new Ln(o.pathString)}},_c=function(l){let s="",o="",d="",C="",M="",k=!0,Q="https",se=443;if("string"==typeof l){let fe=l.indexOf("//");fe>=0&&(Q=l.substring(0,fe-1),l=l.substring(fe+2));let He=l.indexOf("/");-1===He&&(He=l.length);let Ge=l.indexOf("?");-1===Ge&&(Ge=l.length),s=l.substring(0,Math.min(He,Ge)),He<Ge&&(C=function yc(l){let s="";const o=l.split("/");for(let d=0;d<o.length;d++)if(o[d].length>0){let C=o[d];try{C=decodeURIComponent(C.replace(/\+/g," "))}catch{}s+="/"+C}return s}(l.substring(He,Ge)));const Xe=function Gl(l){const s={};"?"===l.charAt(0)&&(l=l.substring(1));for(const o of l.split("&")){if(0===o.length)continue;const d=o.split("=");2===d.length?s[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Kt(`Invalid query segment '${o}' in query '${l}'`)}return s}(l.substring(Math.min(l.length,Ge)));fe=s.indexOf(":"),fe>=0?(k="https"===Q||"wss"===Q,se=parseInt(s.substring(fe+1),10)):fe=s.length;const wt=s.slice(0,fe);if("localhost"===wt.toLowerCase())o="localhost";else if(wt.split(".").length<=2)o=wt;else{const Yt=s.indexOf(".");d=s.substring(0,Yt).toLowerCase(),o=s.substring(Yt+1),M=d}"ns"in Xe&&(M=Xe.ns)}return{host:s,port:se,domain:o,subdomain:d,secure:k,scheme:Q,pathString:C,namespace:M}};class vc{constructor(s,o,d,C){this.eventType=s,this.eventRegistration=o,this.snapshot=d,this.prevName=C}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.As)(this.snapshot.exportVal())}}class ol{constructor(s,o,d){this.eventRegistration=s,this.error=o,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Sl{constructor(s,o){this.snapshotCallback=s,this.cancelCallback=o}onValue(s,o){this.snapshotCallback.call(null,s,o)}onCancel(s){return(0,F.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class ts{constructor(s,o,d,C){this._repo=s,this._path=o,this._queryParams=d,this._orderByCalled=C}get key(){return en(this._path)?null:Ws(this._path)}get ref(){return new lo(this._repo,this._path)}get _queryIdentifier(){const s=Ni(this._queryParams),o=We(s);return"{}"===o?"default":o}get _queryObject(){return Ni(this._queryParams)}isEqual(s){if(!((s=(0,F.Ku)(s))instanceof ts))return!1;const o=this._repo===s._repo,d=di(this._path,s._path);return o&&d&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ea(l){let s="";for(let o=l.pieceNum_;o<l.pieces_.length;o++)""!==l.pieces_[o]&&(s+="/"+encodeURIComponent(String(l.pieces_[o])));return s||"/"}(this._path)}}class lo extends ts{constructor(s,o){super(s,o,new as,!1)}get parent(){const s=fs(this._path);return null===s?null:new lo(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class ll{constructor(s,o,d){this._node=s,this.ref=o,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const o=new Ln(s),d=Al(this.ref,s);return new ll(this._node.getChild(o),d,Zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,C)=>s(new ll(C,Al(this.ref,d),Zn)))}hasChild(s){const o=new Ln(s);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oc(l,s){return(l=(0,F.Ku)(l))._checkNotDeleted("ref"),void 0!==s?Al(l._root,s):l._root}function Al(l,s){return null===un((l=(0,F.Ku)(l))._path)?Ci("child","path",s,!1):Ts("child","path",s,!1),new lo(l._repo,sr(l._path,s))}function td(l){return ar("remove",l._path),Pc(l,null)}function Pc(l,s){l=(0,F.Ku)(l),ar("set",l._path),pt("set",s,l._path,!1);const o=new F.cY;return function An(l,s,o,d,C){Ho(l,"set",{path:s.toString(),value:o,priority:d});const M=Pr(l),k=Fn(o,d),Q=El(l.serverSyncTree_,s),se=Ot(k,Q,M),fe=it(l),He=Fa(l.serverSyncTree_,s,se,fe,!0);Vo(l.eventQueue_,He),l.server_.put(s.toString(),k.val(!0),(Xe,wt)=>{const Yt="ok"===Xe;Yt||Kt("set at "+s+" failed: "+Xe);const dr=Li(l.serverSyncTree_,fe,!Yt);kn(l.eventQueue_,s,dr),tr(0,C,Xe,wt)});const Ge=Dl(l,s);wl(l,Ge),kn(l.eventQueue_,Ge,[])}(l._repo,l._path,s,null,o.wrapCallback(()=>{})),o.promise}function fh(l,s){fr("update",s,l._path,!1);const o=new F.cY;return function Ui(l,s,o,d){Ho(l,"update",{path:s.toString(),value:o});let C=!0;const M=Pr(l),k={};if(dt(o,(Q,se)=>{C=!1,k[Q]=st(sr(s,Q),Fn(se),l.serverSyncTree_,M)}),C)de("update() called with empty data.  Don't do anything."),tr(0,d,"ok",void 0);else{const Q=it(l),se=function Vs(l,s,o,d){!function Pn(l,s,o,d){(0,F.vA)(d>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:s,children:o,writeId:d,visible:!0}),l.visibleWrites=ic(l.visibleWrites,s,o),l.lastWriteId=d}(l.pendingWriteTree_,s,o,d);const C=Jn.fromObject(o);return Ua(l,new Bs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,C))}(l.serverSyncTree_,s,k,Q);Vo(l.eventQueue_,se),l.server_.merge(s.toString(),o,(fe,He)=>{const Ge="ok"===fe;Ge||Kt("update at "+s+" failed: "+fe);const Xe=Li(l.serverSyncTree_,Q,!Ge),wt=Xe.length>0?wl(l,s):s;kn(l.eventQueue_,wt,Xe),tr(0,d,fe,He)}),dt(o,fe=>{const He=Dl(l,sr(s,fe));wl(l,He)}),kn(l.eventQueue_,s,[])}}(l._repo,l._path,s,o.wrapCallback(()=>{})),o.promise}class Ec{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,o){const d=o._queryParams.getIndex();return new vc("value",this,new ll(s.snapshotNode,new lo(o._repo,o._path),d))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,o){return this.callbackContext.hasCancelCallback?new ol(this,s,o):null}matches(s){return s instanceof Ec&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ic{constructor(s,o){this.eventType=s,this.callbackContext=o}respondsTo(s){let o="children_added"===s?"child_added":s;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(s,o){return this.callbackContext.hasCancelCallback?new ol(this,s,o):null}createEvent(s,o){(0,F.vA)(null!=s.childName,"Child events should have a childName.");const d=Al(new lo(o._repo,o._path),s.childName),C=o._queryParams.getIndex();return new vc(s.type,this,new ll(s.snapshotNode,d,C),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof Ic&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function kc(l,s,o,d){return function ql(l,s,o,d,C){let M;if("object"==typeof d&&(M=void 0,C=d),"function"==typeof d&&(M=d),C&&C.onlyOnce){const se=o,fe=(He,Ge)=>{ln(l._repo,l,Q),se(He,Ge)};fe.userCallback=o.userCallback,fe.context=o.context,o=fe}const k=new Sl(o,M||void 0),Q="value"===s?new Ec(k):new Ic(s,k);return function wo(l,s,o){let d;d=".info"===un(s._path)?Vl(l.infoSyncTree_,s,o):Vl(l.serverSyncTree_,s,o),Il(l.eventQueue_,s._path,d)}(l._repo,l,Q),()=>ln(l._repo,l,Q)}(l,"value",s,o,d)}(function Xa(l){(0,F.vA)(!Ii,"__referenceConstructor has already been defined"),Ii=l})(lo),function io(l){(0,F.vA)(!To,"__referenceConstructor has already been defined"),To=l}(lo);const cu={};function Bc(l,s,o,d,C){let M=d||l.options.databaseURL;void 0===M&&(l.options.projectId||Ht("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),de("Using default host for project ",l.options.projectId),M=`${l.options.projectId}-default-rtdb.firebaseio.com`);let se,fe,k=Hr(M,C),Q=k.repoInfo;typeof process<"u"&&process.env&&(fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),fe?(se=!0,M=`http://${fe}?ns=${Q.namespace}`,k=Hr(M,C),Q=k.repoInfo):se=!k.repoInfo.secure;const He=C&&se?new gi(gi.OWNER):new Bi(l.name,l.options,s);(function(l,s){const o=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!et(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==o.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Rt(l)}(o))throw new Error((0,F.dI)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",k),en(k.path)||Ht("Database URL must point to the root of a Firebase Database (not including a child path).");const Ge=function uu(l,s,o,d){let C=cu[s.name];C||(C={},cu[s.name]=C);let M=C[l.toURLString()];return M&&Ht("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),M=new $t(l,false,o,d),C[l.toURLString()]=M,M}(Q,l,He,new pi(l.name,o));return new id(Ge,l)}class id{constructor(s,o){this._repoInternal=s,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function on(l,s,o){if(l.stats_=Yn(l.repoInfo_),l.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)l.server_=new yo(l.repoInfo_,(d,C,M,k)=>{ws(l,d,C,M,k)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Fi(l,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.As)(o)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}l.persistentConnection_=new Ks(l.repoInfo_,s,(d,C,M,k)=>{ws(l,d,C,M,k)},d=>{Fi(l,d)},d=>{!function Ds(l,s){dt(s,(o,d)=>{an(l,o,d)})}(l,d)},l.authTokenProvider_,l.appCheckProvider_,o),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(d=>{l.server_.refreshAuthToken(d)}),l.appCheckProvider_.addTokenChangeListener(d=>{l.server_.refreshAppCheckToken(d.token)}),l.statsReporter_=function yr(l,s){const o=l.toString();return Qi[o]||(Qi[o]=s()),Qi[o]}(l.repoInfo_,()=>new Na(l.stats_,l.server_)),l.infoData_=new sn,l.infoSyncTree_=new Za({startListening:(d,C,M,k)=>{let Q=[];const se=l.infoData_.getNode(d._path);return se.isEmpty()||(Q=da(l.infoSyncTree_,d._path,se),setTimeout(()=>{k("ok")},0)),Q},stopListening:()=>{}}),an(l,"connected",!1),l.serverSyncTree_=new Za({startListening:(d,C,M,k)=>(l.server_.listen(d,M,C,(Q,se)=>{const fe=k(Q,se);kn(l.eventQueue_,d._path,fe)}),[]),stopListening:(d,C)=>{l.server_.unlisten(d,C)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lo(this._repo,pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rd(l,s){const o=cu[s];(!o||o[l.key]!==l)&&Ht(`Database ${s}(${l.repoInfo_}) has already been deleted.`),function $l(l){l.persistentConnection_&&l.persistentConnection_.interrupt("repo_interrupt")}(l),delete o[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&Ht("Cannot call "+s+" on a deleted database.")}}function od(l=(0,V.Sx)(),s){const o=(0,V.j6)(l,"database").getImmediate({identifier:s});if(!o._instanceStarted){const d=(0,F.yU)("database");d&&function gh(l,s,o,d={}){(l=(0,F.Ku)(l))._checkNotDeleted("useEmulator"),l._instanceStarted&&Ht("Cannot call useEmulator() after instance has already been initialized.");const C=l._repoInternal;let M;if(C.repoInfo_.nodeAdmin)d.mockUserToken&&Ht('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),M=new gi(gi.OWNER);else if(d.mockUserToken){const k="string"==typeof d.mockUserToken?d.mockUserToken:(0,F.Fy)(d.mockUserToken,l.app.options.projectId);M=new gi(k)}!function ph(l,s,o,d){l.repoInfo_=new Ir(`${s}:${o}`,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0),d&&(l.authTokenProvider_=d)}(C,s,o,M)}(o,...d)}return o}Ks.prototype.simpleListen=function(l,s){this.sendRequest("q",{p:l},s)},Ks.prototype.echo=function(l,s){this.sendRequest("echo",{d:l},s)},function np(l){(function xe(l){Me=l})(V.MF),(0,V.om)(new X.uA("database",(s,{instanceIdentifier:o})=>Bc(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,V.KO)(q,"1.0.8",l),(0,V.KO)(q,"1.0.8","esm2017")}();class wn{constructor(s){return s}}const ad="database",hu=new A.nKC("angularfire2.database-instances");function ja(l){return(s,o)=>{const d=s.runOutsideAngular(()=>l(o));return new wn(d)}}const ld={provide:class yh{constructor(){return(0,w.CA)(ad)}},deps:[[new A.Xx1,hu]]},cd={provide:wn,useFactory:function Vc(l,s){const o=(0,w.lR)(ad,l,s);return o&&new wn(o)},deps:[[new A.Xx1,hu],le.XU]};function gy(l,...s){return(0,x.KO)("angularfire",w.xv.full,"rtdb"),(0,A.EmA)([cd,ld,{provide:hu,useFactory:ja(l),multi:!0,deps:[A.SKi,A.zZn,w.u0,le.gL,[new A.Xx1,re.DF],[new A.Xx1,w.Jv],...s]}])}const up=(0,w.S3)(od,!0),Th=(0,w.S3)(kc,!0),fl=(0,w.S3)(Oc,!0),pu=(0,w.S3)(td,!0),fd=(0,w.S3)(Pc,!0),Hc=(0,w.S3)(fh,!0)},5407:(Dt,Ve,z)=>{z.d(Ve,{xv:()=>xe,u0:()=>ce,Jv:()=>ut,CA:()=>vt,lR:()=>_t,S3:()=>Hn});var w=z(3953),A=z(2214),le=z(6780),x=z(3604);const V=new class $ extends x.q{}(class re extends le.R{constructor(zt,Ct){super(zt,Ct),this.scheduler=zt,this.work=Ct}schedule(zt,Ct=0){return Ct>0?super.schedule(zt,Ct):(this.delay=Ct,this.state=zt,this.scheduler.flush(this),this)}execute(zt,Ct){return Ct>0||this.closed?super.execute(zt,Ct):this._execute(zt,Ct)}requestAsyncId(zt,Ct,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(zt,Ct,_e):(zt.flush(this),0)}});var F=z(3236),K=z(1985),q=z(8141),ge=z(6745),Me=z(941);const xe=new w.RxE("ANGULARFIRE2_VERSION");function _t(Et,zt,Ct){if(zt){if(1===zt.length)return zt[0];const Re=zt.filter(Ue=>Ue.app===Ct);if(1===Re.length)return Re[0]}return Ct.container.getProvider(Et).getImmediate({optional:!0})}const vt=(Et,zt)=>{const Ct=zt?[zt]:(0,A.Dk)(),_e=[];return Ct.forEach(Ee=>{Ee.container.getProvider(Et).instances.forEach(Ue=>{_e.includes(Ue)||_e.push(Ue)})}),_e};class ut{constructor(){return vt(rn)}}const rn="app-check";function Pt(){}class De{zone;delegate;constructor(zt,Ct=V){this.zone=zt,this.delegate=Ct}now(){return this.delegate.now()}schedule(zt,Ct,_e){const Ee=this.zone;return this.delegate.schedule(function(Ue){Ee.runGuarded(()=>{zt.apply(this,[Ue])})},Ct,_e)}}class $e{zone;task=null;constructor(zt){this.zone=zt}call(zt,Ct){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt)),Ct.pipe((0,q.M)({next:_e,complete:_e,error:_e})).subscribe(zt).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ce=(()=>{class Et{ngZone;outsideAngular;insideAngular;constructor(Ct){this.ngZone=Ct,this.outsideAngular=Ct.runOutsideAngular(()=>new De(Zone.current)),this.insideAngular=Ct.run(()=>new De(Zone.current,F.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(_e){return new(_e||Et)(w.KVO(w.SKi))};static \u0275prov=w.jDH({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();function ue(){const Et=globalThis.\u0275AngularFireScheduler;if(!Et)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Et}function ct(Et){return ue().ngZone.run(()=>Et())}function lt(Et){return function Ht(Et){return function(Ct){return(Ct=Ct.lift(new $e(Et.ngZone))).pipe((0,ge._)(Et.outsideAngular),(0,Me.Q)(Et.insideAngular))}}(ue())(Et)}const Kt=(Et,zt)=>function(){const _e=arguments;return zt&&setTimeout(()=>{"scheduled"===zt.state&&zt.invoke()},10),ct(()=>Et.apply(void 0,_e))},Hn=(Et,zt)=>function(){let Ct;const _e=arguments;for(let Re=0;Re<arguments.length;Re++)"function"==typeof _e[Re]&&(zt&&(Ct||=ct(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt))),_e[Re]=Kt(_e[Re],Ct));const Ee=function Ze(Et){return ue().ngZone.runOutsideAngular(()=>Et())}(()=>Et.apply(this,_e));if(!zt){if(Ee instanceof K.c){const Re=ue();return Ee.pipe((0,ge._)(Re.outsideAngular),(0,Me.Q)(Re.insideAngular))}return ct(()=>Ee)}return Ee instanceof K.c?Ee.pipe(lt):Ee instanceof Promise?ct(()=>new Promise((Re,Ue)=>Ee.then(We=>ct(()=>Re(We)),We=>ct(()=>Ue(We))))):"function"==typeof Ee&&Ct?function(){return setTimeout(()=>{Ct&&"scheduled"===Ct.state&&Ct.invoke()},10),Ee.apply(this,arguments)}:ct(()=>Ee)}},345:(Dt,Ve,z)=>{z.d(Ve,{B7:()=>Ze,Bb:()=>zn,hE:()=>pi,sG:()=>fn});var w=z(177),A=z(3953);class le extends w.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends le{static makeCurrent(){(0,w.ZD)(new re)}onAndCancel(Oe,ie,ve){return Oe.addEventListener(ie,ve),()=>{Oe.removeEventListener(ie,ve)}}dispatchEvent(Oe,ie){Oe.dispatchEvent(ie)}remove(Oe){Oe.remove()}createElement(Oe,ie){return(ie=ie||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,ie){return"window"===ie?window:"document"===ie?Oe:"body"===ie?Oe.body:null}getBaseHref(Oe){const ie=function $(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==ie?null:function V(ke){return new URL(ke,document.baseURI).pathname}(ie)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,w._b)(document.cookie,Oe)}}let x=null,F=(()=>{class ke{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ve){return new(ve||ke)}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const K=new A.nKC("");let q=(()=>{class ke{constructor(ie,ve){this._zone=ve,this._eventNameToPlugin=new Map,ie.forEach(je=>{je.manager=this}),this._plugins=ie.slice().reverse()}addEventListener(ie,ve,je){return this._findPluginFor(ve).addEventListener(ie,ve,je)}getZone(){return this._zone}_findPluginFor(ie){let ve=this._eventNameToPlugin.get(ie);if(ve)return ve;if(ve=this._plugins.find(J=>J.supports(ie)),!ve)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set(ie,ve),ve}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(K),A.KVO(A.SKi))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class ge{constructor(Oe){this._doc=Oe}}const Me="ng-app-id";let xe=(()=>{class ke{constructor(ie,ve,je,J={}){this.doc=ie,this.appId=ve,this.nonce=je,this.platformId=J,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,w.Vy)(J),this.resetHostNodes()}addStyles(ie){for(const ve of ie)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(ie){for(const ve of ie)this.changeUsageCount(ve,-1)<=0&&this.onStyleRemoved(ve)}ngOnDestroy(){const ie=this.styleNodesInDOM;ie&&(ie.forEach(ve=>ve.remove()),ie.clear());for(const ve of this.getAllStyles())this.onStyleRemoved(ve);this.resetHostNodes()}addHost(ie){this.hostNodes.add(ie);for(const ve of this.getAllStyles())this.addStyleToHost(ie,ve)}removeHost(ie){this.hostNodes.delete(ie)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ie){for(const ve of this.hostNodes)this.addStyleToHost(ve,ie)}onStyleRemoved(ie){const ve=this.styleRef;ve.get(ie)?.elements?.forEach(je=>je.remove()),ve.delete(ie)}collectServerRenderedStyles(){const ie=this.doc.head?.querySelectorAll(`style[${Me}="${this.appId}"]`);if(ie?.length){const ve=new Map;return ie.forEach(je=>{null!=je.textContent&&ve.set(je.textContent,je)}),ve}return null}changeUsageCount(ie,ve){const je=this.styleRef;if(je.has(ie)){const J=je.get(ie);return J.usage+=ve,J.usage}return je.set(ie,{usage:ve,elements:[]}),ve}getStyleElement(ie,ve){const je=this.styleNodesInDOM,J=je?.get(ve);if(J?.parentNode===ie)return je.delete(ve),J.removeAttribute(Me),J;{const ee=this.doc.createElement("style");return this.nonce&&ee.setAttribute("nonce",this.nonce),ee.textContent=ve,this.platformIsServer&&ee.setAttribute(Me,this.appId),ie.appendChild(ee),ee}}addStyleToHost(ie,ve){const je=this.getStyleElement(ie,ve),J=this.styleRef,ee=J.get(ve)?.elements;ee?ee.push(je):J.set(ve,{elements:[je],usage:1})}resetHostNodes(){const ie=this.hostNodes;ie.clear(),ie.add(this.doc.head)}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(w.qQ),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_t=/%COMP%/g,De=new A.nKC("",{providedIn:"root",factory:()=>!0});function ue(ke,Oe){return Oe.map(ie=>ie.replace(_t,ke))}let Ze=(()=>{class ke{constructor(ie,ve,je,J,ee,he,Le,Ce=null){this.eventManager=ie,this.sharedStylesHost=ve,this.appId=je,this.removeStylesOnCompDestroy=J,this.doc=ee,this.platformId=he,this.ngZone=Le,this.nonce=Ce,this.rendererByCompId=new Map,this.platformIsServer=(0,w.Vy)(he),this.defaultRenderer=new ct(ie,ee,Le,this.platformIsServer)}createRenderer(ie,ve){if(!ie||!ve)return this.defaultRenderer;this.platformIsServer&&ve.encapsulation===A.gXe.ShadowDom&&(ve={...ve,encapsulation:A.gXe.Emulated});const je=this.getOrCreateRenderer(ie,ve);return je instanceof Hn?je.applyToHost(ie):je instanceof Kt&&je.applyStyles(),je}getOrCreateRenderer(ie,ve){const je=this.rendererByCompId;let J=je.get(ve.id);if(!J){const ee=this.doc,he=this.ngZone,Le=this.eventManager,Ce=this.sharedStylesHost,at=this.removeStylesOnCompDestroy,xt=this.platformIsServer;switch(ve.encapsulation){case A.gXe.Emulated:J=new Hn(Le,Ce,ve,this.appId,at,ee,he,xt);break;case A.gXe.ShadowDom:return new Ht(Le,Ce,ie,ve,ee,he,this.nonce,xt);default:J=new Kt(Le,Ce,ve,at,ee,he,xt)}je.set(ve.id,J)}return J}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(q),A.KVO(xe),A.KVO(A.sZ2),A.KVO(De),A.KVO(w.qQ),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class ct{constructor(Oe,ie,ve,je){this.eventManager=Oe,this.doc=ie,this.ngZone=ve,this.platformIsServer=je,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Oe,ie){return ie?this.doc.createElementNS(rt[ie]||ie,Oe):this.doc.createElement(Oe)}createComment(Oe){return this.doc.createComment(Oe)}createText(Oe){return this.doc.createTextNode(Oe)}appendChild(Oe,ie){(lt(Oe)?Oe.content:Oe).appendChild(ie)}insertBefore(Oe,ie,ve){Oe&&(lt(Oe)?Oe.content:Oe).insertBefore(ie,ve)}removeChild(Oe,ie){ie.remove()}selectRootElement(Oe,ie){let ve="string"==typeof Oe?this.doc.querySelector(Oe):Oe;if(!ve)throw new A.wOt(-5104,!1);return ie||(ve.textContent=""),ve}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,ie,ve,je){if(je){ie=je+":"+ie;const J=rt[je];J?Oe.setAttributeNS(J,ie,ve):Oe.setAttribute(ie,ve)}else Oe.setAttribute(ie,ve)}removeAttribute(Oe,ie,ve){if(ve){const je=rt[ve];je?Oe.removeAttributeNS(je,ie):Oe.removeAttribute(`${ve}:${ie}`)}else Oe.removeAttribute(ie)}addClass(Oe,ie){Oe.classList.add(ie)}removeClass(Oe,ie){Oe.classList.remove(ie)}setStyle(Oe,ie,ve,je){je&(A.czy.DashCase|A.czy.Important)?Oe.style.setProperty(ie,ve,je&A.czy.Important?"important":""):Oe.style[ie]=ve}removeStyle(Oe,ie,ve){ve&A.czy.DashCase?Oe.style.removeProperty(ie):Oe.style[ie]=""}setProperty(Oe,ie,ve){null!=Oe&&(Oe[ie]=ve)}setValue(Oe,ie){Oe.nodeValue=ie}listen(Oe,ie,ve){if("string"==typeof Oe&&!(Oe=(0,w.QT)().getGlobalEventTarget(this.doc,Oe)))throw new Error(`Unsupported event target ${Oe} for event ${ie}`);return this.eventManager.addEventListener(Oe,ie,this.decoratePreventDefault(ve))}decoratePreventDefault(Oe){return ie=>{if("__ngUnwrap__"===ie)return Oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Oe(ie)):Oe(ie))&&ie.preventDefault()}}}function lt(ke){return"TEMPLATE"===ke.tagName&&void 0!==ke.content}class Ht extends ct{constructor(Oe,ie,ve,je,J,ee,he,Le){super(Oe,J,ee,Le),this.sharedStylesHost=ie,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=ue(je.id,je.styles);for(const at of Ce){const xt=document.createElement("style");he&&xt.setAttribute("nonce",he),xt.textContent=at,this.shadowRoot.appendChild(xt)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,ie){return super.appendChild(this.nodeOrShadowRoot(Oe),ie)}insertBefore(Oe,ie,ve){return super.insertBefore(this.nodeOrShadowRoot(Oe),ie,ve)}removeChild(Oe,ie){return super.removeChild(null,ie)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kt extends ct{constructor(Oe,ie,ve,je,J,ee,he,Le){super(Oe,J,ee,he),this.sharedStylesHost=ie,this.removeStylesOnCompDestroy=je,this.styles=Le?ue(Le,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Hn extends Kt{constructor(Oe,ie,ve,je,J,ee,he,Le){const Ce=je+"-"+ve.id;super(Oe,ie,ve,J,ee,he,Le,Ce),this.contentAttr=function $e(ke){return"_ngcontent-%COMP%".replace(_t,ke)}(Ce),this.hostAttr=function ce(ke){return"_nghost-%COMP%".replace(_t,ke)}(Ce)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,ie){const ve=super.createElement(Oe,ie);return super.setAttribute(ve,this.contentAttr,""),ve}}let Et=(()=>{class ke extends ge{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,ve,je){return ie.addEventListener(ve,je,!1),()=>this.removeEventListener(ie,ve,je)}removeEventListener(ie,ve,je){return ie.removeEventListener(ve,je)}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(w.qQ))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})(),zt=(()=>{class ke extends ge{constructor(ie){super(ie),this.delegate=(0,A.WQX)(A.zAP,{optional:!0})}supports(ie){return!!this.delegate&&this.delegate.supports(ie)}addEventListener(ie,ve,je){return this.delegate.addEventListener(ie,ve,je)}removeEventListener(ie,ve,je){return this.delegate.removeEventListener(ie,ve,je)}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(w.qQ))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const Ct=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:ke=>ke.altKey,control:ke=>ke.ctrlKey,meta:ke=>ke.metaKey,shift:ke=>ke.shiftKey};let Re=(()=>{class ke extends ge{constructor(ie){super(ie)}supports(ie){return null!=ke.parseEventName(ie)}addEventListener(ie,ve,je){const J=ke.parseEventName(ve),ee=ke.eventCallback(J.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.QT)().onAndCancel(ie,J.domEventName,ee))}static parseEventName(ie){const ve=ie.toLowerCase().split("."),je=ve.shift();if(0===ve.length||"keydown"!==je&&"keyup"!==je)return null;const J=ke._normalizeKey(ve.pop());let ee="",he=ve.indexOf("code");if(he>-1&&(ve.splice(he,1),ee="code."),Ct.forEach(Ce=>{const at=ve.indexOf(Ce);at>-1&&(ve.splice(at,1),ee+=Ce+".")}),ee+=J,0!=ve.length||0===J.length)return null;const Le={};return Le.domEventName=je,Le.fullKey=ee,Le}static matchEventFullKeyCode(ie,ve){let je=_e[ie.key]||ie.key,J="";return ve.indexOf("code.")>-1&&(je=ie.code,J="code."),!(null==je||!je)&&(je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),Ct.forEach(ee=>{ee!==je&&(0,Ee[ee])(ie)&&(J+=ee+".")}),J+=je,J===ve)}static eventCallback(ie,ve,je){return J=>{ke.matchEventFullKeyCode(J,ie)&&je.runGuarded(()=>ve(J))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(w.qQ))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const fn=(0,A.oH4)(A.fpN,"browser",[{provide:A.Agw,useValue:w.AJ},{provide:A.PLl,useValue:function gn(){re.makeCurrent()},multi:!0},{provide:w.qQ,useFactory:function St(){return(0,A.TL$)(document),document},deps:[]}]),mr=new A.nKC(""),Rn=[{provide:A.e01,useClass:class X{addToWindow(Oe){A.JZv.getAngularTestability=(ve,je=!0)=>{const J=Oe.findTestabilityInTree(ve,je);if(null==J)throw new A.wOt(5103,!1);return J},A.JZv.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),A.JZv.getAllAngularRootElements=()=>Oe.getAllRootElements(),A.JZv.frameworkStabilizers||(A.JZv.frameworkStabilizers=[]),A.JZv.frameworkStabilizers.push(ve=>{const je=A.JZv.getAllAngularTestabilities();let J=je.length;const ee=function(){J--,0==J&&ve()};je.forEach(he=>{he.whenStable(ee)})})}findTestabilityInTree(Oe,ie,ve){return null==ie?null:Oe.getTestability(ie)??(ve?(0,w.QT)().isShadowRoot(ie)?this.findTestabilityInTree(Oe,ie.host,!0):this.findTestabilityInTree(Oe,ie.parentElement,!0):null)}},deps:[]},{provide:A.WHO,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]},{provide:A.NYb,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]}],Wn=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function cr(){return new A.zcH},deps:[]},{provide:K,useClass:Et,multi:!0,deps:[w.qQ,A.SKi,A.Agw]},{provide:K,useClass:Re,multi:!0,deps:[w.qQ]},{provide:K,useClass:zt,multi:!0},Ze,xe,q,{provide:A._9s,useExisting:Ze},{provide:w.N0,useClass:F,deps:[]},[]];let zn=(()=>{class ke{constructor(ie){}static withServerTransition(ie){return{ngModule:ke,providers:[{provide:A.sZ2,useValue:ie.appId}]}}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(mr,12))}}static{this.\u0275mod=A.$C({type:ke})}static{this.\u0275inj=A.G2t({providers:[...Wn,...Rn],imports:[w.MD,A.Hbi]})}}return ke})(),pi=(()=>{class ke{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}static{this.\u0275fac=function(ve){return new(ve||ke)(A.KVO(w.qQ))}}static{this.\u0275prov=A.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})()},1069:(Dt,Ve,z)=>{z.d(Ve,{Ix:()=>zi,Wk:()=>Qa,wQ:()=>pc,iI:()=>Vl,n3:()=>ji});var w=z(3953),A=z(1985),le=z(8071),x=z(8455),$=z(7673),V=z(4412),X=z(3073),F=z(3669),K=z(6450),q=z(9326),ge=z(8496),Me=z(4360),xe=z(5225);function rt(...g){const S=(0,q.lI)(g),y=(0,q.ms)(g),{args:b,keys:P}=(0,X.D)(g);if(0===b.length)return(0,x.H)([],S);const W=new A.c(function _t(g,S,y=F.D){return b=>{vt(S,()=>{const{length:P}=g,W=new Array(P);let te=P,Ae=P;for(let Ie=0;Ie<P;Ie++)vt(S,()=>{const st=(0,x.H)(g[Ie],S);let Ot=!1;st.subscribe((0,Me._)(b,Ut=>{W[Ie]=Ut,Ot||(Ot=!0,Ae--),Ae||b.next(y(W.slice()))},()=>{--te||b.complete()}))},b)},b)}}(b,S,P?te=>(0,ge.e)(P,te):F.D));return y?W.pipe((0,K.I)(y)):W}function vt(g,S,y){g?(0,xe.N)(y,g,S):S()}const rn=(0,z(1853).L)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"});var Pt=z(1397);function De(g=1/0){return(0,Pt.Z)(F.D,g)}function ce(...g){return function $e(){return De(1)}()((0,x.H)(g,(0,q.lI)(g)))}var ue=z(8750);function Ze(g){return new A.c(S=>{(0,ue.Tg)(g()).subscribe(S)})}var ct=z(1203);function de(g,S){const y=(0,le.T)(g)?g:()=>g,b=P=>P.error(y());return new A.c(S?P=>S.schedule(b,0,P):b)}const be=new A.c(g=>g.complete());var Kt=z(8359),Hn=z(9974);function Et(){return(0,Hn.N)((g,S)=>{let y=null;g._refCount++;const b=(0,Me._)(S,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(y=null);const P=g._connection,W=y;y=null,P&&(!W||P===W)&&P.unsubscribe(),S.unsubscribe()});g.subscribe(b),b.closed||(y=g.connect())})}class zt extends A.c{constructor(S,y){super(),this.source=S,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Kt.yU;const y=this.getSubject();S.add(this.source.subscribe((0,Me._)(y,void 0,()=>{this._teardown(),y.complete()},b=>{this._teardown(),y.error(b)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Kt.yU.EMPTY)}return S}refCount(){return Et()(this)}}var Ct=z(1413),_e=z(177),Ee=z(6354),Re=z(5558);function Ue(g){return g<=0?()=>be:(0,Hn.N)((S,y)=>{let b=0;S.subscribe((0,Me._)(y,P=>{++b<=g&&(y.next(P),g<=b&&y.complete())}))})}var Be=z(5964);function dt(g){return(0,Hn.N)((S,y)=>{let b=!1;S.subscribe((0,Me._)(y,P=>{b=!0,y.next(P)},()=>{b||y.next(g),y.complete()}))})}function gn(g=cr){return(0,Hn.N)((S,y)=>{let b=!1;S.subscribe((0,Me._)(y,P=>{b=!0,y.next(P)},()=>b?y.complete():y.error(g())))})}function cr(){return new rn}function St(g,S){const y=arguments.length>=2;return b=>b.pipe(g?(0,Be.p)((P,W)=>g(P,W,b)):F.D,Ue(1),y?dt(S):gn(()=>new rn))}var dn=z(274),fn=z(8141);function mr(g){return(0,Hn.N)((S,y)=>{let W,b=null,P=!1;b=S.subscribe((0,Me._)(y,void 0,void 0,te=>{W=(0,ue.Tg)(g(te,mr(g)(S))),b?(b.unsubscribe(),b=null,W.subscribe(y)):P=!0})),P&&(b.unsubscribe(),b=null,W.subscribe(y))})}function zn(g){return g<=0?()=>be:(0,Hn.N)((S,y)=>{let b=[];S.subscribe((0,Me._)(y,P=>{b.push(P),g<b.length&&b.shift()},()=>{for(const P of b)y.next(P);y.complete()},void 0,()=>{b=null}))})}var pi=z(980),Bi=z(5343),ai=z(345);const kt="primary",Si=Symbol("RouteTitle");class Ar{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y[0]:y}return null}getAll(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function cn(g){return new Ar(g)}function tt(g,S,y){const b=y.path.split("/");if(b.length>g.length||"full"===y.pathMatch&&(S.hasChildren()||b.length<g.length))return null;const P={};for(let W=0;W<b.length;W++){const te=b[W],Ae=g[W];if(":"===te[0])P[te.substring(1)]=Ae;else if(te!==Ae.path)return null}return{consumed:g.slice(0,b.length),posParams:P}}function Qn(g,S){const y=g?Tr(g):void 0,b=S?Tr(S):void 0;if(!y||!b||y.length!=b.length)return!1;let P;for(let W=0;W<y.length;W++)if(P=y[W],!qi(g[P],S[P]))return!1;return!0}function Tr(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}function qi(g,S){if(Array.isArray(g)&&Array.isArray(S)){if(g.length!==S.length)return!1;const y=[...g].sort(),b=[...S].sort();return y.every((P,W)=>b[W]===P)}return g===S}function hr(g){return g.length>0?g[g.length-1]:null}function Ir(g){return function re(g){return!!g&&(g instanceof A.c||(0,le.T)(g.lift)&&(0,le.T)(g.subscribe))}(g)?g:(0,w.jNT)(g)?(0,x.H)(Promise.resolve(g)):(0,$.of)(g)}const ir={exact:function Qi(g,S,y){if(!ie(g.segments,S.segments)||!ei(g.segments,S.segments,y)||g.numberOfChildren!==S.numberOfChildren)return!1;for(const b in S.children)if(!g.children[b]||!Qi(g.children[b],S.children[b],y))return!1;return!0},subset:yr},Vi={exact:function Mn(g,S){return Qn(g,S)},subset:function Yn(g,S){return Object.keys(S).length<=Object.keys(g).length&&Object.keys(S).every(y=>qi(g[y],S[y]))},ignored:()=>!0};function Xt(g,S,y){return ir[y.paths](g.root,S.root,y.matrixParams)&&Vi[y.queryParams](g.queryParams,S.queryParams)&&!("exact"===y.fragment&&g.fragment!==S.fragment)}function yr(g,S,y){return mi(g,S,S.segments,y)}function mi(g,S,y,b){if(g.segments.length>y.length){const P=g.segments.slice(0,y.length);return!(!ie(P,y)||S.hasChildren()||!ei(P,y,b))}if(g.segments.length===y.length){if(!ie(g.segments,y)||!ei(g.segments,y,b))return!1;for(const P in S.children)if(!g.children[P]||!yr(g.children[P],S.children[P],b))return!1;return!0}{const P=y.slice(0,g.segments.length),W=y.slice(g.segments.length);return!!(ie(g.segments,P)&&ei(g.segments,P,b)&&g.children[kt])&&mi(g.children[kt],S,W,b)}}function ei(g,S,y){return S.every((b,P)=>Vi[y](g[P].parameters,b.parameters))}class Wr{constructor(S=new Zt([],{}),y={},b=null){this.root=S,this.queryParams=y,this.fragment=b}get queryParamMap(){return this._queryParamMap??=cn(this.queryParams),this._queryParamMap}toString(){return ee.serialize(this)}}class Zt{constructor(S,y){this.segments=S,this.children=y,this.parent=null,Object.values(y).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return he(this)}}class ke{constructor(S,y){this.path=S,this.parameters=y}get parameterMap(){return this._parameterMap??=cn(this.parameters),this._parameterMap}toString(){return wr(this)}}function ie(g,S){return g.length===S.length&&g.every((y,b)=>y.path===S[b].path)}let je=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:()=>new J,providedIn:"root"})}}return g})();class J{parse(S){const y=new Te(S);return new Wr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(S){const y=`/${Le(S.root,!0)}`,b=function kr(g){const S=Object.entries(g).map(([y,b])=>Array.isArray(b)?b.map(P=>`${at(y)}=${at(P)}`).join("&"):`${at(y)}=${at(b)}`).filter(y=>y);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${y}${b}${"string"==typeof S.fragment?`#${function xt(g){return encodeURI(g)}(S.fragment)}`:""}`}}const ee=new J;function he(g){return g.segments.map(S=>wr(S)).join("/")}function Le(g,S){if(!g.hasChildren())return he(g);if(S){const y=g.children[kt]?Le(g.children[kt],!1):"",b=[];return Object.entries(g.children).forEach(([P,W])=>{P!==kt&&b.push(`${P}:${Le(W,!1)}`)}),b.length>0?`${y}(${b.join("//")})`:y}{const y=function ve(g,S){let y=[];return Object.entries(g.children).forEach(([b,P])=>{b===kt&&(y=y.concat(S(P,b)))}),Object.entries(g.children).forEach(([b,P])=>{b!==kt&&(y=y.concat(S(P,b)))}),y}(g,(b,P)=>P===kt?[Le(g.children[kt],!1)]:[`${P}:${Le(b,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[kt]?`${he(g)}/${y[0]}`:`${he(g)}/(${y.join("//")})`}}function Ce(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function at(g){return Ce(g).replace(/%3B/gi,";")}function ur(g){return Ce(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gr(g){return decodeURIComponent(g)}function Sn(g){return gr(g.replace(/\+/g,"%20"))}function wr(g){return`${ur(g.path)}${function On(g){return Object.entries(g).map(([S,y])=>`;${ur(S)}=${ur(y)}`).join("")}(g.parameters)}`}const yi=/^[^\/()?;#]+/;function li(g){const S=g.match(yi);return S?S[0]:""}const Hs=/^[^\/()?;=#]+/,uo=/^[^=?&#]+/,zo=/^[^&#]+/;class Te{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(S.length>0||Object.keys(y).length>0)&&(b[kt]=new Zt(S,y)),b}parseSegment(){const S=li(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new w.wOt(4009,!1);return this.capture(S),new ke(gr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const y=function $s(g){const S=g.match(Hs);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let b="";if(this.consumeOptional("=")){const P=li(this.remaining);P&&(b=P,this.capture(b))}S[gr(y)]=gr(b)}parseQueryParam(S){const y=function ho(g){const S=g.match(uo);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let b="";if(this.consumeOptional("=")){const te=function Pe(g){const S=g.match(zo);return S?S[0]:""}(this.remaining);te&&(b=te,this.capture(b))}const P=Sn(y),W=Sn(b);if(S.hasOwnProperty(P)){let te=S[P];Array.isArray(te)||(te=[te],S[P]=te),te.push(W)}else S[P]=W}parseParens(S){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=li(this.remaining),P=this.remaining[b.length];if("/"!==P&&")"!==P&&";"!==P)throw new w.wOt(4010,!1);let W;b.indexOf(":")>-1?(W=b.slice(0,b.indexOf(":")),this.capture(W),this.capture(":")):S&&(W=kt);const te=this.parseChildren();y[W]=1===Object.keys(te).length?te[kt]:new Zt([],te),this.consumeOptional("//")}return y}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new w.wOt(4011,!1)}}function ze(g){return g.segments.length>0?new Zt([],{[kt]:g}):g}function mt(g){const S={};for(const[b,P]of Object.entries(g.children)){const W=mt(P);if(b===kt&&0===W.segments.length&&W.hasChildren())for(const[te,Ae]of Object.entries(W.children))S[te]=Ae;else(W.segments.length>0||W.hasChildren())&&(S[b]=W)}return function Qt(g){if(1===g.numberOfChildren&&g.children[kt]){const S=g.children[kt];return new Zt(g.segments.concat(S.segments),S.children)}return g}(new Zt(g.segments,S))}function At(g){return g instanceof Wr}function vn(g){let S;const P=ze(function y(W){const te={};for(const Ie of W.children){const st=y(Ie);te[Ie.outlet]=st}const Ae=new Zt(W.url,te);return W===g&&(S=Ae),Ae}(g.root));return S??P}function Xn(g,S,y,b){let P=g;for(;P.parent;)P=P.parent;if(0===S.length)return zr(P,P,P,y,b);const W=function va(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new Yi(!0,0,g);let S=0,y=!1;const b=g.reduce((P,W,te)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ae={};return Object.entries(W.outlets).forEach(([Ie,st])=>{Ae[Ie]="string"==typeof st?st.split("/"):st}),[...P,{outlets:Ae}]}if(W.segmentPath)return[...P,W.segmentPath]}return"string"!=typeof W?[...P,W]:0===te?(W.split("/").forEach((Ae,Ie)=>{0==Ie&&"."===Ae||(0==Ie&&""===Ae?y=!0:".."===Ae?S++:""!=Ae&&P.push(Ae))}),P):[...P,W]},[]);return new Yi(y,S,b)}(S);if(W.toRoot())return zr(P,P,new Zt([],{}),y,b);const te=function Ln(g,S,y){if(g.isAbsolute)return new Ms(S,!0,0);if(!y)return new Ms(S,!1,NaN);if(null===y.parent)return new Ms(y,!0,0);const b=Rr(g.commands[0])?0:1;return function pn(g,S,y){let b=g,P=S,W=y;for(;W>P;){if(W-=P,b=b.parent,!b)throw new w.wOt(4005,!1);P=b.segments.length}return new Ms(b,!1,P-W)}(y,y.segments.length-1+b,g.numberOfDoubleDots)}(W,P,g),Ae=te.processChildren?Kn(te.segmentGroup,te.index,W.commands):ui(te.segmentGroup,te.index,W.commands);return zr(P,te.segmentGroup,Ae,y,b)}function Rr(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Tn(g){return"object"==typeof g&&null!=g&&g.outlets}function zr(g,S,y,b,P){let te,W={};b&&Object.entries(b).forEach(([Ie,st])=>{W[Ie]=Array.isArray(st)?st.map(Ot=>`${Ot}`):`${st}`}),te=g===S?y:ci(g,S,y);const Ae=ze(mt(te));return new Wr(Ae,W,P)}function ci(g,S,y){const b={};return Object.entries(g.children).forEach(([P,W])=>{b[P]=W===S?y:ci(W,S,y)}),new Zt(g.segments,b)}class Yi{constructor(S,y,b){if(this.isAbsolute=S,this.numberOfDoubleDots=y,this.commands=b,S&&b.length>0&&Rr(b[0]))throw new w.wOt(4003,!1);const P=b.find(Tn);if(P&&P!==hr(b))throw new w.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ms{constructor(S,y,b){this.segmentGroup=S,this.processChildren=y,this.index=b}}function ui(g,S,y){if(g??=new Zt([],{}),0===g.segments.length&&g.hasChildren())return Kn(g,S,y);const b=function Ws(g,S,y){let b=0,P=S;const W={match:!1,pathIndex:0,commandIndex:0};for(;P<g.segments.length;){if(b>=y.length)return W;const te=g.segments[P],Ae=y[b];if(Tn(Ae))break;const Ie=`${Ae}`,st=b<y.length-1?y[b+1]:null;if(P>0&&void 0===Ie)break;if(Ie&&st&&"object"==typeof st&&void 0===st.outlets){if(!sr(Ie,st,te))return W;b+=2}else{if(!sr(Ie,{},te))return W;b++}P++}return{match:!0,pathIndex:P,commandIndex:b}}(g,S,y),P=y.slice(b.commandIndex);if(b.match&&b.pathIndex<g.segments.length){const W=new Zt(g.segments.slice(0,b.pathIndex),{});return W.children[kt]=new Zt(g.segments.slice(b.pathIndex),g.children),Kn(W,0,P)}return b.match&&0===P.length?new Zt(g.segments,{}):b.match&&!g.hasChildren()?Ea(g,S,y):b.match?Kn(g,0,P):Ea(g,S,y)}function Kn(g,S,y){if(0===y.length)return new Zt(g.segments,{});{const b=function un(g){return Tn(g[0])?g[0].outlets:{[kt]:g}}(y),P={};if(Object.keys(b).some(W=>W!==kt)&&g.children[kt]&&1===g.numberOfChildren&&0===g.children[kt].segments.length){const W=Kn(g.children[kt],S,y);return new Zt(g.segments,W.children)}return Object.entries(b).forEach(([W,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(P[W]=ui(g.children[W],S,te))}),Object.entries(g.children).forEach(([W,te])=>{void 0===b[W]&&(P[W]=te)}),new Zt(g.segments,P)}}function Ea(g,S,y){const b=g.segments.slice(0,S);let P=0;for(;P<y.length;){const W=y[P];if(Tn(W)){const Ie=xr(W.outlets);return new Zt(b,Ie)}if(0===P&&Rr(y[0])){b.push(new ke(g.segments[S].path,fs(y[0]))),P++;continue}const te=Tn(W)?W.outlets[kt]:`${W}`,Ae=P<y.length-1?y[P+1]:null;te&&Ae&&Rr(Ae)?(b.push(new ke(te,fs(Ae))),P+=2):(b.push(new ke(te,{})),P++)}return new Zt(b,{})}function xr(g){const S={};return Object.entries(g).forEach(([y,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(S[y]=Ea(new Zt([],{}),0,b))}),S}function fs(g){const S={};return Object.entries(g).forEach(([y,b])=>S[y]=`${b}`),S}function sr(g,S,y){return g==y.path&&Qn(S,y.parameters)}const en="imperative";var Bt=function(g){return g[g.NavigationStart=0]="NavigationStart",g[g.NavigationEnd=1]="NavigationEnd",g[g.NavigationCancel=2]="NavigationCancel",g[g.NavigationError=3]="NavigationError",g[g.RoutesRecognized=4]="RoutesRecognized",g[g.ResolveStart=5]="ResolveStart",g[g.ResolveEnd=6]="ResolveEnd",g[g.GuardsCheckStart=7]="GuardsCheckStart",g[g.GuardsCheckEnd=8]="GuardsCheckEnd",g[g.RouteConfigLoadStart=9]="RouteConfigLoadStart",g[g.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",g[g.ChildActivationStart=11]="ChildActivationStart",g[g.ChildActivationEnd=12]="ChildActivationEnd",g[g.ActivationStart=13]="ActivationStart",g[g.ActivationEnd=14]="ActivationEnd",g[g.Scroll=15]="Scroll",g[g.NavigationSkipped=16]="NavigationSkipped",g}(Bt||{});class Os{constructor(S,y){this.id=S,this.url=y}}class di extends Os{constructor(S,y,b="imperative",P=null){super(S,y),this.type=Bt.NavigationStart,this.navigationTrigger=b,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lr extends Os{constructor(S,y,b){super(S,y),this.urlAfterRedirects=b,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var hi=function(g){return g[g.Redirect=0]="Redirect",g[g.SupersededByNewNavigation=1]="SupersededByNewNavigation",g[g.NoDataFromResolver=2]="NoDataFromResolver",g[g.GuardRejected=3]="GuardRejected",g}(hi||{}),Ia=function(g){return g[g.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",g[g.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",g}(Ia||{});class Xi extends Os{constructor(S,y,b,P){super(S,y),this.reason=b,this.code=P,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zs extends Os{constructor(S,y,b,P){super(S,y),this.reason=b,this.code=P,this.type=Bt.NavigationSkipped}}class Ai extends Os{constructor(S,y,b,P){super(S,y),this.error=b,this.target=P,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gs extends Os{constructor(S,y,b,P){super(S,y),this.urlAfterRedirects=b,this.state=P,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends Os{constructor(S,y,b,P){super(S,y),this.urlAfterRedirects=b,this.state=P,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca extends Os{constructor(S,y,b,P,W){super(S,y),this.urlAfterRedirects=b,this.state=P,this.shouldActivate=W,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mo extends Os{constructor(S,y,b,P){super(S,y),this.urlAfterRedirects=b,this.state=P,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gl extends Os{constructor(S,y,b,P){super(S,y),this.urlAfterRedirects=b,this.state=P,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go{constructor(S){this.route=S,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ta{constructor(S){this.route=S,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ko{constructor(S){this.snapshot=S,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(S){this.snapshot=S,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(S){this.snapshot=S,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(S){this.snapshot=S,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(S,y,b){this.routerEvent=S,this.position=y,this.anchor=b,this.type=Bt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qo{}class ti{constructor(S,y){this.url=S,this.navigationBehaviorOptions=y}}function ni(g){return g.outlet||kt}function ks(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let S=g.parent;S;S=S.parent){const y=S.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Xo{get injector(){return ks(this.route?.snapshot)??this.rootInjector}set injector(S){}constructor(S){this.rootInjector=S,this.outlet=null,this.route=null,this.children=new gs(this.rootInjector),this.attachRef=null}}let gs=(()=>{class g{constructor(y){this.rootInjector=y,this.contexts=new Map}onChildOutletCreated(y,b){const P=this.getOrCreateContext(y);P.outlet=b,this.contexts.set(y,P)}onChildOutletDestroyed(y){const b=this.getContext(y);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let b=this.getContext(y);return b||(b=new Xo(this.rootInjector),this.contexts.set(y,b)),b}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(b){return new(b||g)(w.KVO(w.uvJ))}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();class Ga{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const y=this.pathFromRoot(S);return y.length>1?y[y.length-2]:null}children(S){const y=Zo(S,this._root);return y?y.children.map(b=>b.value):[]}firstChild(S){const y=Zo(S,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(S){const y=Zn(S,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==S)}pathFromRoot(S){return Zn(S,this._root).map(y=>y.value)}}function Zo(g,S){if(g===S.value)return S;for(const y of S.children){const b=Zo(g,y);if(b)return b}return null}function Zn(g,S){if(g===S.value)return[S];for(const y of S.children){const b=Zn(g,y);if(b.length)return b.unshift(S),b}return[]}class Gr{constructor(S,y){this.value=S,this.children=y}toString(){return`TreeNode(${this.value})`}}function Qs(g){const S={};return g&&g.children.forEach(y=>S[y.value.outlet]=y),S}class ht extends Ga{constructor(S,y){super(S),this.snapshot=y,Fr(this,S)}toString(){return this.snapshot.toString()}}function ms(g){const S=function Zi(g){const W=new qt([],{},{},"",{},kt,g,null,{});return new Jo("",new Gr(W,[]))}(g),y=new V.t([new ke("",{})]),b=new V.t({}),P=new V.t({}),W=new V.t({}),te=new V.t(""),Ae=new Kr(y,b,W,te,P,kt,g,S.root);return Ae.snapshot=S.root,new ht(new Gr(Ae,[]),S)}class Kr{constructor(S,y,b,P,W,te,Ae,Ie){this.urlSubject=S,this.paramsSubject=y,this.queryParamsSubject=b,this.fragmentSubject=P,this.dataSubject=W,this.outlet=te,this.component=Ae,this._futureSnapshot=Ie,this.title=this.dataSubject?.pipe((0,Ee.T)(st=>st[Si]))??(0,$.of)(void 0),this.url=S,this.params=y,this.queryParams=b,this.fragment=P,this.data=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ee.T)(S=>cn(S))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ee.T)(S=>cn(S))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ji(g,S,y="emptyOnly"){let b;const{routeConfig:P}=g;return b=null===S||"always"!==y&&""!==P?.path&&(S.component||S.routeConfig?.loadComponent)?{params:{...g.params},data:{...g.data},resolve:{...g.data,...g._resolvedData??{}}}:{params:{...S.params,...g.params},data:{...S.data,...g.data},resolve:{...g.data,...S.data,...P?.data,...g._resolvedData}},P&&Da(P)&&(b.resolve[Si]=P.title),b}class qt{get title(){return this.data?.[Si]}constructor(S,y,b,P,W,te,Ae,Ie,st){this.url=S,this.params=y,this.queryParams=b,this.fragment=P,this.data=W,this.outlet=te,this.component=Ae,this.routeConfig=Ie,this._resolve=st}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jo extends Ga{constructor(S,y){super(y),this.url=S,Fr(this,y)}toString(){return go(this._root)}}function Fr(g,S){S.value._routerState=g,S.children.forEach(y=>Fr(g,y))}function go(g){const S=g.children.length>0?` { ${g.children.map(go).join(", ")} } `:"";return`${g.value}${S}`}function Fn(g){if(g.snapshot){const S=g.snapshot,y=g._futureSnapshot;g.snapshot=y,Qn(S.queryParams,y.queryParams)||g.queryParamsSubject.next(y.queryParams),S.fragment!==y.fragment&&g.fragmentSubject.next(y.fragment),Qn(S.params,y.params)||g.paramsSubject.next(y.params),function bi(g,S){if(g.length!==S.length)return!1;for(let y=0;y<g.length;++y)if(!Qn(g[y],S[y]))return!1;return!0}(S.url,y.url)||g.urlSubject.next(y.url),Qn(S.data,y.data)||g.dataSubject.next(y.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function Ur(g,S){const y=Qn(g.params,S.params)&&function Oe(g,S){return ie(g,S)&&g.every((y,b)=>Qn(y.parameters,S[b].parameters))}(g.url,S.url);return y&&!(!g.parent!=!S.parent)&&(!g.parent||Ur(g.parent,S.parent))}function Da(g){return"string"==typeof g.title||null===g.title}let ji=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new w.bkB,this.deactivateEvents=new w.bkB,this.attachEvents=new w.bkB,this.detachEvents=new w.bkB,this.parentContexts=(0,w.WQX)(gs),this.location=(0,w.WQX)(w.c1b),this.changeDetector=(0,w.WQX)(w.gRc),this.inputBinder=(0,w.WQX)(Ls,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:b,previousValue:P}=y.name;if(b)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,b){this.activated=y,this._activatedRoute=b,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,b){if(this.isActivated)throw new w.wOt(4013,!1);this._activatedRoute=y;const P=this.location,te=y.snapshot.component,Ae=this.parentContexts.getOrCreateContext(this.name).children,Ie=new xs(y,Ae,P.injector);this.activated=P.createComponent(te,{index:P.length,injector:Ie,environmentInjector:b}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275dir=w.FsC({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.OA$]})}}return g})();class xs{__ngOutletInjector(S){return new xs(this.route,this.childContexts,S)}constructor(S,y,b){this.route=S,this.childContexts=y,this.parent=b}get(S,y){return S===Kr?this.route:S===gs?this.childContexts:this.parent.get(S,y)}}const Ls=new w.nKC("");let _r=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:b}=y,P=rt([b.queryParams,b.params,b.data]).pipe((0,Re.n)(([W,te,Ae],Ie)=>(Ae={...W,...te,...Ae},0===Ie?(0,$.of)(Ae):Promise.resolve(Ae)))).subscribe(W=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(y);const te=(0,w.HJs)(b.component);if(te)for(const{templateName:Ae}of te.inputs)y.activatedComponentRef.setInput(Ae,W[Ae]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,P)}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac})}}return g})();function ys(g,S,y){if(y&&g.shouldReuseRoute(S.value,y.value.snapshot)){const b=y.value;b._futureSnapshot=S.value;const P=function Un(g,S,y){return S.children.map(b=>{for(const P of y.children)if(g.shouldReuseRoute(b.value,P.value.snapshot))return ys(g,b,P);return ys(g,b)})}(g,S,y);return new Gr(b,P)}{if(g.shouldAttach(S.value)){const W=g.retrieve(S.value);if(null!==W){const te=W.route;return te.value._futureSnapshot=S.value,te.children=S.children.map(Ae=>ys(g,Ae)),te}}const b=function qr(g){return new Kr(new V.t(g.url),new V.t(g.params),new V.t(g.queryParams),new V.t(g.fragment),new V.t(g.data),g.outlet,g.component,g)}(S.value),P=S.children.map(W=>ys(g,W));return new Gr(b,P)}}class Cr{constructor(S,y){this.redirectTo=S,this.navigationBehaviorOptions=y}}const as="ngNavigationCancelingError";function Ys(g,S){const{redirectTo:y,navigationBehaviorOptions:b}=At(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,P=Ri(!1,hi.Redirect);return P.url=y,P.navigationBehaviorOptions=b,P}function Ri(g,S){const y=new Error(`NavigationCancelingError: ${g||""}`);return y[as]=!0,y.cancellationCode=S,y}function Vt(g){return!!g&&g[as]}class ta{constructor(S,y,b,P,W){this.routeReuseStrategy=S,this.futureState=y,this.currState=b,this.forwardEvent=P,this.inputBindingEnabled=W}activate(S){const y=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,b,S),Fn(this.futureState.root),this.activateChildRoutes(y,b,S)}deactivateChildRoutes(S,y,b){const P=Qs(y);S.children.forEach(W=>{const te=W.value.outlet;this.deactivateRoutes(W,P[te],b),delete P[te]}),Object.values(P).forEach(W=>{this.deactivateRouteAndItsChildren(W,b)})}deactivateRoutes(S,y,b){const P=S.value,W=y?y.value:null;if(P===W)if(P.component){const te=b.getContext(P.outlet);te&&this.deactivateChildRoutes(S,y,te.children)}else this.deactivateChildRoutes(S,y,b);else W&&this.deactivateRouteAndItsChildren(y,b)}deactivateRouteAndItsChildren(S,y){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,y):this.deactivateRouteAndOutlet(S,y)}detachAndStoreRouteSubtree(S,y){const b=y.getContext(S.value.outlet),P=b&&S.value.component?b.children:y,W=Qs(S);for(const te of Object.values(W))this.deactivateRouteAndItsChildren(te,P);if(b&&b.outlet){const te=b.outlet.detach(),Ae=b.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:te,route:S,contexts:Ae})}}deactivateRouteAndOutlet(S,y){const b=y.getContext(S.value.outlet),P=b&&S.value.component?b.children:y,W=Qs(S);for(const te of Object.values(W))this.deactivateRouteAndItsChildren(te,P);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(S,y,b){const P=Qs(y);S.children.forEach(W=>{this.activateRoutes(W,P[W.value.outlet],b),this.forwardEvent(new qs(W.value.snapshot))}),S.children.length&&this.forwardEvent(new Ks(S.value.snapshot))}activateRoutes(S,y,b){const P=S.value,W=y?y.value:null;if(Fn(P),P===W)if(P.component){const te=b.getOrCreateContext(P.outlet);this.activateChildRoutes(S,y,te.children)}else this.activateChildRoutes(S,y,b);else if(P.component){const te=b.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Ae=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),te.children.onOutletReAttached(Ae.contexts),te.attachRef=Ae.componentRef,te.route=Ae.route.value,te.outlet&&te.outlet.attach(Ae.componentRef,Ae.route.value),Fn(Ae.route.value),this.activateChildRoutes(S,null,te.children)}else te.attachRef=null,te.route=P,te.outlet&&te.outlet.activateWith(P,te.injector),this.activateChildRoutes(S,null,te.children)}else this.activateChildRoutes(S,null,b)}}class mo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ba{constructor(S,y){this.component=S,this.route=y}}function Ni(g,S,y){const b=g._root;return _i(b,S?S._root:null,y,[b.value])}function sn(g,S){const y=Symbol(),b=S.get(g,y);return b===y?"function"!=typeof g||(0,w.LfX)(g)?S.get(g):g:b}function _i(g,S,y,b,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=Qs(S);return g.children.forEach(te=>{(function _o(g,S,y,b,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=g.value,te=S?S.value:null,Ae=y?y.getContext(g.value.outlet):null;if(te&&W.routeConfig===te.routeConfig){const Ie=function Aa(g,S,y){if("function"==typeof y)return y(g,S);switch(y){case"pathParamsChange":return!ie(g.url,S.url);case"pathParamsOrQueryParamsChange":return!ie(g.url,S.url)||!Qn(g.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ur(g,S)||!Qn(g.queryParams,S.queryParams);default:return!Ur(g,S)}}(te,W,W.routeConfig.runGuardsAndResolvers);Ie?P.canActivateChecks.push(new mo(b)):(W.data=te.data,W._resolvedData=te._resolvedData),_i(g,S,W.component?Ae?Ae.children:null:y,b,P),Ie&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&P.canDeactivateChecks.push(new ba(Ae.outlet.component,te))}else te&&Fs(S,Ae,P),P.canActivateChecks.push(new mo(b)),_i(g,null,W.component?Ae?Ae.children:null:y,b,P)})(te,W[te.value.outlet],y,b.concat([te.value]),P),delete W[te.value.outlet]}),Object.entries(W).forEach(([te,Ae])=>Fs(Ae,y.getContext(te),P)),P}function Fs(g,S,y){const b=Qs(g),P=g.value;Object.entries(b).forEach(([W,te])=>{Fs(te,P.component?S?S.children.getContext(W):null:S,y)}),y.canDeactivateChecks.push(new ba(P.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,P))}function Po(g){return"function"==typeof g}function Xs(g){return g instanceof rn||"EmptyError"===g?.name}const vo=Symbol("INITIAL_VALUE");function In(){return(0,Re.n)(g=>rt(g.map(S=>S.pipe(Ue(1),function We(...g){const S=(0,q.lI)(g);return(0,Hn.N)((y,b)=>{(S?ce(g,y,S):ce(g,y)).subscribe(b)})}(vo)))).pipe((0,Ee.T)(S=>{for(const y of S)if(!0!==y){if(y===vo)return vo;if(!1===y||Ma(y))return y}return!0}),(0,Be.p)(S=>S!==vo),Ue(1)))}function Ma(g){return At(g)||g instanceof Cr}function Lo(g){return(0,ct.F)((0,fn.M)(S=>{if("boolean"!=typeof S)throw Ys(0,S)}),(0,Ee.T)(S=>!0===S))}class Zs{constructor(S){this.segmentGroup=S||null}}class Mi extends Error{constructor(S){super(),this.urlTree=S}}function Vr(g){return de(new Zs(g))}class vs{constructor(S,y){this.urlSerializer=S,this.urlTree=y}lineralizeSegments(S,y){let b=[],P=y.root;for(;;){if(b=b.concat(P.segments),0===P.numberOfChildren)return(0,$.of)(b);if(P.numberOfChildren>1||!P.children[kt])return de(new w.wOt(4e3,!1));P=P.children[kt]}}applyRedirectCommands(S,y,b,P,W){if("string"!=typeof y){const Ae=y,{queryParams:Ie,fragment:st,routeConfig:Ot,url:Ut,outlet:or,params:Yr,data:Xr,title:si}=P,T=(0,w.N4e)(W,()=>Ae({params:Yr,data:Xr,queryParams:Ie,fragment:st,routeConfig:Ot,url:Ut,outlet:or,title:si}));if(T instanceof Wr)throw new Mi(T);y=T}const te=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),S,b);if("/"===y[0])throw new Mi(te);return te}applyRedirectCreateUrlTree(S,y,b,P){const W=this.createSegmentGroup(S,y.root,b,P);return new Wr(W,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(S,y){const b={};return Object.entries(S).forEach(([P,W])=>{if("string"==typeof W&&":"===W[0]){const Ae=W.substring(1);b[P]=y[Ae]}else b[P]=W}),b}createSegmentGroup(S,y,b,P){const W=this.createSegments(S,y.segments,b,P);let te={};return Object.entries(y.children).forEach(([Ae,Ie])=>{te[Ae]=this.createSegmentGroup(S,Ie,b,P)}),new Zt(W,te)}createSegments(S,y,b,P){return y.map(W=>":"===W.path[0]?this.findPosParam(S,W,P):this.findOrReturn(W,b))}findPosParam(S,y,b){const P=b[y.path.substring(1)];if(!P)throw new w.wOt(4001,!1);return P}findOrReturn(S,y){let b=0;for(const P of y){if(P.path===S.path)return y.splice(b),P;b++}return S}}const Io={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ic(g,S,y,b,P){const W=Pl(g,S,y);return W.matched?(b=function fi(g,S){return g.providers&&!g._injector&&(g._injector=(0,w.Ol2)(g.providers,S,`Route: ${g.path}`)),g._injector??S}(S,b),function Ft(g,S,y,b){const P=S.canMatch;if(!P||0===P.length)return(0,$.of)(!0);const W=P.map(te=>{const Ae=sn(te,g);return Ir(function Us(g){return g&&Po(g.canMatch)}(Ae)?Ae.canMatch(S,y):(0,w.N4e)(g,()=>Ae(S,y)))});return(0,$.of)(W).pipe(In(),Lo())}(b,S,y).pipe((0,Ee.T)(te=>!0===te?W:{...Io}))):(0,$.of)(W)}function Pl(g,S,y){if("**"===S.path)return function Co(g){return{matched:!0,parameters:g.length>0?hr(g).parameters:{},consumedSegments:g,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===S.path)return"full"===S.pathMatch&&(g.hasChildren()||y.length>0)?{...Io}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const P=(S.matcher||tt)(y,g,S);if(!P)return{...Io};const W={};Object.entries(P.posParams??{}).forEach(([Ae,Ie])=>{W[Ae]=Ie.path});const te=P.consumed.length>0?{...W,...P.consumed[P.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:P.consumed,remainingSegments:y.slice(P.consumed.length),parameters:te,positionalParamSegments:P.posParams??{}}}function $i(g,S,y,b){return y.length>0&&function Oa(g,S,y){return y.some(b=>Js(g,S,b)&&ni(b)!==kt)}(g,y,b)?{segmentGroup:new Zt(S,Oi(b,new Zt(y,g.children))),slicedSegments:[]}:0===y.length&&function ii(g,S,y){return y.some(b=>Js(g,S,b))}(g,y,b)?{segmentGroup:new Zt(g.segments,ra(g,y,b,g.children)),slicedSegments:y}:{segmentGroup:new Zt(g.segments,g.children),slicedSegments:y}}function ra(g,S,y,b){const P={};for(const W of y)if(Js(g,S,W)&&!b[ni(W)]){const te=new Zt([],{});P[ni(W)]=te}return{...b,...P}}function Oi(g,S){const y={};y[kt]=S;for(const b of g)if(""===b.path&&ni(b)!==kt){const P=new Zt([],{});y[ni(b)]=P}return y}function Js(g,S,y){return(!(g.hasChildren()||S.length>0)||"full"!==y.pathMatch)&&""===y.path}class tn{}class Fo{constructor(S,y,b,P,W,te,Ae){this.injector=S,this.configLoader=y,this.rootComponentType=b,this.config=P,this.urlTree=W,this.paramsInheritanceStrategy=te,this.urlSerializer=Ae,this.applyRedirects=new vs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new w.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=$i(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,Ee.T)(({children:y,rootSnapshot:b})=>{const P=new Gr(b,y),W=new Jo("",P),te=function Jt(g,S,y=null,b=null){return Xn(vn(g),S,y,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return te.queryParams=this.urlTree.queryParams,W.url=this.urlSerializer.serialize(te),{state:W,tree:te}}))}match(S){const y=new qt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),kt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,S,kt,y).pipe((0,Ee.T)(b=>({children:b,rootSnapshot:y})),mr(b=>{if(b instanceof Mi)return this.urlTree=b.urlTree,this.match(b.urlTree.root);throw b instanceof Zs?this.noMatchError(b):b}))}processSegmentGroup(S,y,b,P,W){return 0===b.segments.length&&b.hasChildren()?this.processChildren(S,y,b,W):this.processSegment(S,y,b,b.segments,P,!0,W).pipe((0,Ee.T)(te=>te instanceof Gr?[te]:[]))}processChildren(S,y,b,P){const W=[];for(const te of Object.keys(b.children))"primary"===te?W.unshift(te):W.push(te);return(0,x.H)(W).pipe((0,dn.H)(te=>{const Ae=b.children[te],Ie=function ri(g,S){const y=g.filter(b=>ni(b)===S);return y.push(...g.filter(b=>ni(b)!==S)),y}(y,te);return this.processSegmentGroup(S,Ie,Ae,te,P)}),function Wn(g,S){return(0,Hn.N)(function Rn(g,S,y,b,P){return(W,te)=>{let Ae=y,Ie=S,st=0;W.subscribe((0,Me._)(te,Ot=>{const Ut=st++;Ie=Ae?g(Ie,Ot,Ut):(Ae=!0,Ot),b&&te.next(Ie)},P&&(()=>{Ae&&te.next(Ie),te.complete()})))}}(g,S,arguments.length>=2,!0))}((te,Ae)=>(te.push(...Ae),te)),dt(null),function Gn(g,S){const y=arguments.length>=2;return b=>b.pipe(g?(0,Be.p)((P,W)=>g(P,W,b)):F.D,zn(1),y?dt(S):gn(()=>new rn))}(),(0,Pt.Z)(te=>{if(null===te)return Vr(b);const Ae=xl(te);return function es(g){g.sort((S,y)=>S.value.outlet===kt?-1:y.value.outlet===kt?1:S.value.outlet.localeCompare(y.value.outlet))}(Ae),(0,$.of)(Ae)}))}processSegment(S,y,b,P,W,te,Ae){return(0,x.H)(y).pipe((0,dn.H)(Ie=>this.processSegmentAgainstRoute(Ie._injector??S,y,Ie,b,P,W,te,Ae).pipe(mr(st=>{if(st instanceof Zs)return(0,$.of)(null);throw st}))),St(Ie=>!!Ie),mr(Ie=>{if(Xs(Ie))return function ls(g,S,y){return 0===S.length&&!g.children[y]}(b,P,W)?(0,$.of)(new tn):Vr(b);throw Ie}))}processSegmentAgainstRoute(S,y,b,P,W,te,Ae,Ie){return ni(b)===te||te!==kt&&Js(P,W,b)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(S,P,b,W,te,Ie):this.allowRedirects&&Ae?this.expandSegmentAgainstRouteUsingRedirect(S,P,y,b,W,te,Ie):Vr(P):Vr(P)}expandSegmentAgainstRouteUsingRedirect(S,y,b,P,W,te,Ae){const{matched:Ie,parameters:st,consumedSegments:Ot,positionalParamSegments:Ut,remainingSegments:or}=Pl(y,P,W);if(!Ie)return Vr(y);"string"==typeof P.redirectTo&&"/"===P.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Yr=new qt(W,st,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(P),ni(P),P.component??P._loadedComponent??null,P,qa(P)),Xr=Ji(Yr,Ae,this.paramsInheritanceStrategy);Yr.params=Object.freeze(Xr.params),Yr.data=Object.freeze(Xr.data);const si=this.applyRedirects.applyRedirectCommands(Ot,P.redirectTo,Ut,Yr,S);return this.applyRedirects.lineralizeSegments(P,si).pipe((0,Pt.Z)(T=>this.processSegment(S,b,y,T.concat(or),te,!1,Ae)))}matchSegmentAgainstRoute(S,y,b,P,W,te){const Ae=ic(y,b,P,S);return"**"===b.path&&(y.children={}),Ae.pipe((0,Re.n)(Ie=>Ie.matched?this.getChildConfig(S=b._injector??S,b,P).pipe((0,Re.n)(({routes:st})=>{const Ot=b._loadedInjector??S,{parameters:Ut,consumedSegments:or,remainingSegments:Yr}=Ie,Xr=new qt(or,Ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(b),ni(b),b.component??b._loadedComponent??null,b,qa(b)),si=Ji(Xr,te,this.paramsInheritanceStrategy);Xr.params=Object.freeze(si.params),Xr.data=Object.freeze(si.data);const{segmentGroup:T,slicedSegments:f}=$i(y,or,Yr,st);if(0===f.length&&T.hasChildren())return this.processChildren(Ot,st,T,Xr).pipe((0,Ee.T)(D=>new Gr(Xr,D)));if(0===st.length&&0===f.length)return(0,$.of)(new Gr(Xr,[]));const p=ni(b)===W;return this.processSegment(Ot,st,T,f,p?kt:W,!0,Xr).pipe((0,Ee.T)(D=>new Gr(Xr,D instanceof Gr?[D]:[])))})):Vr(y)))}getChildConfig(S,y,b){return y.children?(0,$.of)({routes:y.children,injector:S}):y.loadChildren?void 0!==y._loadedRoutes?(0,$.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Eo(g,S,y,b){const P=S.canLoad;if(void 0===P||0===P.length)return(0,$.of)(!0);const W=P.map(te=>{const Ae=sn(te,g);return Ir(function Mr(g){return g&&Po(g.canLoad)}(Ae)?Ae.canLoad(S,y):(0,w.N4e)(g,()=>Ae(S,y)))});return(0,$.of)(W).pipe(In(),Lo())}(S,y,b).pipe((0,Pt.Z)(P=>P?this.configLoader.loadChildren(S,y).pipe((0,fn.M)(W=>{y._loadedRoutes=W.routes,y._loadedInjector=W.injector})):function Jn(){return de(Ri(!1,hi.GuardRejected))}())):(0,$.of)({routes:[],injector:S})}}function kl(g){const S=g.value.routeConfig;return S&&""===S.path}function xl(g){const S=[],y=new Set;for(const b of g){if(!kl(b)){S.push(b);continue}const P=S.find(W=>b.value.routeConfig===W.value.routeConfig);void 0!==P?(P.children.push(...b.children),y.add(P)):S.push(b)}for(const b of y){const P=xl(b.children);S.push(new Gr(b.value,P))}return S.filter(b=>!y.has(b))}function En(g){return g.data||{}}function qa(g){return g.resolve||{}}function Wi(g){const S=g.children.map(y=>Wi(y)).flat();return[g,...S]}function to(g){return(0,Re.n)(S=>{const y=g(S);return y?(0,x.H)(y).pipe((0,Ee.T)(()=>S)):(0,$.of)(S)})}let v=(()=>{class g{buildTitle(y){let b,P=y.root;for(;void 0!==P;)b=this.getResolvedTitleForRoute(P)??b,P=P.children.find(W=>W.outlet===kt);return b}getResolvedTitleForRoute(y){return y.data[Si]}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:()=>(0,w.WQX)(j),providedIn:"root"})}}return g})(),j=(()=>{class g extends v{constructor(y){super(),this.title=y}updateTitle(y){const b=this.buildTitle(y);void 0!==b&&this.title.setTitle(b)}static{this.\u0275fac=function(b){return new(b||g)(w.KVO(ai.hE))}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const R=new w.nKC("",{providedIn:"root",factory:()=>({})});let B=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275cmp=w.VBU({type:g,selectors:[["ng-component"]],standalone:!0,features:[w.aNF],decls:1,vars:0,template:function(b,P){1&b&&w.nrm(0,"router-outlet")},dependencies:[ji],encapsulation:2})}}return g})();function ne(g){const S=g.children&&g.children.map(ne),y=S?{...g,children:S}:{...g};return!y.component&&!y.loadComponent&&(S||y.loadChildren)&&y.outlet&&y.outlet!==kt&&(y.component=B),y}const Se=new w.nKC("");let qe=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.WQX)(w.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,$.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const b=Ir(y.loadComponent()).pipe((0,Ee.T)(nn),(0,fn.M)(W=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=W}),(0,pi.j)(()=>{this.componentLoaders.delete(y)})),P=new zt(b,()=>new Ct.B).pipe(Et());return this.componentLoaders.set(y,P),P}loadChildren(y,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,$.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const W=function gt(g,S,y,b){return Ir(g.loadChildren()).pipe((0,Ee.T)(nn),(0,Pt.Z)(P=>P instanceof w.Co$||Array.isArray(P)?(0,$.of)(P):(0,x.H)(S.compileModuleAsync(P))),(0,Ee.T)(P=>{b&&b(g);let W,te,Ae=!1;return Array.isArray(P)?(te=P,!0):(W=P.create(y).injector,te=W.get(Se,[],{optional:!0,self:!0}).flat()),{routes:te.map(ne),injector:W}}))}(b,this.compiler,y,this.onLoadEndListener).pipe((0,pi.j)(()=>{this.childrenLoaders.delete(b)})),te=new zt(W,()=>new Ct.B).pipe(Et());return this.childrenLoaders.set(b,te),te}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function nn(g){return function Bn(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let qn=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:()=>(0,w.WQX)(nt),providedIn:"root"})}}return g})(),nt=(()=>{class g{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,b){return y}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const rr=new w.nKC(""),$n=new w.nKC("");function vr(g,S,y){const b=g.get($n),P=g.get(_e.qQ);return g.get(w.SKi).runOutsideAngular(()=>{if(!P.startViewTransition||b.skipNextTransition)return b.skipNextTransition=!1,new Promise(st=>setTimeout(st));let W;const te=new Promise(st=>{W=st}),Ae=P.startViewTransition(()=>(W(),function Pi(g){return new Promise(S=>{(0,w.mal)({read:()=>setTimeout(S)},{injector:g})})}(g))),{onViewTransitionCreated:Ie}=b;return Ie&&(0,w.N4e)(g,()=>Ie({transition:Ae,from:S,to:y})),te})}const Dr=new w.nKC("");let Ei=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct.B,this.transitionAbortSubject=new Ct.B,this.configLoader=(0,w.WQX)(qe),this.environmentInjector=(0,w.WQX)(w.uvJ),this.urlSerializer=(0,w.WQX)(je),this.rootContexts=(0,w.WQX)(gs),this.location=(0,w.WQX)(_e.aZ),this.inputBindingEnabled=null!==(0,w.WQX)(Ls,{optional:!0}),this.titleStrategy=(0,w.WQX)(v),this.options=(0,w.WQX)(R,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,w.WQX)(qn),this.createViewTransition=(0,w.WQX)(rr,{optional:!0}),this.navigationErrorHandler=(0,w.WQX)(Dr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new Ta(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new Go(P))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:b})}setupNavigations(y,b,P){return this.transitions=new V.t({id:0,currentUrlTree:b,currentRawUrl:b,extractedUrl:this.urlHandlingStrategy.extract(b),urlAfterRedirects:this.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:en,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Be.p)(W=>0!==W.id),(0,Ee.T)(W=>({...W,extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Re.n)(W=>{let te=!1,Ae=!1;return(0,$.of)(W).pipe((0,Re.n)(Ie=>{if(this.navigationId>W.id)return this.cancelNavigationTransition(W,"",hi.SupersededByNewNavigation),be;this.currentTransition=W,this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,targetBrowserUrl:"string"==typeof Ie.extras.browserUrl?this.urlSerializer.parse(Ie.extras.browserUrl):Ie.extras.browserUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const st=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!st&&"reload"!==(Ie.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Ut="";return this.events.next(new zs(Ie.id,this.urlSerializer.serialize(Ie.rawUrl),Ut,Ia.IgnoredSameUrlNavigation)),Ie.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return(0,$.of)(Ie).pipe((0,Re.n)(Ut=>{const or=this.transitions?.getValue();return this.events.next(new di(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),Ut.source,Ut.restoredState)),or!==this.transitions?.getValue()?be:Promise.resolve(Ut)}),function Pa(g,S,y,b,P,W){return(0,Pt.Z)(te=>function Pn(g,S,y,b,P,W,te="emptyOnly"){return new Fo(g,S,y,b,P,te,W).recognize()}(g,S,y,b,te.extractedUrl,P,W).pipe((0,Ee.T)(({state:Ae,tree:Ie})=>({...te,targetSnapshot:Ae,urlAfterRedirects:Ie}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,fn.M)(Ut=>{W.targetSnapshot=Ut.targetSnapshot,W.urlAfterRedirects=Ut.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ut.urlAfterRedirects};const or=new Gs(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(or)}));if(st&&this.urlHandlingStrategy.shouldProcessUrl(Ie.currentRawUrl)){const{id:Ut,extractedUrl:or,source:Yr,restoredState:Xr,extras:si}=Ie,T=new di(Ut,this.urlSerializer.serialize(or),Yr,Xr);this.events.next(T);const f=ms(this.rootComponentType).snapshot;return this.currentTransition=W={...Ie,targetSnapshot:f,urlAfterRedirects:or,extras:{...si,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=or,(0,$.of)(W)}{const Ut="";return this.events.next(new zs(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Ut,Ia.IgnoredByUrlHandlingStrategy)),Ie.resolve(!1),be}}),(0,fn.M)(Ie=>{const st=new os(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(st)}),(0,Ee.T)(Ie=>(this.currentTransition=W={...Ie,guards:Ni(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)},W)),function Qr(g,S){return(0,Pt.Z)(y=>{const{targetSnapshot:b,currentSnapshot:P,guards:{canActivateChecks:W,canDeactivateChecks:te}}=y;return 0===te.length&&0===W.length?(0,$.of)({...y,guardsResult:!0}):function vi(g,S,y,b){return(0,x.H)(g).pipe((0,Pt.Z)(P=>function yl(g,S,y,b,P){const W=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,$.of)(!0);const te=W.map(Ae=>{const Ie=ks(S)??P,st=sn(Ae,Ie);return Ir(function Na(g){return g&&Po(g.canDeactivate)}(st)?st.canDeactivate(g,S,y,b):(0,w.N4e)(Ie,()=>st(g,S,y,b))).pipe(St())});return(0,$.of)(te).pipe(In())}(P.component,P.route,y,S,b)),St(P=>!0!==P,!0))}(te,b,P,g).pipe((0,Pt.Z)(Ae=>Ae&&function Ka(g){return"boolean"==typeof g}(Ae)?function Bs(g,S,y,b){return(0,x.H)(S).pipe((0,dn.H)(P=>ce(function ko(g,S){return null!==g&&S&&S(new Ko(g)),(0,$.of)(!0)}(P.route.parent,b),function Hi(g,S){return null!==g&&S&&S(new mn(g)),(0,$.of)(!0)}(P.route,b),function _s(g,S,y){const b=S[S.length-1],W=S.slice(0,S.length-1).reverse().map(te=>function yo(g){const S=g.routeConfig?g.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:g,guards:S}:null}(te)).filter(te=>null!==te).map(te=>Ze(()=>{const Ae=te.guards.map(Ie=>{const st=ks(te.node)??y,Ot=sn(Ie,st);return Ir(function Ra(g){return g&&Po(g.canActivateChild)}(Ot)?Ot.canActivateChild(b,g):(0,w.N4e)(st,()=>Ot(b,g))).pipe(St())});return(0,$.of)(Ae).pipe(In())}));return(0,$.of)(W).pipe(In())}(g,P.path,y),function xo(g,S,y){const b=S.routeConfig?S.routeConfig.canActivate:null;if(!b||0===b.length)return(0,$.of)(!0);const P=b.map(W=>Ze(()=>{const te=ks(S)??y,Ae=sn(W,te);return Ir(function Lt(g){return g&&Po(g.canActivate)}(Ae)?Ae.canActivate(S,g):(0,w.N4e)(te,()=>Ae(S,g))).pipe(St())}));return(0,$.of)(P).pipe(In())}(g,P.route,y))),St(P=>!0!==P,!0))}(b,W,g,S):(0,$.of)(Ae)),(0,Ee.T)(Ae=>({...y,guardsResult:Ae})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,fn.M)(Ie=>{if(W.guardsResult=Ie.guardsResult,Ie.guardsResult&&"boolean"!=typeof Ie.guardsResult)throw Ys(0,Ie.guardsResult);const st=new Ca(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(st)}),(0,Be.p)(Ie=>!!Ie.guardsResult||(this.cancelNavigationTransition(Ie,"",hi.GuardRejected),!1)),to(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,$.of)(Ie).pipe((0,fn.M)(st=>{const Ot=new Mo(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot);this.events.next(Ot)}),(0,Re.n)(st=>{let Ot=!1;return(0,$.of)(st).pipe(function jr(g,S){return(0,Pt.Z)(y=>{const{targetSnapshot:b,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,$.of)(y);const W=new Set(P.map(Ie=>Ie.route)),te=new Set;for(const Ie of W)if(!te.has(Ie))for(const st of Wi(Ie))te.add(st);let Ae=0;return(0,x.H)(te).pipe((0,dn.H)(Ie=>W.has(Ie)?function ka(g,S,y,b){const P=g.routeConfig,W=g._resolve;return void 0!==P?.title&&!Da(P)&&(W[Si]=P.title),function sa(g,S,y,b){const P=Tr(g);if(0===P.length)return(0,$.of)({});const W={};return(0,x.H)(P).pipe((0,Pt.Z)(te=>function eo(g,S,y,b){const P=ks(S)??b,W=sn(g,P);return Ir(W.resolve?W.resolve(S,y):(0,w.N4e)(P,()=>W(S,y)))}(g[te],S,y,b).pipe(St(),(0,fn.M)(Ae=>{if(Ae instanceof Cr)throw Ys(new J,Ae);W[te]=Ae}))),zn(1),function Er(g){return(0,Ee.T)(()=>g)}(W),mr(te=>Xs(te)?be:de(te)))}(W,g,S,b).pipe((0,Ee.T)(te=>(g._resolvedData=te,g.data=Ji(g,g.parent,y).resolve,null)))}(Ie,b,g,S):(Ie.data=Ji(Ie,Ie.parent,g).resolve,(0,$.of)(void 0))),(0,fn.M)(()=>Ae++),zn(1),(0,Pt.Z)(Ie=>Ae===te.size?(0,$.of)(y):be))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,fn.M)({next:()=>Ot=!0,complete:()=>{Ot||this.cancelNavigationTransition(st,"",hi.NoDataFromResolver)}}))}),(0,fn.M)(st=>{const Ot=new gl(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot);this.events.next(Ot)}))}),to(Ie=>{const st=Ot=>{const Ut=[];Ot.routeConfig?.loadComponent&&!Ot.routeConfig._loadedComponent&&Ut.push(this.configLoader.loadComponent(Ot.routeConfig).pipe((0,fn.M)(or=>{Ot.component=or}),(0,Ee.T)(()=>{})));for(const or of Ot.children)Ut.push(...st(or));return Ut};return rt(st(Ie.targetSnapshot.root)).pipe(dt(null),Ue(1))}),to(()=>this.afterPreactivation()),(0,Re.n)(()=>{const{currentSnapshot:Ie,targetSnapshot:st}=W,Ot=this.createViewTransition?.(this.environmentInjector,Ie.root,st.root);return Ot?(0,x.H)(Ot).pipe((0,Ee.T)(()=>W)):(0,$.of)(W)}),(0,Ee.T)(Ie=>{const st=function Sa(g,S,y){const b=ys(g,S._root,y?y._root:void 0);return new ht(b,S)}(y.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return this.currentTransition=W={...Ie,targetRouterState:st},this.currentNavigation.targetRouterState=st,W}),(0,fn.M)(()=>{this.events.next(new qo)}),((g,S,y,b)=>(0,Ee.T)(P=>(new ta(S,P.targetRouterState,P.currentRouterState,y,b).activate(g),P)))(this.rootContexts,y.routeReuseStrategy,Ie=>this.events.next(Ie),this.inputBindingEnabled),Ue(1),(0,fn.M)({next:Ie=>{te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lr(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects))),this.titleStrategy?.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{te=!0}}),function gi(g){return(0,Hn.N)((S,y)=>{(0,ue.Tg)(g).subscribe((0,Me._)(y,()=>y.complete(),Bi.l)),!y.closed&&S.subscribe(y)})}(this.transitionAbortSubject.pipe((0,fn.M)(Ie=>{throw Ie}))),(0,pi.j)(()=>{!te&&!Ae&&this.cancelNavigationTransition(W,"",hi.SupersededByNewNavigation),this.currentTransition?.id===W.id&&(this.currentNavigation=null,this.currentTransition=null)}),mr(Ie=>{if(Ae=!0,Vt(Ie))this.events.next(new Xi(W.id,this.urlSerializer.serialize(W.extractedUrl),Ie.message,Ie.cancellationCode)),function Oo(g){return Vt(g)&&At(g.url)}(Ie)?this.events.next(new ti(Ie.url,Ie.navigationBehaviorOptions)):W.resolve(!1);else{const st=new Ai(W.id,this.urlSerializer.serialize(W.extractedUrl),Ie,W.targetSnapshot??void 0);try{const Ot=(0,w.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(st));if(Ot instanceof Cr){const{message:Ut,cancellationCode:or}=Ys(0,Ot);this.events.next(new Xi(W.id,this.urlSerializer.serialize(W.extractedUrl),Ut,or)),this.events.next(new ti(Ot.redirectTo,Ot.navigationBehaviorOptions))}else{this.events.next(st);const Ut=y.errorHandler(Ie);W.resolve(!!Ut)}}catch(Ot){this.options.resolveNavigationPromiseOnError?W.resolve(!1):W.reject(Ot)}}return be}))}))}cancelNavigationTransition(y,b,P){const W=new Xi(y.id,this.urlSerializer.serialize(y.extractedUrl),b,P);this.events.next(W),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),b=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return y.toString()!==b?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function no(g){return g!==en}let ki=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:()=>(0,w.WQX)(Es),providedIn:"root"})}}return g})();class cs{shouldDetach(S){return!1}store(S,y){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,y){return S.routeConfig===y.routeConfig}}let Es=(()=>{class g extends cs{static{this.\u0275fac=(()=>{let y;return function(P){return(y||(y=w.xGo(g)))(P||g)}})()}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),oa=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:()=>(0,w.WQX)(Uo),providedIn:"root"})}}return g})(),Uo=(()=>{class g extends oa{constructor(){super(...arguments),this.location=(0,w.WQX)(_e.aZ),this.urlSerializer=(0,w.WQX)(je),this.options=(0,w.WQX)(R,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,w.WQX)(qn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ms(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(b=>{"popstate"===b.type&&y(b.url,b.state)})}handleRouterEvent(y,b){if(y instanceof di)this.stateMemento=this.createStateMemento();else if(y instanceof zs)this.rawUrlTree=b.initialUrl;else if(y instanceof Gs){if("eager"===this.urlUpdateStrategy&&!b.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(b.finalUrl,b.initialUrl);this.setBrowserUrl(b.targetBrowserUrl??P,b)}}else y instanceof qo?(this.currentUrlTree=b.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(b.finalUrl,b.initialUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&!b.extras.skipLocationChange&&this.setBrowserUrl(b.targetBrowserUrl??this.rawUrlTree,b)):y instanceof Xi&&(y.code===hi.GuardRejected||y.code===hi.NoDataFromResolver)?this.restoreHistory(b):y instanceof Ai?this.restoreHistory(b,!0):y instanceof Lr&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,b){const P=y instanceof Wr?this.urlSerializer.serialize(y):y;if(this.location.isCurrentPathEqualTo(P)||b.extras.replaceUrl){const te={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(P,"",te)}else{const W={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(P,"",W)}}restoreHistory(y,b=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-this.browserPageId;0!==W?this.location.historyGo(W):this.currentUrlTree===y.finalUrl&&0===W&&(this.resetState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,b){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:b}:{navigationId:y}}static{this.\u0275fac=(()=>{let y;return function(P){return(y||(y=w.xGo(g)))(P||g)}})()}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Bo=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(Bo||{});function Or(g,S){g.events.pipe((0,Be.p)(y=>y instanceof Lr||y instanceof Xi||y instanceof Ai||y instanceof zs),(0,Ee.T)(y=>y instanceof Lr||y instanceof zs?Bo.COMPLETE:y instanceof Xi&&(y.code===hi.Redirect||y.code===hi.SupersededByNewNavigation)?Bo.REDIRECTING:Bo.FAILED),(0,Be.p)(y=>y!==Bo.REDIRECTING),Ue(1)).subscribe(()=>{S()})}function aa(g){throw g}const la={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ca={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class g{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,w.WQX)(w.H3F),this.stateManager=(0,w.WQX)(oa),this.options=(0,w.WQX)(R,{optional:!0})||{},this.pendingTasks=(0,w.WQX)(w.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,w.WQX)(Ei),this.urlSerializer=(0,w.WQX)(je),this.location=(0,w.WQX)(_e.aZ),this.urlHandlingStrategy=(0,w.WQX)(qn),this._events=new Ct.B,this.errorHandler=this.options.errorHandler||aa,this.navigated=!1,this.routeReuseStrategy=(0,w.WQX)(ki),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,w.WQX)(Se,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,w.WQX)(Ls,{optional:!0}),this.eventsSubscription=new Kt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(b=>{try{const P=this.navigationTransitions.currentTransition,W=this.navigationTransitions.currentNavigation;if(null!==P&&null!==W)if(this.stateManager.handleRouterEvent(b,W),b instanceof Xi&&b.code!==hi.Redirect&&b.code!==hi.SupersededByNewNavigation)this.navigated=!0;else if(b instanceof Lr)this.navigated=!0;else if(b instanceof ti){const te=b.navigationBehaviorOptions,Ae=this.urlHandlingStrategy.merge(b.url,P.currentRawUrl),Ie={browserUrl:P.extras.browserUrl,info:P.extras.info,skipLocationChange:P.extras.skipLocationChange,replaceUrl:P.extras.replaceUrl||"eager"===this.urlUpdateStrategy||no(P.source),...te};this.scheduleNavigation(Ae,en,null,Ie,{resolve:P.resolve,reject:P.reject,promise:P.promise})}(function sc(g){return!(g instanceof qo||g instanceof ti)})(b)&&this._events.next(b)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),en,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,b)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(y,"popstate",b)},0)})}navigateToSyncWithBrowser(y,b,P){const W={replaceUrl:!0},te=P?.navigationId?P:null;if(P){const Ie={...P};delete Ie.navigationId,delete Ie.\u0275routerPageId,0!==Object.keys(Ie).length&&(W.state=Ie)}const Ae=this.parseUrl(y);this.scheduleNavigation(Ae,b,te,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(ne),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,b={}){const{relativeTo:P,queryParams:W,fragment:te,queryParamsHandling:Ae,preserveFragment:Ie}=b,st=Ie?this.currentUrlTree.fragment:te;let Ut,Ot=null;switch(Ae??this.options.defaultQueryParamsHandling){case"merge":Ot={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=W||null}null!==Ot&&(Ot=this.removeEmptyProps(Ot));try{Ut=vn(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Ut=this.currentUrlTree.root}return Xn(Ut,y,Ot,st??null)}navigateByUrl(y,b={skipLocationChange:!1}){const P=At(y)?y:this.parseUrl(y),W=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(W,en,null,b)}navigate(y,b={skipLocationChange:!1}){return function vl(g){for(let S=0;S<g.length;S++)if(null==g[S])throw new w.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,b),b)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,b){let P;if(P=!0===b?{...la}:!1===b?{...ca}:b,At(y))return Xt(this.currentUrlTree,y,P);const W=this.parseUrl(y);return Xt(this.currentUrlTree,W,P)}removeEmptyProps(y){return Object.entries(y).reduce((b,[P,W])=>(null!=W&&(b[P]=W),b),{})}scheduleNavigation(y,b,P,W,te){if(this.disposed)return Promise.resolve(!1);let Ae,Ie,st;te?(Ae=te.resolve,Ie=te.reject,st=te.promise):st=new Promise((Ut,or)=>{Ae=Ut,Ie=or});const Ot=this.pendingTasks.add();return Or(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ot))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:W,resolve:Ae,reject:Ie,promise:st,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),st.catch(Ut=>Promise.reject(Ut))}static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Qa=(()=>{class g{constructor(y,b,P,W,te,Ae){this.router=y,this.route=b,this.tabIndexAttribute=P,this.renderer=W,this.el=te,this.locationStrategy=Ae,this.href=null,this.onChanges=new Ct.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Ie=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ie||"area"===Ie,this.isAnchorElement?this.subscription=y.events.subscribe(st=>{st instanceof Lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null==y?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=At(y)||Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0"))}onClick(y,b,P,W,te){const Ae=this.urlTree;return!!(null===Ae||this.isAnchorElement&&(0!==y||b||P||W||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ae,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const y=this.urlTree;this.href=null!==y&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(y)):null;const b=null===this.href?null:(0,w.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(y,b){const P=this.renderer,W=this.el.nativeElement;null!==b?P.setAttribute(W,y,b):P.removeAttribute(W,y)}get urlTree(){return null===this.routerLinkInput?null:At(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(b){return new(b||g)(w.rXU(zi),w.rXU(Kr),w.kS0("tabindex"),w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(_e.hb))}}static{this.\u0275dir=w.FsC({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,P){1&b&&w.bIt("click",function(te){return P.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&b&&w.BMQ("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",w.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",w.L39],replaceUrl:[2,"replaceUrl","replaceUrl",w.L39],routerLink:"routerLink"},standalone:!0,features:[w.GFd,w.OA$]})}}return g})(),pc=(()=>{class g{get isActive(){return this._isActive}constructor(y,b,P,W,te){this.router=y,this.element=b,this.renderer=P,this.cdr=W,this.link=te,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.bkB,this.routerEventsSubscription=y.events.subscribe(Ae=>{Ae instanceof Lr&&this.update()})}ngAfterContentInit(){(0,$.of)(this.links.changes,(0,$.of)(null)).pipe(De()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(b=>!!b).map(b=>b.onChanges);this.linkInputChangesSubscription=(0,x.H)(y).pipe(De()).subscribe(b=>{this._isActive!==this.isLinkActive(this.router)(b)&&this.update()})}set routerLinkActive(y){const b=Array.isArray(y)?y:y.split(" ");this.classes=b.filter(P=>!!P)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this.classes.forEach(b=>{y?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.isActiveChange.emit(y))})}isLinkActive(y){const b=function Ii(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>{const W=P.urlTree;return!!W&&y.isActive(W,b)}}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}static{this.\u0275fac=function(b){return new(b||g)(w.rXU(zi),w.rXU(w.aKT),w.rXU(w.sFG),w.rXU(w.gRc),w.rXU(Qa,8))}}static{this.\u0275dir=w.FsC({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(b,P,W){if(1&b&&w.wni(W,Qa,5),2&b){let te;w.mGM(te=w.lsd())&&(P.links=te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.OA$]})}}return g})();class Ya{}let Ll=(()=>{class g{constructor(y,b,P,W,te){this.router=y,this.injector=P,this.preloadingStrategy=W,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.p)(y=>y instanceof Lr),(0,dn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,b){const P=[];for(const W of b){W.providers&&!W._injector&&(W._injector=(0,w.Ol2)(W.providers,y,`Route: ${W.path}`));const te=W._injector??y,Ae=W._loadedInjector??te;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&P.push(this.preloadConfig(te,W)),(W.children||W._loadedRoutes)&&P.push(this.processRoutes(Ae,W.children??W._loadedRoutes))}return(0,x.H)(P).pipe(De())}preloadConfig(y,b){return this.preloadingStrategy.preload(b,()=>{let P;P=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(y,b):(0,$.of)(null);const W=P.pipe((0,Pt.Z)(te=>null===te?(0,$.of)(void 0):(b._loadedRoutes=te.routes,b._loadedInjector=te.injector,this.processRoutes(te.injector??y,te.routes))));if(b.loadComponent&&!b._loadedComponent){const te=this.loader.loadComponent(b);return(0,x.H)([W,te]).pipe(De())}return W})}static{this.\u0275fac=function(b){return new(b||g)(w.KVO(zi),w.KVO(w.Ql9),w.KVO(w.uvJ),w.KVO(Ya),w.KVO(qe))}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const Vn=new w.nKC("");let bn=(()=>{class g{constructor(y,b,P,W,te={}){this.urlSerializer=y,this.transitions=b,this.viewportScroller=P,this.zone=W,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration||="disabled",te.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Lr?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof zs&&y.code===Ia.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof fo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(b){w.QTQ()}}static{this.\u0275prov=w.jDH({token:g,factory:g.\u0275fac})}}return g})();function xi(g,S){return{\u0275kind:g,\u0275providers:S}}function ro(){const g=(0,w.WQX)(w.zZn);return S=>{const y=g.get(w.o8S);if(S!==y.components[0])return;const b=g.get(zi),P=g.get(To);1===g.get(io)&&b.initialNavigation(),g.get(Fa,null,w.$GK.Optional)?.setUpPreloading(),g.get(Vn,null,w.$GK.Optional)?.init(),b.resetRootComponentType(y.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const To=new w.nKC("",{factory:()=>new Ct.B}),io=new w.nKC("",{providedIn:"root",factory:()=>1}),Fa=new w.nKC("");function Vs(g){return xi(0,[{provide:Fa,useExisting:Ll},{provide:Ya,useExisting:g}])}function ac(g){return xi(9,[{provide:rr,useValue:vr},{provide:$n,useValue:{skipNextTransition:!!g?.skipInitialTransition,...g}}])}const Bl=new w.nKC("ROUTER_FORROOT_GUARD"),mc=[_e.aZ,{provide:je,useClass:J},zi,gs,{provide:Kr,useFactory:function Fl(g){return g.routerState.root},deps:[zi]},qe,[]];let Vl=(()=>{class g{constructor(y){}static forRoot(y,b){return{ngModule:g,providers:[mc,[],{provide:Se,multi:!0,useValue:y},{provide:Bl,useFactory:Ja,deps:[[zi,new w.Xx1,new w.kdw]]},{provide:R,useValue:b||{}},b?.useHash?{provide:_e.hb,useClass:_e.fw}:{provide:_e.hb,useClass:_e.Sm},{provide:Vn,useFactory:()=>{const g=(0,w.WQX)(_e.Xr),S=(0,w.WQX)(w.SKi),y=(0,w.WQX)(R),b=(0,w.WQX)(Ei),P=(0,w.WQX)(je);return y.scrollOffset&&g.setOffset(y.scrollOffset),new bn(P,b,g,S,y)}},b?.preloadingStrategy?Vs(b.preloadingStrategy).\u0275providers:[],b?.initialNavigation?jl(b):[],b?.bindToComponentInputs?xi(8,[_r,{provide:Ls,useExisting:_r}]).\u0275providers:[],b?.enableViewTransitions?ac().\u0275providers:[],[{provide:Ba,useFactory:ro},{provide:w.iLQ,multi:!0,useExisting:Ba}]]}}static forChild(y){return{ngModule:g,providers:[{provide:Se,multi:!0,useValue:y}]}}static{this.\u0275fac=function(b){return new(b||g)(w.KVO(Bl,8))}}static{this.\u0275mod=w.$C({type:g})}static{this.\u0275inj=w.G2t({})}}return g})();function Ja(g){return"guarded"}function jl(g){return["disabled"===g.initialNavigation?xi(3,[{provide:w.hnV,multi:!0,useFactory:()=>{const S=(0,w.WQX)(zi);return()=>{S.setUpLocationChangeListener()}}},{provide:io,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?xi(2,[{provide:io,useValue:0},{provide:w.hnV,multi:!0,deps:[w.zZn],useFactory:S=>{const y=S.get(_e.hj,Promise.resolve());return()=>y.then(()=>new Promise(b=>{const P=S.get(zi),W=S.get(To);Or(P,()=>{b(!0)}),S.get(Ei).afterPreactivation=()=>(b(!0),W.closed?(0,$.of)(void 0):W),P.initialNavigation()}))}}]).\u0275providers:[]]}const Ba=new w.nKC("")},7852:(Dt,Ve,z)=>{z.d(Ve,{MF:()=>ei,j6:()=>Ir,xZ:()=>Xt,om:()=>hr,Sx:()=>ke,Dk:()=>Oe,Wp:()=>Wr,KO:()=>je});var w=z(467),A=z(1362),le=z(8041),re=z(1076);const x=(Pe,Te)=>Te.some(ze=>Pe instanceof ze);let $,V;const K=new WeakMap,q=new WeakMap,ge=new WeakMap,Me=new WeakMap,xe=new WeakMap;let vt={get(Pe,Te,ze){if(Pe instanceof IDBTransaction){if("done"===Te)return q.get(Pe);if("objectStoreNames"===Te)return Pe.objectStoreNames||ge.get(Pe);if("store"===Te)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return De(Pe[Te])},set:(Pe,Te,ze)=>(Pe[Te]=ze,!0),has:(Pe,Te)=>Pe instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in Pe};function Pt(Pe){return"function"==typeof Pe?function rn(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function F(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...Te){return Pe.apply($e(this),Te),De(K.get(this))}:function(...Te){return De(Pe.apply($e(this),Te))}:function(Te,...ze){const mt=Pe.call($e(this),Te,...ze);return ge.set(mt,Te.sort?Te.sort():[Te]),De(mt)}}(Pe):(Pe instanceof IDBTransaction&&function _t(Pe){if(q.has(Pe))return;const Te=new Promise((ze,mt)=>{const Qt=()=>{Pe.removeEventListener("complete",At),Pe.removeEventListener("error",Jt),Pe.removeEventListener("abort",Jt)},At=()=>{ze(),Qt()},Jt=()=>{mt(Pe.error||new DOMException("AbortError","AbortError")),Qt()};Pe.addEventListener("complete",At),Pe.addEventListener("error",Jt),Pe.addEventListener("abort",Jt)});q.set(Pe,Te)}(Pe),x(Pe,function X(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,vt):Pe)}function De(Pe){if(Pe instanceof IDBRequest)return function rt(Pe){const Te=new Promise((ze,mt)=>{const Qt=()=>{Pe.removeEventListener("success",At),Pe.removeEventListener("error",Jt)},At=()=>{ze(De(Pe.result)),Qt()},Jt=()=>{mt(Pe.error),Qt()};Pe.addEventListener("success",At),Pe.addEventListener("error",Jt)});return Te.then(ze=>{ze instanceof IDBCursor&&K.set(ze,Pe)}).catch(()=>{}),xe.set(Te,Pe),Te}(Pe);if(Me.has(Pe))return Me.get(Pe);const Te=Pt(Pe);return Te!==Pe&&(Me.set(Pe,Te),xe.set(Te,Pe)),Te}const $e=Pe=>xe.get(Pe),Ze=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],de=new Map;function be(Pe,Te){if(!(Pe instanceof IDBDatabase)||Te in Pe||"string"!=typeof Te)return;if(de.get(Te))return de.get(Te);const ze=Te.replace(/FromIndex$/,""),mt=Te!==ze,Qt=ct.includes(ze);if(!(ze in(mt?IDBIndex:IDBObjectStore).prototype)||!Qt&&!Ze.includes(ze))return;const At=function(){var Jt=(0,w.A)(function*(vn,...Xn){const Rr=this.transaction(vn,Qt?"readwrite":"readonly");let Tn=Rr.store;return mt&&(Tn=Tn.index(Xn.shift())),(yield Promise.all([Tn[ze](...Xn),Qt&&Rr.done]))[0]});return function(Xn){return Jt.apply(this,arguments)}}();return de.set(Te,At),At}!function ut(Pe){vt=Pe(vt)}(Pe=>({...Pe,get:(Te,ze,mt)=>be(Te,ze)||Pe.get(Te,ze,mt),has:(Te,ze)=>!!be(Te,ze)||Pe.has(Te,ze)}));class lt{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function Ht(Pe){const Te=Pe.getComponent();return"VERSION"===Te?.type}(ze)){const mt=ze.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(ze=>ze).join(" ")}}const Kt="@firebase/app",Hn="0.10.11",Et=new le.Vy("@firebase/app"),zt="@firebase/app-compat",Ct="@firebase/analytics-compat",_e="@firebase/analytics",Ee="@firebase/app-check-compat",Re="@firebase/app-check",Ue="@firebase/auth",We="@firebase/auth-compat",Be="@firebase/database",dt="@firebase/database-compat",gn="@firebase/functions",cr="@firebase/functions-compat",St="@firebase/installations",dn="@firebase/installations-compat",fn="@firebase/messaging",mr="@firebase/messaging-compat",Rn="@firebase/performance",Wn="@firebase/performance-compat",zn="@firebase/remote-config",Gn="@firebase/remote-config-compat",Er="@firebase/storage",pi="@firebase/storage-compat",Bi="@firebase/firestore",gi="@firebase/vertexai-preview",ai="@firebase/firestore-compat",kt="firebase",Ar="[DEFAULT]",cn={[Kt]:"fire-core",[zt]:"fire-core-compat",[_e]:"fire-analytics",[Ct]:"fire-analytics-compat",[Re]:"fire-app-check",[Ee]:"fire-app-check-compat",[Ue]:"fire-auth",[We]:"fire-auth-compat",[Be]:"fire-rtdb",[dt]:"fire-rtdb-compat",[gn]:"fire-fn",[cr]:"fire-fn-compat",[St]:"fire-iid",[dn]:"fire-iid-compat",[fn]:"fire-fcm",[mr]:"fire-fcm-compat",[Rn]:"fire-perf",[Wn]:"fire-perf-compat",[zn]:"fire-rc",[Gn]:"fire-rc-compat",[Er]:"fire-gcs",[pi]:"fire-gcs-compat",[Bi]:"fire-fst",[ai]:"fire-fst-compat",[gi]:"fire-vertex","fire-js":"fire-js",[kt]:"fire-js-all"},tt=new Map,bi=new Map,Qn=new Map;function Tr(Pe,Te){try{Pe.container.addComponent(Te)}catch(ze){Et.debug(`Component ${Te.name} failed to register with FirebaseApp ${Pe.name}`,ze)}}function hr(Pe){const Te=Pe.name;if(Qn.has(Te))return Et.debug(`There were multiple attempts to register component ${Te}.`),!1;Qn.set(Te,Pe);for(const ze of tt.values())Tr(ze,Pe);for(const ze of bi.values())Tr(ze,Pe);return!0}function Ir(Pe,Te){const ze=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),Pe.container.getProvider(Te)}function Xt(Pe){return void 0!==Pe.settings}const Yn=new re.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yr{constructor(Te,ze,mt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new A.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const ei="10.13.2";function Wr(Pe,Te={}){let ze=Pe;"object"!=typeof Te&&(Te={name:Te});const mt=Object.assign({name:Ar,automaticDataCollectionEnabled:!1},Te),Qt=mt.name;if("string"!=typeof Qt||!Qt)throw Yn.create("bad-app-name",{appName:String(Qt)});if(ze||(ze=(0,re.T9)()),!ze)throw Yn.create("no-options");const At=tt.get(Qt);if(At){if((0,re.bD)(ze,At.options)&&(0,re.bD)(mt,At.config))return At;throw Yn.create("duplicate-app",{appName:Qt})}const Jt=new A.h1(Qt);for(const Xn of Qn.values())Jt.addComponent(Xn);const vn=new yr(ze,mt,Jt);return tt.set(Qt,vn),vn}function ke(Pe=Ar){const Te=tt.get(Pe);if(!Te&&Pe===Ar&&(0,re.T9)())return Wr();if(!Te)throw Yn.create("no-app",{appName:Pe});return Te}function Oe(){return Array.from(tt.values())}function je(Pe,Te,ze){var mt;let Qt=null!==(mt=cn[Pe])&&void 0!==mt?mt:Pe;ze&&(Qt+=`-${ze}`);const At=Qt.match(/\s|\//),Jt=Te.match(/\s|\//);if(At||Jt){const vn=[`Unable to register library "${Qt}" with version "${Te}":`];return At&&vn.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),At&&Jt&&vn.push("and"),Jt&&vn.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void Et.warn(vn.join(" "))}hr(new A.uA(`${Qt}-version`,()=>({library:Qt,version:Te}),"VERSION"))}const he="firebase-heartbeat-database",Le=1,Ce="firebase-heartbeat-store";let at=null;function xt(){return at||(at=function ce(Pe,Te,{blocked:ze,upgrade:mt,blocking:Qt,terminated:At}={}){const Jt=indexedDB.open(Pe,Te),vn=De(Jt);return mt&&Jt.addEventListener("upgradeneeded",Xn=>{mt(De(Jt.result),Xn.oldVersion,Xn.newVersion,De(Jt.transaction),Xn)}),ze&&Jt.addEventListener("blocked",Xn=>ze(Xn.oldVersion,Xn.newVersion,Xn)),vn.then(Xn=>{At&&Xn.addEventListener("close",()=>At()),Qt&&Xn.addEventListener("versionchange",Rr=>Qt(Rr.oldVersion,Rr.newVersion,Rr))}).catch(()=>{}),vn}(he,Le,{upgrade:(Pe,Te)=>{if(0===Te)try{Pe.createObjectStore(Ce)}catch(ze){console.warn(ze)}}}).catch(Pe=>{throw Yn.create("idb-open",{originalErrorMessage:Pe.message})})),at}function gr(){return(gr=(0,w.A)(function*(Pe){try{const ze=(yield xt()).transaction(Ce),mt=yield ze.objectStore(Ce).get(On(Pe));return yield ze.done,mt}catch(Te){if(Te instanceof re.g)Et.warn(Te.message);else{const ze=Yn.create("idb-get",{originalErrorMessage:Te?.message});Et.warn(ze.message)}}})).apply(this,arguments)}function Sn(Pe,Te){return wr.apply(this,arguments)}function wr(){return(wr=(0,w.A)(function*(Pe,Te){try{const mt=(yield xt()).transaction(Ce,"readwrite");yield mt.objectStore(Ce).put(Te,On(Pe)),yield mt.done}catch(ze){if(ze instanceof re.g)Et.warn(ze.message);else{const mt=Yn.create("idb-set",{originalErrorMessage:ze?.message});Et.warn(mt.message)}}})).apply(this,arguments)}function On(Pe){return`${Pe.name}!${Pe.options.appId}`}class li{constructor(Te){this.container=Te,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new uo(ze),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Te=this;return(0,w.A)(function*(){var ze,mt;try{const At=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jt=Hs();return null==(null===(ze=Te._heartbeatsCache)||void 0===ze?void 0:ze.heartbeats)&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise,null==(null===(mt=Te._heartbeatsCache)||void 0===mt?void 0:mt.heartbeats))||Te._heartbeatsCache.lastSentHeartbeatDate===Jt||Te._heartbeatsCache.heartbeats.some(vn=>vn.date===Jt)?void 0:(Te._heartbeatsCache.heartbeats.push({date:Jt,agent:At}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(vn=>{const Xn=new Date(vn.date).valueOf();return Date.now()-Xn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache))}catch(Qt){Et.warn(Qt)}})()}getHeartbeatsHeader(){var Te=this;return(0,w.A)(function*(){var ze;try{if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null==(null===(ze=Te._heartbeatsCache)||void 0===ze?void 0:ze.heartbeats)||0===Te._heartbeatsCache.heartbeats.length)return"";const mt=Hs(),{heartbeatsToSend:Qt,unsentEntries:At}=function $s(Pe,Te=1024){const ze=[];let mt=Pe.slice();for(const Qt of Pe){const At=ze.find(Jt=>Jt.agent===Qt.agent);if(At){if(At.dates.push(Qt.date),ho(ze)>Te){At.dates.pop();break}}else if(ze.push({agent:Qt.agent,dates:[Qt.date]}),ho(ze)>Te){ze.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:ze,unsentEntries:mt}}(Te._heartbeatsCache.heartbeats),Jt=(0,re.Uj)(JSON.stringify({version:2,heartbeats:Qt}));return Te._heartbeatsCache.lastSentHeartbeatDate=mt,At.length>0?(Te._heartbeatsCache.heartbeats=At,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Jt}catch(mt){return Et.warn(mt),""}})()}}function Hs(){return(new Date).toISOString().substring(0,10)}class uo{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.A)(function*(){return!!(0,re.zW)()&&(0,re.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,w.A)(function*(){if(yield Te._canUseIndexedDBPromise){const mt=yield function ur(Pe){return gr.apply(this,arguments)}(Te.app);return mt?.heartbeats?mt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Te){var ze=this;return(0,w.A)(function*(){var mt;if(yield ze._canUseIndexedDBPromise){const At=yield ze.read();return Sn(ze.app,{lastSentHeartbeatDate:null!==(mt=Te.lastSentHeartbeatDate)&&void 0!==mt?mt:At.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var ze=this;return(0,w.A)(function*(){var mt;if(yield ze._canUseIndexedDBPromise){const At=yield ze.read();return Sn(ze.app,{lastSentHeartbeatDate:null!==(mt=Te.lastSentHeartbeatDate)&&void 0!==mt?mt:At.lastSentHeartbeatDate,heartbeats:[...At.heartbeats,...Te.heartbeats]})}})()}}function ho(Pe){return(0,re.Uj)(JSON.stringify({version:2,heartbeats:Pe})).length}!function zo(Pe){hr(new A.uA("platform-logger",Te=>new lt(Te),"PRIVATE")),hr(new A.uA("heartbeat",Te=>new li(Te),"PRIVATE")),je(Kt,Hn,Pe),je(Kt,Hn,"esm2017"),je("fire-js","")}("")},1362:(Dt,Ve,z)=>{z.d(Ve,{h1:()=>X,uA:()=>le});var w=z(467),A=z(1076);class le{constructor(K,q,ge){this.name=K,this.instanceFactory=q,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const re="[DEFAULT]";class x{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const ge=new A.cY;if(this.instancesDeferred.set(q,ge),this.isInitialized(q)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:q});Me&&ge.resolve(Me)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const ge=this.normalizeInstanceIdentifier(K?.identifier),Me=null!==(q=K?.optional)&&void 0!==q&&q;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(xe){if(Me)return null;throw xe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function V(F){return"EAGER"===F.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[q,ge]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:Me});ge.resolve(xe)}catch{}}}}clearInstance(K=re){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,w.A)(function*(){const q=Array.from(K.instances.values());yield Promise.all([...q.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...q.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=re){return this.instances.has(K)}getOptions(K=re){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:q={}}=K,ge=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:ge,options:q});for(const[xe,rt]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(xe)&&rt.resolve(Me);return Me}onInit(K,q){var ge;const Me=this.normalizeInstanceIdentifier(q),xe=null!==(ge=this.onInitCallbacks.get(Me))&&void 0!==ge?ge:new Set;xe.add(K),this.onInitCallbacks.set(Me,xe);const rt=this.instances.get(Me);return rt&&K(rt,Me),()=>{xe.delete(K)}}invokeOnInitCallbacks(K,q){const ge=this.onInitCallbacks.get(q);if(ge)for(const Me of ge)try{Me(K,q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:q={}}){let ge=this.instances.get(K);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(F=K,F===re?void 0:F),options:q}),this.instances.set(K,ge),this.instancesOptions.set(K,q),this.invokeOnInitCallbacks(ge,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ge)}catch{}var F;return ge||null}normalizeInstanceIdentifier(K=re){return this.component?this.component.multipleInstances?K:re:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new x(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},8041:(Dt,Ve,z)=>{z.d(Ve,{$b:()=>A,Vy:()=>V});const w=[];var A=function(K){return K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K}(A||{});const le={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},re=A.INFO,x={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},$=(K,q,...ge)=>{if(q<K.logLevel)return;const Me=(new Date).toISOString(),xe=x[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${Me}]  ${K.name}:`,...ge)};class V{constructor(q){this.name=q,this._logLevel=re,this._logHandler=$,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in A))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?le[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...q),this._logHandler(this,A.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...q),this._logHandler(this,A.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,A.INFO,...q),this._logHandler(this,A.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,A.WARN,...q),this._logHandler(this,A.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...q),this._logHandler(this,A.ERROR,...q)}}},2214:(Dt,Ve,z)=>{z.d(Ve,{Dk:()=>w.Dk,KO:()=>w.KO,Sx:()=>w.Sx,Wp:()=>w.Wp});var w=z(7852);(0,w.KO)("firebase","10.13.2","app")},9579:(Dt,Ve,z)=>{z.d(Ve,{HF:()=>Ls,xI:()=>kc,df:()=>oe});var w=z(467),A=z(7852),le=z(1076),re=z(8041),x=z(1635),$=z(1362);const rt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new le.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new re.Vy("@firebase/auth");function Pt(_,...c){ut.logLevel<=re.$b.ERROR&&ut.error(`Auth (${A.MF}): ${_}`,...c)}function De(_,...c){throw ct(_,...c)}function $e(_,...c){return ct(_,...c)}function ce(_,c,h){const E=Object.assign(Object.assign({},rt()),{[c]:h});return new le.FA("auth","Firebase",E).create(c,{appName:_.name})}function ue(_){return ce(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ct(_,...c){if("string"!=typeof _){const h=c[0],E=[...c.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(h,...E)}return _t.create(_,...c)}function de(_,c,...h){if(!_)throw ct(c,...h)}function be(_){const c="INTERNAL ASSERTION FAILED: "+_;throw Pt(c),new Error(c)}function lt(_,c){_||be(c)}function Ht(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Hn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ct{constructor(c,h){this.shortDelay=c,this.longDelay=h,lt(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,le.jZ)()||(0,le.lV)()}get(){return function Et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Kt(){return"http:"===Hn()||"https:"===Hn()}()||(0,le.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(_,c){lt(_.emulator,"Emulator should always be set here");const{url:h}=_.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class Ee{static initialize(c,h,E){this.fetchImpl=c,h&&(this.headersImpl=h),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new Ct(3e4,6e4);function We(_,c){return _.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:_.tenantId}):c}function Be(_,c,h,E){return dt.apply(this,arguments)}function dt(){return(dt=(0,w.A)(function*(_,c,h,E,U={}){return gn(_,U,(0,w.A)(function*(){let G={},ye={};E&&("GET"===c?ye=E:G={body:JSON.stringify(E)});const Fe=(0,le.Am)(Object.assign({key:_.config.apiKey},ye)).slice(1),Je=yield _._getAdditionalHeaders();Je["Content-Type"]="application/json",_.languageCode&&(Je["X-Firebase-Locale"]=_.languageCode);const Tt=Object.assign({method:c,headers:Je},G);return(0,le.c1)()||(Tt.referrerPolicy="no-referrer"),Ee.fetch()(fn(_,_.config.apiHost,h,Fe),Tt)}))})).apply(this,arguments)}function gn(_,c,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,w.A)(function*(_,c,h){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Re),c);try{const U=new Rn(_),G=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const ye=yield G.json();if("needConfirmation"in ye)throw Wn(_,"account-exists-with-different-credential",ye);if(G.ok&&!("errorMessage"in ye))return ye;{const Fe=G.ok?ye.errorMessage:ye.error.message,[Je,Tt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Wn(_,"credential-already-in-use",ye);if("EMAIL_EXISTS"===Je)throw Wn(_,"email-already-in-use",ye);if("USER_DISABLED"===Je)throw Wn(_,"user-disabled",ye);const Wt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw ce(_,Wt,Tt);De(_,Wt)}}catch(U){if(U instanceof le.g)throw U;De(_,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function dn(){return(dn=(0,w.A)(function*(_,c,h,E,U={}){const G=yield Be(_,c,h,E,U);return"mfaPendingCredential"in G&&De(_,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function fn(_,c,h,E){const U=`${c}${h}?${E}`;return _.config.emulator?_e(_.config,U):`${_.config.apiScheme}://${U}`}class Rn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,E)=>{this.timer=setTimeout(()=>E($e(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(_,c,h){const E={appName:_.name};h.email&&(E.email=h.email),h.phoneNumber&&(E.phoneNumber=h.phoneNumber);const U=$e(_,c,E);return U.customData._tokenResponse=h,U}function Si(){return(Si=(0,w.A)(function*(_,c){return Be(_,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function tt(_,c){return bi.apply(this,arguments)}function bi(){return(bi=(0,w.A)(function*(_,c){return Be(_,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Qn(_){if(_)try{const c=new Date(Number(_));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function hr(){return(hr=(0,w.A)(function*(_,c=!1){const h=(0,le.Ku)(_),E=yield h.getIdToken(c),U=ir(E);de(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const G="object"==typeof U.firebase?U.firebase:void 0,ye=G?.sign_in_provider;return{claims:U,token:E,authTime:Qn(Ir(U.auth_time)),issuedAtTime:Qn(Ir(U.iat)),expirationTime:Qn(Ir(U.exp)),signInProvider:ye||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function Ir(_){return 1e3*Number(_)}function ir(_){const[c,h,E]=_.split(".");if(void 0===c||void 0===h||void 0===E)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,le.u)(h);return U?JSON.parse(U):(Pt("Failed to decode base64 JWT payload"),null)}catch(U){return Pt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Vi(_){const c=ir(_);return de(c,"internal-error"),de(typeof c.exp<"u","internal-error"),de(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function Xt(_,c){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,w.A)(function*(_,c,h=!1){if(h)return c;try{return yield c}catch(E){throw E instanceof le.g&&function Qi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}class Yn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const E=this.getInterval(c);this.timerId=setTimeout((0,w.A)(function*(){yield h.iteration()}),E)}iteration(){var c=this;return(0,w.A)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&c.schedule(!0))}c.schedule()})()}}class yr{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(_){return ei.apply(this,arguments)}function ei(){return(ei=(0,w.A)(function*(_){var c;const h=_.auth,E=yield _.getIdToken(),U=yield Xt(_,tt(h,{idToken:E}));de(U?.users.length,h,"internal-error");const G=U.users[0];_._notifyReloadListener(G);const ye=null!==(c=G.providerUserInfo)&&void 0!==c&&c.length?Oe(G.providerUserInfo):[],Fe=function ke(_,c){return[..._.filter(E=>!c.some(U=>U.providerId===E.providerId)),...c]}(_.providerData,ye),Wt=!!_.isAnonymous&&!(_.email&&G.passwordHash||Fe?.length),jn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Fe,metadata:new yr(G.createdAt,G.lastLoginAt),isAnonymous:Wt};Object.assign(_,jn)})).apply(this,arguments)}function Zt(){return(Zt=(0,w.A)(function*(_){const c=(0,le.Ku)(_);yield mi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Oe(_){return _.map(c=>{var{providerId:h}=c,E=(0,x.Tt)(c,["providerId"]);return{providerId:h,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ve(){return(ve=(0,w.A)(function*(_,c){const h=yield gn(_,{},(0,w.A)(function*(){const E=(0,le.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:U,apiKey:G}=_.config,ye=fn(_,U,"/v1/token",`key=${G}`),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(ye,{method:"POST",headers:Fe,body:E})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function J(){return(J=(0,w.A)(function*(_,c){return Be(_,"POST","/v2/accounts:revokeToken",We(_,c))})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){de(c.idToken,"internal-error"),de(typeof c.idToken<"u","internal-error"),de(typeof c.refreshToken<"u","internal-error");const h="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):Vi(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}updateFromIdToken(c){de(0!==c.length,"internal-error");const h=Vi(c);this.updateTokensAndExpiration(c,null,h)}getToken(c,h=!1){var E=this;return(0,w.A)(function*(){return h||!E.accessToken||E.isExpired?(de(E.refreshToken,c,"user-token-expired"),E.refreshToken?(yield E.refresh(c,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var E=this;return(0,w.A)(function*(){const{accessToken:U,refreshToken:G,expiresIn:ye}=yield function ie(_,c){return ve.apply(this,arguments)}(c,h);E.updateTokensAndExpiration(U,G,Number(ye))})()}updateTokensAndExpiration(c,h,E){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(c,h){const{refreshToken:E,accessToken:U,expirationTime:G}=h,ye=new ee;return E&&(de("string"==typeof E,"internal-error",{appName:c}),ye.refreshToken=E),U&&(de("string"==typeof U,"internal-error",{appName:c}),ye.accessToken=U),G&&(de("number"==typeof G,"internal-error",{appName:c}),ye.expirationTime=G),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return be("not implemented")}}function he(_,c){de("string"==typeof _||typeof _>"u","internal-error",{appName:c})}class Le{constructor(c){var{uid:h,auth:E,stsTokenManager:U}=c,G=(0,x.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=E,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new yr(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,w.A)(function*(){const E=yield Xt(h,h.stsTokenManager.getToken(h.auth,c));return de(E,h.auth,"internal-error"),h.accessToken!==E&&(h.accessToken=E,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),E})()}getIdTokenResult(c){return function qi(_){return hr.apply(this,arguments)}(this,c)}reload(){return function Wr(_){return Zt.apply(this,arguments)}(this)}_assign(c){this!==c&&(de(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const h=new Le(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(c){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var E=this;return(0,w.A)(function*(){let U=!1;c.idToken&&c.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(c),U=!0),h&&(yield mi(E)),yield E.auth._persistUserIfCurrent(E),U&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var c=this;return(0,w.A)(function*(){if((0,A.xZ)(c.auth.app))return Promise.reject(ue(c.auth));const h=yield c.getIdToken();return yield Xt(c,function kt(_,c){return Si.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var E,U,G,ye,Fe,Je,Tt,Wt;const jn=null!==(E=h.displayName)&&void 0!==E?E:void 0,Ss=null!==(U=h.email)&&void 0!==U?U:void 0,cl=null!==(G=h.phoneNumber)&&void 0!==G?G:void 0,bo=null!==(ye=h.photoURL)&&void 0!==ye?ye:void 0,xc=null!==(Fe=h.tenantId)&&void 0!==Fe?Fe:void 0,Lc=null!==(Je=h._redirectEventId)&&void 0!==Je?Je:void 0,nr=null!==(Tt=h.createdAt)&&void 0!==Tt?Tt:void 0,Fc=null!==(Wt=h.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:Rl,emailVerified:bs,isAnonymous:au,providerData:Ql,stsTokenManager:ul}=h;de(Rl&&ul,c,"internal-error");const Ao=ee.fromJSON(this.name,ul);de("string"==typeof Rl,c,"internal-error"),he(jn,c.name),he(Ss,c.name),de("boolean"==typeof bs,c,"internal-error"),de("boolean"==typeof au,c,"internal-error"),he(cl,c.name),he(bo,c.name),he(xc,c.name),he(Lc,c.name),he(nr,c.name),he(Fc,c.name);const Uc=new Le({uid:Rl,auth:c,email:Ss,emailVerified:bs,displayName:jn,isAnonymous:au,photoURL:bo,phoneNumber:cl,tenantId:xc,stsTokenManager:Ao,createdAt:nr,lastLoginAt:Fc});return Ql&&Array.isArray(Ql)&&(Uc.providerData=Ql.map(lu=>Object.assign({},lu))),Lc&&(Uc._redirectEventId=Lc),Uc}static _fromIdTokenResponse(c,h,E=!1){return(0,w.A)(function*(){const U=new ee;U.updateFromServerResponse(h);const G=new Le({uid:h.localId,auth:c,stsTokenManager:U,isAnonymous:E});return yield mi(G),G})()}static _fromGetAccountInfoResponse(c,h,E){return(0,w.A)(function*(){const U=h.users[0];de(void 0!==U.localId,"internal-error");const G=void 0!==U.providerUserInfo?Oe(U.providerUserInfo):[],ye=!(U.email&&U.passwordHash||G?.length),Fe=new ee;Fe.updateFromIdToken(E);const Je=new Le({uid:U.localId,auth:c,stsTokenManager:Fe,isAnonymous:ye}),Tt={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:G,metadata:new yr(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||G?.length)};return Object.assign(Je,Tt),Je})()}}const Ce=new Map;function at(_){lt(_ instanceof Function,"Expected a class definition");let c=Ce.get(_);return c?(lt(c instanceof _,"Instance stored in cache mismatched with class"),c):(c=new _,Ce.set(_,c),c)}const ur=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.A)(function*(){return!0})()}_set(h,E){var U=this;return(0,w.A)(function*(){U.storage[h]=E})()}_get(h){var E=this;return(0,w.A)(function*(){const U=E.storage[h];return void 0===U?null:U})()}_remove(h){var E=this;return(0,w.A)(function*(){delete E.storage[h]})()}_addListener(h,E){}_removeListener(h,E){}}return _.type="NONE",_})();function gr(_,c,h){return`firebase:${_}:${c}:${h}`}class Sn{constructor(c,h,E){this.persistence=c,this.auth=h,this.userKey=E;const{config:U,name:G}=this.auth;this.fullUserKey=gr(this.userKey,U.apiKey,G),this.fullPersistenceKey=gr("persistence",U.apiKey,G),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,w.A)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?Le._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,w.A)(function*(){if(h.persistence===c)return;const E=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,E?h.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,E="authUser"){return(0,w.A)(function*(){if(!h.length)return new Sn(at(ur),c,E);const U=(yield Promise.all(h.map(function(){var Tt=(0,w.A)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let G=U[0]||at(ur);const ye=gr(E,c.config.apiKey,c.name);let Fe=null;for(const Tt of h)try{const Wt=yield Tt._get(ye);if(Wt){const jn=Le._fromJSON(c,Wt);Tt!==G&&(Fe=jn),G=Tt;break}}catch{}const Je=U.filter(Tt=>Tt._shouldAllowMigration);return G._shouldAllowMigration&&Je.length?(G=Je[0],Fe&&(yield G._set(ye,Fe.toJSON())),yield Promise.all(h.map(function(){var Tt=(0,w.A)(function*(Wt){if(Wt!==G)try{yield Wt._remove(ye)}catch{}});return function(Wt){return Tt.apply(this,arguments)}}())),new Sn(G,c,E)):new Sn(G,c,E)})()}}function wr(_){const c=_.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(li(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(On(c))return"Firefox";if(c.includes("silk/"))return"Silk";if($s(c))return"Blackberry";if(uo(c))return"Webos";if(kr(c))return"Safari";if((c.includes("chrome/")||yi(c))&&!c.includes("edge/"))return"Chrome";if(Hs(c))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function On(_=(0,le.ZQ)()){return/firefox\//i.test(_)}function kr(_=(0,le.ZQ)()){const c=_.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function yi(_=(0,le.ZQ)()){return/crios\//i.test(_)}function li(_=(0,le.ZQ)()){return/iemobile/i.test(_)}function Hs(_=(0,le.ZQ)()){return/android/i.test(_)}function $s(_=(0,le.ZQ)()){return/blackberry/i.test(_)}function uo(_=(0,le.ZQ)()){return/webos/i.test(_)}function ho(_=(0,le.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ze(_=(0,le.ZQ)()){return ho(_)||Hs(_)||uo(_)||$s(_)||/windows phone/i.test(_)||li(_)}function mt(_,c=[]){let h;switch(_){case"Browser":h=wr((0,le.ZQ)());break;case"Worker":h=`${wr((0,le.ZQ)())}-${_}`;break;default:h=_}const E=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${A.MF}/${E}`}class Qt{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const E=G=>new Promise((ye,Fe)=>{try{ye(c(G))}catch(Je){Fe(Je)}});E.onAbort=h,this.queue.push(E);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,w.A)(function*(){if(h.auth.currentUser===c)return;const E=[];try{for(const U of h.queue)yield U(c),U.onAbort&&E.push(U.onAbort)}catch(U){E.reverse();for(const G of E)try{G()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function Jt(){return(Jt=(0,w.A)(function*(_,c={}){return Be(_,"GET","/v2/passwordPolicy",We(_,c))})).apply(this,arguments)}class Xn{constructor(c){var h,E,U,G;const ye=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=ye.minPasswordLength)&&void 0!==h?h:6,ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ye.maxPasswordLength),void 0!==ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ye.containsLowercaseCharacter),void 0!==ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ye.containsUppercaseCharacter),void 0!==ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ye.containsNumericCharacter),void 0!==ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ye.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(E=c.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(G=c.forceUpgradeOnSignin)&&void 0!==G&&G,this.schemaVersion=c.schemaVersion}validatePassword(c){var h,E,U,G,ye,Fe;const Je={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Je),this.validatePasswordCharacterOptions(c,Je),Je.isValid&&(Je.isValid=null===(h=Je.meetsMinPasswordLength)||void 0===h||h),Je.isValid&&(Je.isValid=null===(E=Je.meetsMaxPasswordLength)||void 0===E||E),Je.isValid&&(Je.isValid=null===(U=Je.containsLowercaseLetter)||void 0===U||U),Je.isValid&&(Je.isValid=null===(G=Je.containsUppercaseLetter)||void 0===G||G),Je.isValid&&(Je.isValid=null===(ye=Je.containsNumericCharacter)||void 0===ye||ye),Je.isValid&&(Je.isValid=null===(Fe=Je.containsNonAlphanumericCharacter)||void 0===Fe||Fe),Je}validatePasswordLengthOptions(c,h){const E=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;E&&(h.meetsMinPasswordLength=c.length>=E),U&&(h.meetsMaxPasswordLength=c.length<=U)}validatePasswordCharacterOptions(c,h){let E;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let U=0;U<c.length;U++)E=c.charAt(U),this.updatePasswordCharacterOptionsStatuses(h,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(c,h,E,U,G){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=G))}}class Rr{constructor(c,h,E,U){this.app=c,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=E,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new Qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(c,h){var E=this;return h&&(this._popupRedirectResolver=at(h)),this._initializationPromise=this.queue((0,w.A)(function*(){var U,G;if(!E._deleted&&(E.persistenceManager=yield Sn.create(E,c),!E._deleted)){if(null!==(U=E._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(h),E.lastNotifiedUid=(null===(G=E.currentUser)||void 0===G?void 0:G.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,w.A)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(c){var h=this;return(0,w.A)(function*(){try{const E=yield tt(h,{idToken:c}),U=yield Le._fromGetAccountInfoResponse(h,E,c);yield h.directlySetCurrentUser(U)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var h=this;return(0,w.A)(function*(){var E;if((0,A.xZ)(h.app)){const Fe=h.app.settings.authIdToken;return Fe?new Promise(Je=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(Fe).then(Je,Je))}):h.directlySetCurrentUser(null)}const U=yield h.assertedPersistence.getCurrentUser();let G=U,ye=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const Fe=null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=G?._redirectEventId,Tt=yield h.tryRedirectSignIn(c);(!Fe||Fe===Je)&&Tt?.user&&(G=Tt.user,ye=!0)}if(!G)return h.directlySetCurrentUser(null);if(!G._redirectEventId){if(ye)try{yield h.beforeStateQueue.runMiddleware(G)}catch(Fe){G=U,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(Fe))}return G?h.reloadAndSetCurrentUserOrClear(G):h.directlySetCurrentUser(null)}return de(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===G._redirectEventId?h.directlySetCurrentUser(G):h.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(c){var h=this;return(0,w.A)(function*(){let E=null;try{E=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch{yield h._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,w.A)(function*(){try{yield mi(c)}catch(E){if("auth/network-request-failed"!==E?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var c=this;return(0,w.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,w.A)(function*(){if((0,A.xZ)(h.app))return Promise.reject(ue(h));const E=c?(0,le.Ku)(c):null;return E&&de(E.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(E&&E._clone(h))})()}_updateCurrentUser(c,h=!1){var E=this;return(0,w.A)(function*(){if(!E._deleted)return c&&de(E.tenantId===c.tenantId,E,"tenant-id-mismatch"),h||(yield E.beforeStateQueue.runMiddleware(c)),E.queue((0,w.A)(function*(){yield E.directlySetCurrentUser(c),E.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,w.A)(function*(){return(0,A.xZ)(c.app)?Promise.reject(ue(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var h=this;return(0,A.xZ)(this.app)?Promise.reject(ue(this)):this.queue((0,w.A)(function*(){yield h.assertedPersistence.setPersistence(at(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var h=this;return(0,w.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const E=h._getPasswordPolicyInternal();return E.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,w.A)(function*(){const h=yield function At(_){return Jt.apply(this,arguments)}(c),E=new Xn(h);null===c.tenantId?c._projectPasswordPolicy=E:c._tenantPasswordPolicies[c.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new le.FA("auth","Firebase",c())}onAuthStateChanged(c,h,E){return this.registerStateListener(this.authStateSubscription,c,h,E)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,E){return this.registerStateListener(this.idTokenSubscription,c,h,E)}authStateReady(){return new Promise((c,h)=>{if(this.currentUser)c();else{const E=this.onAuthStateChanged(()=>{E(),c()},h)}})}revokeAccessToken(c){var h=this;return(0,w.A)(function*(){if(h.currentUser){const E=yield h.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:E};null!=h.tenantId&&(U.tenantId=h.tenantId),yield function je(_,c){return J.apply(this,arguments)}(h,U)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var E=this;return(0,w.A)(function*(){const U=yield E.getOrInitRedirectPersistenceManager(h);return null===c?U.removeCurrentUser():U.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,w.A)(function*(){if(!h.redirectPersistenceManager){const E=c&&at(c)||h._popupRedirectResolver;de(E,h,"argument-error"),h.redirectPersistenceManager=yield Sn.create(h,[at(E._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,w.A)(function*(){var E,U;return h._isInitialized&&(yield h.queue((0,w.A)(function*(){}))),(null===(E=h._currentUser)||void 0===E?void 0:E._redirectEventId)===c?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,w.A)(function*(){if(c===h.currentUser)return h.queue((0,w.A)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,E,U){if(this._deleted)return()=>{};const G="function"==typeof h?h:h.next.bind(h);let ye=!1;const Fe=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(Fe,this,"internal-error"),Fe.then(()=>{ye||G(this.currentUser)}),"function"==typeof h){const Je=c.addObserver(h,E,U);return()=>{ye=!0,Je()}}{const Je=c.addObserver(h);return()=>{ye=!0,Je()}}}directlySetCurrentUser(c){var h=this;return(0,w.A)(function*(){h.currentUser&&h.currentUser!==c&&h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh(),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,w.A)(function*(){var h;const E={"X-Client-Version":c.clientVersion};c.app.options.appId&&(E["X-Firebase-gmpid"]=c.app.options.appId);const U=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();U&&(E["X-Firebase-Client"]=U);const G=yield c._getAppCheckToken();return G&&(E["X-Firebase-AppCheck"]=G),E})()}_getAppCheckToken(){var c=this;return(0,w.A)(function*(){var h;const E=yield null===(h=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return E?.error&&function rn(_,...c){ut.logLevel<=re.$b.WARN&&ut.warn(`Auth (${A.MF}): ${_}`,...c)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Tn(_){return(0,le.Ku)(_)}class zr{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,le.tD)(h=>this.observer=h)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ci={loadJS:()=>(0,w.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function un(_){return`__${_}${Math.floor(1e6*Math.random())}`}function hi(_){const c=_.indexOf(":");return c<0?"":_.substr(0,c+1)}function Xi(_){if(!_)return null;const c=Number(_);return isNaN(c)?null:c}class Ai{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return be("not implemented")}_getIdTokenResponse(c){return be("not implemented")}_linkToIdToken(c,h){return be("not implemented")}_getReauthenticationResolver(c){return be("not implemented")}}function ri(_,c){return ks.apply(this,arguments)}function ks(){return(ks=(0,w.A)(function*(_,c){return function St(_,c,h,E){return dn.apply(this,arguments)}(_,"POST","/v1/accounts:signInWithIdp",We(_,c))})).apply(this,arguments)}class gs extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new gs(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):De("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:E,signInMethod:U}=h,G=(0,x.Tt)(h,["providerId","signInMethod"]);if(!E||!U)return null;const ye=new gs(E,U);return ye.idToken=G.idToken||void 0,ye.accessToken=G.accessToken||void 0,ye.secret=G.secret,ye.nonce=G.nonce,ye.pendingToken=G.pendingToken||null,ye}_getIdTokenResponse(c){return ri(c,this.buildRequest())}_linkToIdToken(c,h){const E=this.buildRequest();return E.idToken=h,ri(c,E)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,ri(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,le.Am)(h)}return c}}class Ur{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Da extends Ur{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}let Ls=(()=>{class _ extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(h,E){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:E})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:E,oauthAccessToken:U}=h;if(!E&&!U)return null;try{return _.credential(E,U)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})();class Ri{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,E,U=!1){return(0,w.A)(function*(){const G=yield Le._fromIdTokenResponse(c,E,U),ye=Oo(E);return new Ri({user:G,providerId:ye,_tokenResponse:E,operationType:h})})()}static _forOperation(c,h,E){return(0,w.A)(function*(){yield c._updateTokensIfNecessary(E,!0);const U=Oo(E);return new Ri({user:c,providerId:U,_tokenResponse:E,operationType:h})})()}}function Oo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class Br extends le.g{constructor(c,h,E,U){var G;super(h.code,h.message),this.operationType=E,this.user=U,Object.setPrototypeOf(this,Br.prototype),this.customData={appName:c.name,tenantId:null!==(G=c.tenantId)&&void 0!==G?G:void 0,_serverResponse:h.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(c,h,E,U){return new Br(c,h,E,U)}}function ta(_,c,h,E){return("reauthenticate"===c?h._getReauthenticationResolver(_):h._getIdTokenResponse(_)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?Br._fromErrorAndOperation(_,G,c,E):G})}function sn(){return(sn=(0,w.A)(function*(_,c,h=!1){const E=yield Xt(_,c._linkToIdToken(_.auth,yield _.getIdToken()),h);return Ri._forOperation(_,"link",E)})).apply(this,arguments)}function Fs(){return(Fs=(0,w.A)(function*(_,c,h=!1){const{auth:E}=_;if((0,A.xZ)(E.app))return Promise.reject(ue(E));const U="reauthenticate";try{const G=yield Xt(_,ta(E,U,c,_),h);de(G.idToken,E,"internal-error");const ye=ir(G.idToken);de(ye,E,"internal-error");const{sub:Fe}=ye;return de(_.uid===Fe,E,"user-mismatch"),Ri._forOperation(_,U,G)}catch(G){throw"auth/user-not-found"===G?.code&&De(E,"user-mismatch"),G}})).apply(this,arguments)}function Ka(){return(Ka=(0,w.A)(function*(_,c,h=!1){if((0,A.xZ)(_.app))return Promise.reject(ue(_));const E="signIn",U=yield ta(_,E,c),G=yield Ri._fromIdTokenResponse(_,E,U);return h||(yield _._updateCurrentUser(G.user)),G})).apply(this,arguments)}const la="__sak";class ca{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(la,"1"),this.storage.removeItem(la),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qa=(()=>{class _ extends ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,E)=>this.onStorageEvent(h,E),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ze(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const E of Object.keys(this.listeners)){const U=this.storage.getItem(E),G=this.localCache[E];U!==G&&h(E,G,U)}}onStorageEvent(h,E=!1){if(!h.key)return void this.forAllChangedKeys((Fe,Je,Tt)=>{this.notifyListeners(Fe,Tt)});const U=h.key;E?this.detachListener():this.stopPolling();const G=()=>{const Fe=this.storage.getItem(U);!E&&this.localCache[U]===Fe||this.notifyListeners(U,Fe)},ye=this.storage.getItem(U);!function Te(){return(0,le.lT)()&&10===document.documentMode}()||ye===h.newValue||h.newValue===h.oldValue?G():setTimeout(G,10)}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const G of Array.from(U))G(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,E,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:E,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,E){var U=()=>super._set,G=this;return(0,w.A)(function*(){yield U().call(G,h,E),G.localCache[h]=JSON.stringify(E)})()}_get(h){var E=()=>super._get,U=this;return(0,w.A)(function*(){const G=yield E().call(U,h);return U.localCache[h]=JSON.stringify(G),G})()}_remove(h){var E=()=>super._remove,U=this;return(0,w.A)(function*(){yield E().call(U,h),delete U.localCache[h]})()}}return _.type="LOCAL",_})(),Ii=(()=>{class _ extends ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,E){}_removeListener(h,E){}}return _.type="SESSION",_})();let Xa=(()=>{class _{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const E=this.receivers.find(G=>G.isListeningto(h));if(E)return E;const U=new _(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var E=this;return(0,w.A)(function*(){const U=h,{eventId:G,eventType:ye,data:Fe}=U.data,Je=E.handlersMap[ye];if(!Je?.size)return;U.ports[0].postMessage({status:"ack",eventId:G,eventType:ye});const Tt=Array.from(Je).map(function(){var jn=(0,w.A)(function*(Ss){return Ss(U.origin,Fe)});return function(Ss){return jn.apply(this,arguments)}}()),Wt=yield function Ya(_){return Promise.all(_.map(function(){var c=(0,w.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(E){return{fulfilled:!1,reason:E}}});return function(h){return c.apply(this,arguments)}}()))}(Tt);U.ports[0].postMessage({status:"done",eventId:G,eventType:ye,response:Wt})})()}_subscribe(h,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(E)}_unsubscribe(h,E){this.handlersMap[h]&&E&&this.handlersMap[h].delete(E),(!E||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function oc(_="",c=10){let h="";for(let E=0;E<c;E++)h+=Math.floor(10*Math.random());return _+h}class Ll{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,E=50){var U=this;return(0,w.A)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let ye,Fe;return new Promise((Je,Tt)=>{const Wt=oc("",20);G.port1.start();const jn=setTimeout(()=>{Tt(new Error("unsupported_event"))},E);Fe={messageChannel:G,onMessage(Ss){const cl=Ss;if(cl.data.eventId===Wt)switch(cl.data.status){case"ack":clearTimeout(jn),ye=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),Je(cl.data.response);break;default:clearTimeout(jn),clearTimeout(ye),Tt(new Error("invalid_response"))}}},U.handlers.add(Fe),G.port1.addEventListener("message",Fe.onMessage),U.target.postMessage({eventType:c,eventId:Wt,data:h},[G.port2])}).finally(()=>{Fe&&U.removeMessageHandler(Fe)})})()}}function Vn(){return window}function us(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function xi(){return(xi=(0,w.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cs="firebaseLocalStorageDb",ro="firebaseLocalStorage",To="fbase_key";class io{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function ua(_,c){return _.transaction([ro],c?"readwrite":"readonly").objectStore(ro)}function Za(){const _=indexedDB.open(Cs,1);return new Promise((c,h)=>{_.addEventListener("error",()=>{h(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ro,{keyPath:To})}catch(U){h(U)}}),_.addEventListener("success",(0,w.A)(function*(){const E=_.result;E.objectStoreNames.contains(ro)?c(E):(E.close(),yield function La(){const _=indexedDB.deleteDatabase(Cs);return new io(_).toPromise()}(),c(yield Za()))}))})}function Fa(_,c,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,w.A)(function*(_,c,h){const E=ua(_,!0).put({[To]:c,value:h});return new io(E).toPromise()})).apply(this,arguments)}function da(){return(da=(0,w.A)(function*(_,c){const h=ua(_,!1).get(c),E=yield new io(h).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function gc(_,c){const h=ua(_,!0).delete(c);return new io(h).toPromise()}const Bl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,w.A)(function*(){return h.db||(h.db=yield Za()),h.db})()}_withRetries(h){var E=this;return(0,w.A)(function*(){let U=0;for(;;)try{const G=yield E._openDb();return yield h(G)}catch(G){if(U++>3)throw G;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,w.A)(function*(){return us()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,w.A)(function*(){h.receiver=Xa._getInstance(function xa(){return us()?self:null}()),h.receiver._subscribe("keyChanged",function(){var E=(0,w.A)(function*(U,G){return{keyProcessed:(yield h._poll()).includes(G.key)}});return function(U,G){return E.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var E=(0,w.A)(function*(U,G){return["keyChanged"]});return function(U,G){return E.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,w.A)(function*(){var E,U;if(h.activeServiceWorker=yield function Fl(){return xi.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ll(h.activeServiceWorker);const G=yield h.sender._send("ping",{},800);G&&null!==(E=G[0])&&void 0!==E&&E.fulfilled&&null!==(U=G[0])&&void 0!==U&&U.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var E=this;return(0,w.A)(function*(){if(E.sender&&E.activeServiceWorker&&function Is(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:h},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.A)(function*(){try{if(!indexedDB)return!1;const h=yield Za();return yield Fa(h,la,"1"),yield gc(h,la),!0}catch{}return!1})()}_withPendingWrite(h){var E=this;return(0,w.A)(function*(){E.pendingWrites++;try{yield h()}finally{E.pendingWrites--}})()}_set(h,E){var U=this;return(0,w.A)(function*(){return U._withPendingWrite((0,w.A)(function*(){return yield U._withRetries(G=>Fa(G,h,E)),U.localCache[h]=E,U.notifyServiceWorker(h)}))})()}_get(h){var E=this;return(0,w.A)(function*(){const U=yield E._withRetries(G=>function Li(_,c){return da.apply(this,arguments)}(G,h));return E.localCache[h]=U,U})()}_remove(h){var E=this;return(0,w.A)(function*(){return E._withPendingWrite((0,w.A)(function*(){return yield E._withRetries(U=>gc(U,h)),delete E.localCache[h],E.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,w.A)(function*(){const E=yield h._withRetries(ye=>{const Fe=ua(ye,!1).getAll();return new io(Fe).toPromise()});if(!E)return[];if(0!==h.pendingWrites)return[];const U=[],G=new Set;if(0!==E.length)for(const{fbase_key:ye,value:Fe}of E)G.add(ye),JSON.stringify(h.localCache[ye])!==JSON.stringify(Fe)&&(h.notifyListeners(ye,Fe),U.push(ye));for(const ye of Object.keys(h.localCache))h.localCache[ye]&&!G.has(ye)&&(h.notifyListeners(ye,null),U.push(ye));return U})()}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const G of Array.from(U))G(E)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,w.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function si(_,c){return c?at(c):(de(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}un("rcb"),new Ct(3e4,6e4);class T extends Ai{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return ri(c,this._buildIdpRequest())}_linkToIdToken(c,h){return ri(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return ri(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function f(_){return function Po(_,c){return Ka.apply(this,arguments)}(_.auth,new T(_),_.bypassAuthState)}function p(_){const{auth:c,user:h}=_;return de(h,c,"internal-error"),function Aa(_,c){return Fs.apply(this,arguments)}(h,new T(_),_.bypassAuthState)}function D(_){return N.apply(this,arguments)}function N(){return(N=(0,w.A)(function*(_){const{auth:c,user:h}=_;return de(h,c,"internal-error"),function yo(_,c){return sn.apply(this,arguments)}(h,new T(_),_.bypassAuthState)})).apply(this,arguments)}class H{constructor(c,h,E,U,G=!1){this.auth=c,this.resolver=E,this.user=U,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,w.A)(function*(E,U){c.pendingPromise={resolve:E,reject:U};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(G){c.reject(G)}});return function(E,U){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,w.A)(function*(){const{urlResponse:E,sessionId:U,postBody:G,tenantId:ye,error:Fe,type:Je}=c;if(Fe)return void h.reject(Fe);const Tt={auth:h.auth,requestUri:E,sessionId:U,tenantId:ye||void 0,postBody:G||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Je)(Tt))}catch(Wt){h.reject(Wt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return f;case"linkViaPopup":case"linkViaRedirect":return D;case"reauthViaPopup":case"reauthViaRedirect":return p;default:De(this.auth,"internal-error")}}resolve(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z=new Ct(2e3,1e4);function oe(_,c,h){return me.apply(this,arguments)}function me(){return(me=(0,w.A)(function*(_,c,h){if((0,A.xZ)(_.app))return Promise.reject($e(_,"operation-not-supported-in-this-environment"));const E=Tn(_);!function Ze(_,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&De(_,"argument-error"),ce(_,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(_,c,Ur);const U=si(E,h);return new bt(E,"signInViaPopup",c,U).executeNotNull()})).apply(this,arguments)}let bt=(()=>{class _ extends H{constructor(h,E,U,G,ye){super(h,E,G,ye),this.provider=U,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var h=this;return(0,w.A)(function*(){const E=yield h.execute();return de(E,h.auth,"internal-error"),E})()}onExecution(){var h=this;return(0,w.A)(function*(){lt(1===h.filter.length,"Popup operations only handle one event");const E=oc();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],E),h.authWindow.associatedEvent=E,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject($e(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const h=()=>{var E,U;this.pollId=null!==(U=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Z.get())};h()}}return _.currentPopupAction=null,_})();const It="pendingRedirect",pt=new Map;class Gt extends H{constructor(c,h,E=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,E),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,w.A)(function*(){let E=pt.get(h.auth._key());if(!E){try{const G=(yield function Nn(_,c){return fr.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;E=()=>Promise.resolve(G)}catch(U){E=()=>Promise.reject(U)}pt.set(h.auth._key(),E)}return h.bypassAuthState||pt.set(h.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,E=this;return(0,w.A)(function*(){if("signInViaRedirect"===c.type)return h().call(E,c);if("unknown"!==c.type){if(c.eventId){const U=yield E.auth._redirectUserForId(c.eventId);if(U)return E.user=U,h().call(E,c);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,w.A)(function*(){})()}cleanUp(){}}function fr(){return(fr=(0,w.A)(function*(_,c){const h=function Zr(_){return gr(It,_.config.apiKey,_.name)}(c),E=function ar(_){return at(_._redirectPersistence)}(_);if(!(yield E._isAvailable()))return!1;const U="true"===(yield E._get(h));return yield E._remove(h),U})).apply(this,arguments)}function Ci(_,c){pt.set(_._key(),c)}function Pr(_,c){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.A)(function*(_,c,h=!1){if((0,A.xZ)(_.app))return Promise.reject(ue(_));const E=Tn(_),U=si(E,c),ye=yield new Gt(E,U,h).execute();return ye&&!h&&(delete ye.user._redirectEventId,yield E._persistUserIfCurrent(ye.user),yield E._setRedirectUser(null,c)),ye})).apply(this,arguments)}class it{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(c,E)&&(h=!0,this.sendToConsumer(c,E),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Ui(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return An(_);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var E;if(c.error&&!An(c)){const U=(null===(E=c.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";h.onError($e(this.auth,U))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const E=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&E}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jt(c))}saveEventToCache(c){this.cachedEventUids.add(jt(c)),this.lastProcessedEventTime=Date.now()}}function jt(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(c=>c).join("-")}function An({type:_,error:c}){return"unknown"===_&&"auth/no-auth-event"===c?.code}function oi(){return(oi=(0,w.A)(function*(_,c={}){return Be(_,"GET","/v1/projects",c)})).apply(this,arguments)}const jo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sr=/^https?/;function wo(){return wo=(0,w.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:c}=yield function pr(_){return oi.apply(this,arguments)}(_);for(const h of c)try{if(ln(h))return}catch{}De(_,"unauthorized-domain")}),wo.apply(this,arguments)}function ln(_){const c=Ht(),{protocol:h,hostname:E}=new URL(c);if(_.startsWith("chrome-extension://")){const ye=new URL(_);return""===ye.hostname&&""===E?"chrome-extension:"===h&&_.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&ye.hostname===E}if(!Sr.test(h))return!1;if(jo.test(_))return E===_;const U=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(E)}const $l=new Ct(3e4,6e4);function Mc(){const _=Vn().___jsl;if(_?.H)for(const c of Object.keys(_.H))if(_.H[c].r=_.H[c].r||[],_.H[c].L=_.H[c].L||[],_.H[c].r=[..._.H[c].L],_.CP)for(let h=0;h<_.CP.length;h++)_.CP[h]=null}function Ho(_){return new Promise((c,h)=>{var E,U,G;function ye(){Mc(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Mc(),h($e(_,"network-request-failed"))},timeout:$l.get()})}if(null!==(U=null===(E=Vn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==U&&U.Iframe)c(gapi.iframes.getContext());else{if(null===(G=Vn().gapi)||void 0===G||!G.load){const Fe=un("iframefcb");return Vn()[Fe]=()=>{gapi.load?ye():h($e(_,"network-request-failed"))},function va(_){return ci.loadJS(_)}(`${function pn(){return ci.gapiScript}()}?onload=${Fe}`).catch(Je=>h(Je))}ye()}}).catch(c=>{throw tr=null,c})}let tr=null;const il=new Ct(5e3,15e3),Do="__/auth/iframe",Wl="emulator/auth/iframe",wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cc(_){const c=_.config;de(c.authDomain,_,"auth-domain-config-required");const h=c.emulator?_e(c,Wl):`https://${_.config.authDomain}/${Do}`,E={apiKey:c.apiKey,appName:_.name,v:A.MF},U=sl.get(_.config.apiHost);U&&(E.eid=U);const G=_._getFrameworks();return G.length&&(E.fw=G.join(",")),`${h}?${(0,le.Am)(E).slice(1)}`}function Mt(){return Mt=(0,w.A)(function*(_){const c=yield function Tl(_){return tr=tr||Ho(_),tr}(_),h=Vn().gapi;return de(h,_,"internal-error"),c.open({where:document.body,url:cc(_),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wl,dontclear:!0},E=>new Promise(function(){var U=(0,w.A)(function*(G,ye){yield E.restyle({setHideOnLeave:!1});const Fe=$e(_,"network-request-failed"),Je=Vn().setTimeout(()=>{ye(Fe)},il.get());function Tt(){Vn().clearTimeout(Je),G(E)}E.ping(Tt).then(Tt,()=>{ye(Fe)})});return function(G,ye){return U.apply(this,arguments)}}()))}),Mt.apply(this,arguments)}const zl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hr{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hs="__/auth/handler",vc="emulator/auth/handler",ol=encodeURIComponent("fac");function Sl(_,c,h,E,U,G){return ao.apply(this,arguments)}function ao(){return(ao=(0,w.A)(function*(_,c,h,E,U,G){de(_.config.authDomain,_,"auth-domain-config-required"),de(_.config.apiKey,_,"invalid-api-key");const ye={apiKey:_.config.apiKey,appName:_.name,authType:h,redirectUrl:E,v:A.MF,eventId:U};if(c instanceof Ur){c.setDefaultLanguage(_.languageCode),ye.providerId=c.providerId||"",(0,le.Im)(c.getCustomParameters())||(ye.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Wt,jn]of Object.entries(G||{}))ye[Wt]=jn}if(c instanceof Da){const Wt=c.getScopes().filter(jn=>""!==jn);Wt.length>0&&(ye.scopes=Wt.join(","))}_.tenantId&&(ye.tid=_.tenantId);const Fe=ye;for(const Wt of Object.keys(Fe))void 0===Fe[Wt]&&delete Fe[Wt];const Je=yield _._getAppCheckToken(),Tt=Je?`#${ol}=${encodeURIComponent(Je)}`:"";return`${function ts({config:_}){return _.emulator?_e(_,vc):`https://${_.authDomain}/${hs}`}(_)}?${(0,le.Am)(Fe).slice(1)}${Tt}`})).apply(this,arguments)}const bl="webStorageSupport",Kl=class al{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=Pr,this._overrideRedirectResult=Ci}_openPopup(c,h,E,U){var G=this;return(0,w.A)(function*(){var ye;lt(null===(ye=G.eventManagers[c._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Fe=yield Sl(c,h,E,Ht(),U);return function _c(_,c,h,E=500,U=600){const G=Math.max((window.screen.availHeight-U)/2,0).toString(),ye=Math.max((window.screen.availWidth-E)/2,0).toString();let Fe="";const Je=Object.assign(Object.assign({},zl),{width:E.toString(),height:U.toString(),top:G,left:ye}),Tt=(0,le.ZQ)().toLowerCase();h&&(Fe=yi(Tt)?"_blank":h),On(Tt)&&(c=c||"http://localhost",Je.scrollbars="yes");const Wt=Object.entries(Je).reduce((Ss,[cl,bo])=>`${Ss}${cl}=${bo},`,"");if(function Pe(_=(0,le.ZQ)()){var c;return ho(_)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Tt)&&"_self"!==Fe)return function wi(_,c){const h=document.createElement("a");h.href=_,h.target=c;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(E)}(c||"",Fe),new Hr(null);const jn=window.open(c||"",Fe,Wt);de(jn,_,"popup-blocked");try{jn.focus()}catch{}return new Hr(jn)}(c,Fe,oc())})()}_openRedirect(c,h,E,U){var G=this;return(0,w.A)(function*(){return yield G._originValidation(c),function bn(_){Vn().location.href=_}(yield Sl(c,h,E,Ht(),U)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:U,promise:G}=this.eventManagers[h];return U?Promise.resolve(U):(lt(G,"If manager is not set, promise should be"),G)}const E=this.initAndGetManager(c);return this.eventManagers[h]={promise:E},E.catch(()=>{delete this.eventManagers[h]}),E}initAndGetManager(c){var h=this;return(0,w.A)(function*(){const E=yield function oo(_){return Mt.apply(this,arguments)}(c),U=new it(c);return E.register("authEvent",G=>(de(G?.authEvent,c,"invalid-auth-event"),{status:U.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:U},h.iframes[c._key()]=E,U})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(bl,{type:bl},U=>{var G;const ye=null===(G=U?.[0])||void 0===G?void 0:G[bl];void 0!==ye&&h(!!ye),De(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ti(_){return wo.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return ze()||kr()||ho()}};var td="@firebase/auth";class Zf{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,w.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(E=>{c(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);h&&(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ec=(0,le.XA)("authIdTokenMaxAge")||300;let Ic=null;const ql=_=>function(){var c=(0,w.A)(function*(h){const E=h&&(yield h.getIdTokenResult()),U=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(U&&U>Ec)return;const G=E?.token;Ic!==G&&(Ic=G,yield fetch(_,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}}))});return function(h){return c.apply(this,arguments)}}();function kc(_=(0,A.Sx)()){const c=(0,A.j6)(_,"auth");if(c.isInitialized())return c.getImmediate();const h=function Os(_,c){const h=(0,A.j6)(_,"auth");if(h.isInitialized()){const U=h.getImmediate(),G=h.getOptions();if((0,le.bD)(G,c??{}))return U;De(U,"already-initialized")}return h.initialize({options:c})}(_,{popupRedirectResolver:Kl,persistence:[Bl,Qa,Ii]}),E=(0,le.XA)("authTokenSyncURL");if(E&&"boolean"==typeof isSecureContext&&isSecureContext){const G=new URL(E,location.origin);if(location.origin===G.origin){const ye=ql(G.toString());(function Bn(_,c,h){(0,le.Ku)(_).beforeAuthStateChanged(c,h)})(h,ye,()=>ye(h.currentUser)),function gt(_,c,h,E){(0,le.Ku)(_).onIdTokenChanged(c,h,E)}(h,Fe=>ye(Fe))}}const U=(0,le.Tj)("auth");return U&&function Lr(_,c,h){const E=Tn(_);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(c),E,"invalid-emulator-scheme");const U=!!h?.disableWarnings,G=hi(c),{host:ye,port:Fe}=function Ia(_){const c=hi(_),h=/(\/\/)?([^?#/]+)/.exec(_.substr(c.length));if(!h)return{host:"",port:null};const E=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(E);if(U){const G=U[1];return{host:G,port:Xi(E.substr(G.length+1))}}{const[G,ye]=E.split(":");return{host:G,port:Xi(ye)}}}(c);E.config.emulator={url:`${G}//${ye}${null===Fe?"":`:${Fe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ye,port:Fe,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function zs(){function _(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(h,`http://${U}`),h}(function Yi(_){ci=_})({loadJS:_=>new Promise((c,h)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=c,E.onerror=U=>{const G=$e("internal-error");G.customData=U,h(G)},E.type="text/javascript",E.charset="UTF-8",function tp(){var _,c;return null!==(c=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==c?c:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function fh(_){(0,A.om)(new $.uA("auth",(c,{options:h})=>{const E=c.getProvider("app").getImmediate(),U=c.getProvider("heartbeat"),G=c.getProvider("app-check-internal"),{apiKey:ye,authDomain:Fe}=E.options;de(ye&&!ye.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:ye,authDomain:Fe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mt(_)},Tt=new Rr(E,U,G,Je);return function di(_,c){const h=c?.persistence||[],E=(Array.isArray(h)?h:[h]).map(at);c?.errorMap&&_._updateErrorMap(c.errorMap),_._initializeWithPersistence(E,c?.popupRedirectResolver)}(Tt,h),Tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,E)=>{c.getProvider("auth-internal").initialize()})),(0,A.om)(new $.uA("auth-internal",c=>{const h=Tn(c.getProvider("auth").getImmediate());return new Zf(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.KO)(td,"1.7.9",function Jf(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,A.KO)(td,"1.7.9","esm2017")}("Browser")},5779:(Dt,Ve,z)=>{z.d(Ve,{E:()=>K,Ei:()=>vt,Gg:()=>ut,Y9:()=>rt,Yj:()=>rn,bg:()=>q,r1:()=>xe,si:()=>ge,wi:()=>_t});var w=z(3953),A=z(1413),le=z(4420);const re=["*"];let X=(()=>class De{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),K=(()=>{class De{filter(ce,ue,Ze,ct,de){let be=[];if(ce)for(let lt of ce)for(let Ht of ue){let Kt=le.BF.resolveFieldData(lt,Ht);if(this.filters[ct](Kt,Ze,de)){be.push(lt);break}}return be}filters={startsWith:(ce,ue,Ze)=>{if(null==ue||""===ue.trim())return!0;if(null==ce)return!1;let ct=le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze);return le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze).slice(0,ct.length)===ct},contains:(ce,ue,Ze)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==ce)return!1;let ct=le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze);return-1!==le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze).indexOf(ct)},notContains:(ce,ue,Ze)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==ce)return!1;let ct=le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze);return-1===le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze).indexOf(ct)},endsWith:(ce,ue,Ze)=>{if(null==ue||""===ue.trim())return!0;if(null==ce)return!1;let ct=le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze),de=le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze);return-1!==de.indexOf(ct,de.length-ct.length)},equals:(ce,ue,Ze)=>null==ue||"string"==typeof ue&&""===ue.trim()||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()===ue.getTime():ce==ue||le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze)==le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze)),notEquals:(ce,ue,Ze)=>!(null==ue||"string"==typeof ue&&""===ue.trim()||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()===ue.getTime():ce==ue||le.BF.removeAccents(ce.toString()).toLocaleLowerCase(Ze)==le.BF.removeAccents(ue.toString()).toLocaleLowerCase(Ze))),in:(ce,ue)=>{if(null==ue||0===ue.length)return!0;for(let Ze=0;Ze<ue.length;Ze++)if(le.BF.equals(ce,ue[Ze]))return!0;return!1},between:(ce,ue)=>null==ue||null==ue[0]||null==ue[1]||null!=ce&&(ce.getTime?ue[0].getTime()<=ce.getTime()&&ce.getTime()<=ue[1].getTime():ue[0]<=ce&&ce<=ue[1]),lt:(ce,ue,Ze)=>null==ue||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()<ue.getTime():ce<ue),lte:(ce,ue,Ze)=>null==ue||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()<=ue.getTime():ce<=ue),gt:(ce,ue,Ze)=>null==ue||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()>ue.getTime():ce>ue),gte:(ce,ue,Ze)=>null==ue||null!=ce&&(ce.getTime&&ue.getTime?ce.getTime()>=ue.getTime():ce>=ue),is:(ce,ue,Ze)=>this.filters.equals(ce,ue,Ze),isNot:(ce,ue,Ze)=>this.filters.notEquals(ce,ue,Ze),before:(ce,ue,Ze)=>this.filters.lt(ce,ue,Ze),after:(ce,ue,Ze)=>this.filters.gt(ce,ue,Ze),dateIs:(ce,ue)=>null==ue||null!=ce&&ce.toDateString()===ue.toDateString(),dateIsNot:(ce,ue)=>null==ue||null!=ce&&ce.toDateString()!==ue.toDateString(),dateBefore:(ce,ue)=>null==ue||null!=ce&&ce.getTime()<ue.getTime(),dateAfter:(ce,ue)=>{if(null==ue)return!0;if(null==ce)return!1;const Ze=new Date(ce);return Ze.setHours(0,0,0,0),Ze.getTime()>ue.getTime()}};register(ce,ue){this.filters[ce]=ue}static \u0275fac=function(ue){return new(ue||De)};static \u0275prov=w.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),q=(()=>{class De{messageSource=new A.B;clearSource=new A.B;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(ce){ce&&this.messageSource.next(ce)}addAll(ce){ce&&ce.length&&this.messageSource.next(ce)}clear(ce){this.clearSource.next(ce||null)}static \u0275fac=function(ue){return new(ue||De)};static \u0275prov=w.jDH({token:De,factory:De.\u0275fac})}return De})(),ge=(()=>{class De{clickSource=new A.B;clickObservable=this.clickSource.asObservable();add(ce){ce&&this.clickSource.next(ce)}static \u0275fac=function(ue){return new(ue||De)};static \u0275prov=w.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),xe=(()=>{class De{ripple=!1;inputStyle=(0,w.vPA)("outlined");overlayOptions={};csp=(0,w.vPA)({nonce:void 0});filterMatchModeOptions={text:[X.STARTS_WITH,X.CONTAINS,X.NOT_CONTAINS,X.ENDS_WITH,X.EQUALS,X.NOT_EQUALS],numeric:[X.EQUALS,X.NOT_EQUALS,X.LESS_THAN,X.LESS_THAN_OR_EQUAL_TO,X.GREATER_THAN,X.GREATER_THAN_OR_EQUAL_TO],date:[X.DATE_IS,X.DATE_IS_NOT,X.DATE_BEFORE,X.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new A.B;translationObserver=this.translationSource.asObservable();getTranslation(ce){return this.translation[ce]}setTranslation(ce){this.translation={...this.translation,...ce},this.translationSource.next(this.translation)}static \u0275fac=function(ue){return new(ue||De)};static \u0275prov=w.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),rt=(()=>{class De{static \u0275fac=function(ue){return new(ue||De)};static \u0275cmp=w.VBU({type:De,selectors:[["p-header"]],standalone:!0,features:[w.aNF],ngContentSelectors:re,decls:1,vars:0,template:function(ue,Ze){1&ue&&(w.NAR(),w.SdG(0))},encapsulation:2})}return De})(),_t=(()=>{class De{static \u0275fac=function(ue){return new(ue||De)};static \u0275cmp=w.VBU({type:De,selectors:[["p-footer"]],standalone:!0,features:[w.aNF],ngContentSelectors:re,decls:1,vars:0,template:function(ue,Ze){1&ue&&(w.NAR(),w.SdG(0))},encapsulation:2})}return De})(),vt=(()=>{class De{template;type;name;constructor(ce){this.template=ce}getType(){return this.name}static \u0275fac=function(ue){return new(ue||De)(w.rXU(w.C4Q))};static \u0275dir=w.FsC({type:De,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return De})(),ut=(()=>{class De{static \u0275fac=function(ue){return new(ue||De)};static \u0275mod=w.$C({type:De});static \u0275inj=w.G2t({})}return De})(),rn=(()=>class De{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})()},461:(Dt,Ve,z)=>{z.d(Ve,{h:()=>re});var w=z(3953),A=z(4420);const le=["*"];let re=(()=>{class x{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const V=A.BF.isEmpty(this.label);this.role=V?void 0:"img",this.ariaLabel=V?void 0:this.label,this.ariaHidden=V}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(X){return new(X||x)};static \u0275cmp=w.VBU({type:x,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",w.L39],styleClass:"styleClass"},standalone:!0,features:[w.GFd,w.aNF],ngContentSelectors:le,decls:1,vars:0,template:function(X,F){1&X&&(w.NAR(),w.SdG(0))},encapsulation:2,changeDetection:0})}return x})()},1455:(Dt,Ve,z)=>{z.d(Ve,{D:()=>w,b:()=>A});let w=(()=>{class le{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(x,$){x&&$&&(x.classList?x.classList.add($):x.className+=" "+$)}static addMultipleClasses(x,$){if(x&&$)if(x.classList){let V=$.trim().split(" ");for(let X=0;X<V.length;X++)x.classList.add(V[X])}else{let V=$.split(" ");for(let X=0;X<V.length;X++)x.className+=" "+V[X]}}static removeClass(x,$){x&&$&&(x.classList?x.classList.remove($):x.className=x.className.replace(new RegExp("(^|\\b)"+$.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(x,$){x&&$&&[$].flat().filter(Boolean).forEach(V=>V.split(" ").forEach(X=>this.removeClass(x,X)))}static hasClass(x,$){return!(!x||!$)&&(x.classList?x.classList.contains($):new RegExp("(^| )"+$+"( |$)","gi").test(x.className))}static siblings(x){return Array.prototype.filter.call(x.parentNode.children,function($){return $!==x})}static find(x,$){return Array.from(x.querySelectorAll($))}static findSingle(x,$){return this.isElement(x)?x.querySelector($):null}static index(x){let $=x.parentNode.childNodes,V=0;for(var X=0;X<$.length;X++){if($[X]==x)return V;1==$[X].nodeType&&V++}return-1}static indexWithinGroup(x,$){let V=x.parentNode?x.parentNode.childNodes:[],X=0;for(var F=0;F<V.length;F++){if(V[F]==x)return X;V[F].attributes&&V[F].attributes[$]&&1==V[F].nodeType&&X++}return-1}static appendOverlay(x,$,V="self"){"self"!==V&&x&&$&&this.appendChild(x,$)}static alignOverlay(x,$,V="self",X=!0){x&&$&&(X&&(x.style.minWidth=`${le.getOuterWidth($)}px`),"self"===V?this.relativePosition(x,$):this.absolutePosition(x,$))}static relativePosition(x,$,V=!0){const X=De=>{if(De)return"relative"===getComputedStyle(De).getPropertyValue("position")?De:X(De.parentElement)},F=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x),K=$.offsetHeight??$.getBoundingClientRect().height,q=$.getBoundingClientRect(),ge=this.getWindowScrollTop(),Me=this.getWindowScrollLeft(),xe=this.getViewport(),_t=X(x)?.getBoundingClientRect()||{top:-1*ge,left:-1*Me};let vt,ut;q.top+K+F.height>xe.height?(vt=q.top-_t.top-F.height,x.style.transformOrigin="bottom",q.top+vt<0&&(vt=-1*q.top)):(vt=K+q.top-_t.top,x.style.transformOrigin="top");const rn=q.left+F.width-xe.width;ut=F.width>xe.width?-1*(q.left-_t.left):rn>0?q.left-_t.left-rn:q.left-_t.left,x.style.top=vt+"px",x.style.left=ut+"px",V&&(x.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(x,$,V=!0){const X=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x),F=X.height,K=X.width,q=$.offsetHeight??$.getBoundingClientRect().height,ge=$.offsetWidth??$.getBoundingClientRect().width,Me=$.getBoundingClientRect(),xe=this.getWindowScrollTop(),rt=this.getWindowScrollLeft(),_t=this.getViewport();let vt,ut;Me.top+q+F>_t.height?(vt=Me.top+xe-F,x.style.transformOrigin="bottom",vt<0&&(vt=xe)):(vt=q+Me.top+xe,x.style.transformOrigin="top"),ut=Me.left+K>_t.width?Math.max(0,Me.left+rt+ge-K):Me.left+rt,x.style.top=vt+"px",x.style.left=ut+"px",V&&(x.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(x,$=[]){return null===x.parentNode?$:this.getParents(x.parentNode,$.concat([x.parentNode]))}static getScrollableParents(x){let $=[];if(x){let V=this.getParents(x);const X=/(auto|scroll)/,F=K=>{let q=window.getComputedStyle(K,null);return X.test(q.getPropertyValue("overflow"))||X.test(q.getPropertyValue("overflowX"))||X.test(q.getPropertyValue("overflowY"))};for(let K of V){let q=1===K.nodeType&&K.dataset.scrollselectors;if(q){let ge=q.split(",");for(let Me of ge){let xe=this.findSingle(K,Me);xe&&F(xe)&&$.push(xe)}}9!==K.nodeType&&F(K)&&$.push(K)}}return $}static getHiddenElementOuterHeight(x){x.style.visibility="hidden",x.style.display="block";let $=x.offsetHeight;return x.style.display="none",x.style.visibility="visible",$}static getHiddenElementOuterWidth(x){x.style.visibility="hidden",x.style.display="block";let $=x.offsetWidth;return x.style.display="none",x.style.visibility="visible",$}static getHiddenElementDimensions(x){let $={};return x.style.visibility="hidden",x.style.display="block",$.width=x.offsetWidth,$.height=x.offsetHeight,x.style.display="none",x.style.visibility="visible",$}static scrollInView(x,$){let V=getComputedStyle(x).getPropertyValue("borderTopWidth"),X=V?parseFloat(V):0,F=getComputedStyle(x).getPropertyValue("paddingTop"),K=F?parseFloat(F):0,q=x.getBoundingClientRect(),Me=$.getBoundingClientRect().top+document.body.scrollTop-(q.top+document.body.scrollTop)-X-K,xe=x.scrollTop,rt=x.clientHeight,_t=this.getOuterHeight($);Me<0?x.scrollTop=xe+Me:Me+_t>rt&&(x.scrollTop=xe+Me-rt+_t)}static fadeIn(x,$){x.style.opacity=0;let V=+new Date,X=0,F=function(){X=+x.style.opacity.replace(",",".")+((new Date).getTime()-V)/$,x.style.opacity=X,V=+new Date,+X<1&&(window.requestAnimationFrame&&requestAnimationFrame(F)||setTimeout(F,16))};F()}static fadeOut(x,$){var V=1,K=50/$;let q=setInterval(()=>{(V-=K)<=0&&(V=0,clearInterval(q)),x.style.opacity=V},50)}static getWindowScrollTop(){let x=document.documentElement;return(window.pageYOffset||x.scrollTop)-(x.clientTop||0)}static getWindowScrollLeft(){let x=document.documentElement;return(window.pageXOffset||x.scrollLeft)-(x.clientLeft||0)}static matches(x,$){var V=Element.prototype;return(V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector||function(F){return-1!==[].indexOf.call(document.querySelectorAll(F),this)}).call(x,$)}static getOuterWidth(x,$){let V=x.offsetWidth;if($){let X=getComputedStyle(x);V+=parseFloat(X.marginLeft)+parseFloat(X.marginRight)}return V}static getHorizontalPadding(x){let $=getComputedStyle(x);return parseFloat($.paddingLeft)+parseFloat($.paddingRight)}static getHorizontalMargin(x){let $=getComputedStyle(x);return parseFloat($.marginLeft)+parseFloat($.marginRight)}static innerWidth(x){let $=x.offsetWidth,V=getComputedStyle(x);return $+=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight),$}static width(x){let $=x.offsetWidth,V=getComputedStyle(x);return $-=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight),$}static getInnerHeight(x){let $=x.offsetHeight,V=getComputedStyle(x);return $+=parseFloat(V.paddingTop)+parseFloat(V.paddingBottom),$}static getOuterHeight(x,$){let V=x.offsetHeight;if($){let X=getComputedStyle(x);V+=parseFloat(X.marginTop)+parseFloat(X.marginBottom)}return V}static getHeight(x){let $=x.offsetHeight,V=getComputedStyle(x);return $-=parseFloat(V.paddingTop)+parseFloat(V.paddingBottom)+parseFloat(V.borderTopWidth)+parseFloat(V.borderBottomWidth),$}static getWidth(x){let $=x.offsetWidth,V=getComputedStyle(x);return $-=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight)+parseFloat(V.borderLeftWidth)+parseFloat(V.borderRightWidth),$}static getViewport(){let x=window,$=document,V=$.documentElement,X=$.getElementsByTagName("body")[0];return{width:x.innerWidth||V.clientWidth||X.clientWidth,height:x.innerHeight||V.clientHeight||X.clientHeight}}static getOffset(x){var $=x.getBoundingClientRect();return{top:$.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:$.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(x,$){let V=x.parentNode;if(!V)throw"Can't replace element";return V.replaceChild($,x)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var x=window.navigator.userAgent;return x.indexOf("MSIE ")>0||(x.indexOf("Trident/")>0?(x.indexOf("rv:"),!0):x.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(x,$){if(this.isElement($))$.appendChild(x);else{if(!($&&$.el&&$.el.nativeElement))throw"Cannot append "+$+" to "+x;$.el.nativeElement.appendChild(x)}}static removeChild(x,$){if(this.isElement($))$.removeChild(x);else{if(!$.el||!$.el.nativeElement)throw"Cannot remove "+x+" from "+$;$.el.nativeElement.removeChild(x)}}static removeElement(x){"remove"in Element.prototype?x.remove():x.parentNode.removeChild(x)}static isElement(x){return"object"==typeof HTMLElement?x instanceof HTMLElement:x&&"object"==typeof x&&null!==x&&1===x.nodeType&&"string"==typeof x.nodeName}static calculateScrollbarWidth(x){if(x){let $=getComputedStyle(x);return x.offsetWidth-x.clientWidth-parseFloat($.borderLeftWidth)-parseFloat($.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let $=document.createElement("div");$.className="p-scrollbar-measure",document.body.appendChild($);let V=$.offsetWidth-$.clientWidth;return document.body.removeChild($),this.calculatedScrollbarWidth=V,V}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let x=document.createElement("div");x.className="p-scrollbar-measure",document.body.appendChild(x);let $=x.offsetHeight-x.clientHeight;return document.body.removeChild(x),this.calculatedScrollbarWidth=$,$}static invokeElementMethod(x,$,V){x[$].apply(x,V)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let x=this.resolveUserAgent();this.browser={},x.browser&&(this.browser[x.browser]=!0,this.browser.version=x.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let x=navigator.userAgent.toLowerCase(),$=/(chrome)[ \/]([\w.]+)/.exec(x)||/(webkit)[ \/]([\w.]+)/.exec(x)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(x)||/(msie) ([\w.]+)/.exec(x)||x.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(x)||[];return{browser:$[1]||"",version:$[2]||"0"}}static isInteger(x){return Number.isInteger?Number.isInteger(x):"number"==typeof x&&isFinite(x)&&Math.floor(x)===x}static isHidden(x){return!x||null===x.offsetParent}static isVisible(x){return x&&null!=x.offsetParent}static isExist(x){return null!==x&&typeof x<"u"&&x.nodeName&&x.parentNode}static focus(x,$){x&&document.activeElement!==x&&x.focus($)}static getFocusableSelectorString(x=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${x}`}static getFocusableElements(x,$=""){let V=this.find(x,this.getFocusableSelectorString($)),X=[];for(let F of V){const K=getComputedStyle(F);this.isVisible(F)&&"none"!=K.display&&"hidden"!=K.visibility&&X.push(F)}return X}static getFocusableElement(x,$=""){let V=this.findSingle(x,this.getFocusableSelectorString($));if(V){const X=getComputedStyle(V);if(this.isVisible(V)&&"none"!=X.display&&"hidden"!=X.visibility)return V}return null}static getFirstFocusableElement(x,$=""){const V=this.getFocusableElements(x,$);return V.length>0?V[0]:null}static getLastFocusableElement(x,$){const V=this.getFocusableElements(x,$);return V.length>0?V[V.length-1]:null}static getNextFocusableElement(x,$=!1){const V=le.getFocusableElements(x);let X=0;if(V&&V.length>0){const F=V.indexOf(V[0].ownerDocument.activeElement);$?X=-1==F||0===F?V.length-1:F-1:-1!=F&&F!==V.length-1&&(X=F+1)}return V[X]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(x,$){if(!x)return null;switch(x){case"document":return document;case"window":return window;case"@next":return $?.nextElementSibling;case"@prev":return $?.previousElementSibling;case"@parent":return $?.parentElement;case"@grandparent":return $?.parentElement.parentElement;default:const V=typeof x;if("string"===V)return document.querySelector(x);if("object"===V&&x.hasOwnProperty("nativeElement"))return this.isExist(x.nativeElement)?x.nativeElement:void 0;const F=(K=x)&&K.constructor&&K.call&&K.apply?x():x;return F&&9===F.nodeType||this.isExist(F)?F:null}var K}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(x,$){if(x){const V=x.getAttribute($);return isNaN(V)?"true"===V||"false"===V?"true"===V:V:+V}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(x="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,x)}static unblockBodyScroll(x="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,x)}static createElement(x,$={},...V){if(x){const X=document.createElement(x);return this.setAttributes(X,$),X.append(...V),X}}static setAttribute(x,$="",V){this.isElement(x)&&null!=V&&x.setAttribute($,V)}static setAttributes(x,$={}){if(this.isElement(x)){const V=(X,F)=>{const K=x?.$attrs?.[X]?[x?.$attrs?.[X]]:[];return[F].flat().reduce((q,ge)=>{if(null!=ge){const Me=typeof ge;if("string"===Me||"number"===Me)q.push(ge);else if("object"===Me){const xe=Array.isArray(ge)?V(X,ge):Object.entries(ge).map(([rt,_t])=>"style"!==X||!_t&&0!==_t?_t?rt:void 0:`${rt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${_t}`);q=xe.length?q.concat(xe.filter(rt=>!!rt)):q}}return q},K)};Object.entries($).forEach(([X,F])=>{if(null!=F){const K=X.match(/^on(.+)/);K?x.addEventListener(K[1].toLowerCase(),F):"pBind"===X?this.setAttributes(x,F):(F="class"===X?[...new Set(V("class",F))].join(" ").trim():"style"===X?V("style",F).join(";").trim():F,(x.$attrs=x.$attrs||{})&&(x.$attrs[X]=F),x.setAttribute(X,F))}})}}static isFocusableElement(x,$=""){return!!this.isElement(x)&&x.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${$}`)}}return le})();class A{element;listener;scrollableParents;constructor(re,x=()=>{}){this.element=re,this.listener=x}bindScrollListener(){this.scrollableParents=w.getScrollableParents(this.element);for(let re=0;re<this.scrollableParents.length;re++)this.scrollableParents[re].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let re=0;re<this.scrollableParents.length;re++)this.scrollableParents[re].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3306:(Dt,Ve,z)=>{z.d(Ve,{S:()=>le});var w=z(3953),A=z(461);let le=(()=>{class re extends A.h{static \u0275fac=(()=>{let $;return function(X){return($||($=w.xGo(re)))(X||re)}})();static \u0275cmp=w.VBU({type:re,selectors:[["CheckIcon"]],standalone:!0,features:[w.Vt3,w.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(V,X){1&V&&(w.qSk(),w.j41(0,"svg",0),w.nrm(1,"path",1),w.k0s()),2&V&&(w.HbH(X.getClassNames()),w.BMQ("aria-label",X.ariaLabel)("aria-hidden",X.ariaHidden)("role",X.role))},encapsulation:2})}return re})()},1512:(Dt,Ve,z)=>{z.d(Ve,{A:()=>le});var w=z(3953),A=z(461);let le=(()=>{class re extends A.h{static \u0275fac=(()=>{let $;return function(X){return($||($=w.xGo(re)))(X||re)}})();static \u0275cmp=w.VBU({type:re,selectors:[["TimesIcon"]],standalone:!0,features:[w.Vt3,w.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(V,X){1&V&&(w.qSk(),w.j41(0,"svg",0),w.nrm(1,"path",1),w.k0s()),2&V&&(w.HbH(X.getClassNames()),w.BMQ("aria-label",X.ariaLabel)("aria-hidden",X.ariaHidden)("role",X.role))},encapsulation:2})}return re})()},563:(Dt,Ve,z)=>{z.d(Ve,{Z:()=>$,n:()=>x});var w=z(177),A=z(3953),le=z(1455),re=z(5779);let x=(()=>{class V{document;platformId;renderer;el;zone;config;constructor(F,K,q,ge,Me,xe){this.document=F,this.platformId=K,this.renderer=q,this.el=ge,this.zone=Me,this.config=xe}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,w.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(F){let K=this.getInk();if(!K||"none"===this.document.defaultView?.getComputedStyle(K,null).display)return;if(le.D.removeClass(K,"p-ink-active"),!le.D.getHeight(K)&&!le.D.getWidth(K)){let xe=Math.max(le.D.getOuterWidth(this.el.nativeElement),le.D.getOuterHeight(this.el.nativeElement));K.style.height=xe+"px",K.style.width=xe+"px"}let q=le.D.getOffset(this.el.nativeElement),ge=F.pageX-q.left+this.document.body.scrollTop-le.D.getWidth(K)/2,Me=F.pageY-q.top+this.document.body.scrollLeft-le.D.getHeight(K)/2;this.renderer.setStyle(K,"top",Me+"px"),this.renderer.setStyle(K,"left",ge+"px"),le.D.addClass(K,"p-ink-active"),this.timeout=setTimeout(()=>{let xe=this.getInk();xe&&le.D.removeClass(xe,"p-ink-active")},401)}getInk(){const F=this.el.nativeElement.children;for(let K=0;K<F.length;K++)if("string"==typeof F[K].className&&-1!==F[K].className.indexOf("p-ink"))return F[K];return null}resetInk(){let F=this.getInk();F&&le.D.removeClass(F,"p-ink-active")}onAnimationEnd(F){this.timeout&&clearTimeout(this.timeout),le.D.removeClass(F.currentTarget,"p-ink-active")}create(){let F=this.renderer.createElement("span");this.renderer.addClass(F,"p-ink"),this.renderer.appendChild(this.el.nativeElement,F),this.renderer.setAttribute(F,"aria-hidden","true"),this.renderer.setAttribute(F,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(F,"animationend",this.onAnimationEnd.bind(this)))}remove(){let F=this.getInk();F&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,le.D.removeElement(F))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(K){return new(K||V)(A.rXU(w.qQ),A.rXU(A.Agw),A.rXU(A.sFG),A.rXU(A.aKT),A.rXU(A.SKi),A.rXU(re.r1,8))};static \u0275dir=A.FsC({type:V,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return V})(),$=(()=>{class V{static \u0275fac=function(K){return new(K||V)};static \u0275mod=A.$C({type:V});static \u0275inj=A.G2t({})}return V})()},4420:(Dt,Ve,z)=>{z.d(Ve,{BF:()=>w,Q$:()=>x,_Y:()=>le});class w{static isArray(V,X=!0){return Array.isArray(V)&&(X||0!==V.length)}static isObject(V,X=!0){return"object"==typeof V&&!Array.isArray(V)&&null!=V&&(X||0!==Object.keys(V).length)}static equals(V,X,F){return F?this.resolveFieldData(V,F)===this.resolveFieldData(X,F):this.equalsByValue(V,X)}static equalsByValue(V,X){if(V===X)return!0;if(V&&X&&"object"==typeof V&&"object"==typeof X){var q,ge,Me,F=Array.isArray(V),K=Array.isArray(X);if(F&&K){if((ge=V.length)!=X.length)return!1;for(q=ge;0!=q--;)if(!this.equalsByValue(V[q],X[q]))return!1;return!0}if(F!=K)return!1;var xe=this.isDate(V),rt=this.isDate(X);if(xe!=rt)return!1;if(xe&&rt)return V.getTime()==X.getTime();var _t=V instanceof RegExp,vt=X instanceof RegExp;if(_t!=vt)return!1;if(_t&&vt)return V.toString()==X.toString();var ut=Object.keys(V);if((ge=ut.length)!==Object.keys(X).length)return!1;for(q=ge;0!=q--;)if(!Object.prototype.hasOwnProperty.call(X,ut[q]))return!1;for(q=ge;0!=q--;)if(!this.equalsByValue(V[Me=ut[q]],X[Me]))return!1;return!0}return V!=V&&X!=X}static resolveFieldData(V,X){if(V&&X){if(this.isFunction(X))return X(V);if(-1==X.indexOf("."))return V[X];{let F=X.split("."),K=V;for(let q=0,ge=F.length;q<ge;++q){if(null==K)return null;K=K[F[q]]}return K}}return null}static isFunction(V){return!!(V&&V.constructor&&V.call&&V.apply)}static reorderArray(V,X,F){V&&X!==F&&(F>=V.length&&(F%=V.length,X%=V.length),V.splice(F,0,V.splice(X,1)[0]))}static insertIntoOrderedArray(V,X,F,K){if(F.length>0){let q=!1;for(let ge=0;ge<F.length;ge++)if(this.findIndexInList(F[ge],K)>X){F.splice(ge,0,V),q=!0;break}q||F.push(V)}else F.push(V)}static findIndexInList(V,X){let F=-1;if(X)for(let K=0;K<X.length;K++)if(X[K]==V){F=K;break}return F}static contains(V,X){if(null!=V&&X&&X.length)for(let F of X)if(this.equals(V,F))return!0;return!1}static removeAccents(V){return V&&(V=V.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),V}static isDate(V){return"[object Date]"===Object.prototype.toString.call(V)}static isEmpty(V){return null==V||""===V||Array.isArray(V)&&0===V.length||!this.isDate(V)&&"object"==typeof V&&0===Object.keys(V).length}static isNotEmpty(V){return!this.isEmpty(V)}static compare(V,X,F,K=1){let q=-1;const ge=this.isEmpty(V),Me=this.isEmpty(X);return q=ge&&Me?0:ge?K:Me?-K:"string"==typeof V&&"string"==typeof X?V.localeCompare(X,F,{numeric:!0}):V<X?-1:V>X?1:0,q}static sort(V,X,F=1,K,q=1){const ge=w.compare(V,X,K,F);let Me=F;return(w.isEmpty(V)||w.isEmpty(X))&&(Me=1===q?F:q),Me*ge}static merge(V,X){if(null!=V||null!=X)return null!=V&&"object"!=typeof V||null!=X&&"object"!=typeof X?null!=V&&"string"!=typeof V||null!=X&&"string"!=typeof X?X||V:[V||"",X||""].join(" "):{...V||{},...X||{}}}static isPrintableCharacter(V=""){return this.isNotEmpty(V)&&1===V.length&&V.match(/\S| /)}static getItemValue(V,...X){return this.isFunction(V)?V(...X):V}static findLastIndex(V,X){let F=-1;if(this.isNotEmpty(V))try{F=V.findLastIndex(X)}catch{F=V.lastIndexOf([...V].reverse().find(X))}return F}static findLast(V,X){let F;if(this.isNotEmpty(V))try{F=V.findLast(X)}catch{F=[...V].reverse().find(X)}return F}static deepEquals(V,X){if(V===X)return!0;if(V&&X&&"object"==typeof V&&"object"==typeof X){var q,ge,Me,F=Array.isArray(V),K=Array.isArray(X);if(F&&K){if((ge=V.length)!=X.length)return!1;for(q=ge;0!=q--;)if(!this.deepEquals(V[q],X[q]))return!1;return!0}if(F!=K)return!1;var xe=V instanceof Date,rt=X instanceof Date;if(xe!=rt)return!1;if(xe&&rt)return V.getTime()==X.getTime();var _t=V instanceof RegExp,vt=X instanceof RegExp;if(_t!=vt)return!1;if(_t&&vt)return V.toString()==X.toString();var ut=Object.keys(V);if((ge=ut.length)!==Object.keys(X).length)return!1;for(q=ge;0!=q--;)if(!Object.prototype.hasOwnProperty.call(X,ut[q]))return!1;for(q=ge;0!=q--;)if(!this.deepEquals(V[Me=ut[q]],X[Me]))return!1;return!0}return V!=V&&X!=X}}var A=0;function le($="pn_id_"){return`${$}${++A}`}var x=function re(){let $=[];const K=q=>q&&parseInt(q.style.zIndex,10)||0;return{get:K,set:(q,ge,Me)=>{ge&&(ge.style.zIndex=String(((q,ge)=>{let Me=$.length>0?$[$.length-1]:{key:q,value:ge},xe=Me.value+(Me.key===q?0:ge)+2;return $.push({key:q,value:xe}),xe})(q,Me)))},clear:q=>{q&&((q=>{$=$.filter(ge=>ge.value!==q)})(K(q)),q.style.zIndex="")},getCurrent:()=>$.length>0?$[$.length-1].value:0}}()},467:(Dt,Ve,z)=>{function w(le,re,x,$,V,X,F){try{var K=le[X](F),q=K.value}catch(ge){return void x(ge)}K.done?re(q):Promise.resolve(q).then($,V)}function A(le){return function(){var re=this,x=arguments;return new Promise(function($,V){var X=le.apply(re,x);function F(q){w(X,$,V,F,K,"next",q)}function K(q){w(X,$,V,F,K,"throw",q)}F(void 0)})}}z.d(Ve,{A:()=>A})},1635:(Dt,Ve,z)=>{function re(_e,Ee){var Re={};for(var Ue in _e)Object.prototype.hasOwnProperty.call(_e,Ue)&&Ee.indexOf(Ue)<0&&(Re[Ue]=_e[Ue]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ue=Object.getOwnPropertySymbols(_e);We<Ue.length;We++)Ee.indexOf(Ue[We])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ue[We])&&(Re[Ue[We]]=_e[Ue[We]])}return Re}function ge(_e,Ee,Re,Ue){return new(Re||(Re=Promise))(function(Be,dt){function gn(dn){try{St(Ue.next(dn))}catch(fn){dt(fn)}}function cr(dn){try{St(Ue.throw(dn))}catch(fn){dt(fn)}}function St(dn){dn.done?Be(dn.value):function We(Be){return Be instanceof Re?Be:new Re(function(dt){dt(Be)})}(dn.value).then(gn,cr)}St((Ue=Ue.apply(_e,Ee||[])).next())})}function De(_e){return this instanceof De?(this.v=_e,this):new De(_e)}function $e(_e,Ee,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ue=Re.apply(_e,Ee||[]),Be=[];return We=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),gn("next"),gn("throw"),gn("return",function dt(Rn){return function(Wn){return Promise.resolve(Wn).then(Rn,fn)}}),We[Symbol.asyncIterator]=function(){return this},We;function gn(Rn,Wn){Ue[Rn]&&(We[Rn]=function(zn){return new Promise(function(Gn,Er){Be.push([Rn,zn,Gn,Er])>1||cr(Rn,zn)})},Wn&&(We[Rn]=Wn(We[Rn])))}function cr(Rn,Wn){try{!function St(Rn){Rn.value instanceof De?Promise.resolve(Rn.value.v).then(dn,fn):mr(Be[0][2],Rn)}(Ue[Rn](Wn))}catch(zn){mr(Be[0][3],zn)}}function dn(Rn){cr("next",Rn)}function fn(Rn){cr("throw",Rn)}function mr(Rn,Wn){Rn(Wn),Be.shift(),Be.length&&cr(Be[0][0],Be[0][1])}}function ue(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ee=_e[Symbol.asyncIterator];return Ee?Ee.call(_e):(_e=function _t(_e){var Ee="function"==typeof Symbol&&Symbol.iterator,Re=Ee&&_e[Ee],Ue=0;if(Re)return Re.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ue>=_e.length&&(_e=void 0),{value:_e&&_e[Ue++],done:!_e}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Re={},Ue("next"),Ue("throw"),Ue("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ue(Be){Re[Be]=_e[Be]&&function(dt){return new Promise(function(gn,cr){!function We(Be,dt,gn,cr){Promise.resolve(cr).then(function(St){Be({value:St,done:gn})},dt)}(gn,cr,(dt=_e[Be](dt)).done,dt.value)})}}}z.d(Ve,{AQ:()=>$e,N3:()=>De,Tt:()=>re,sH:()=>ge,xN:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},Dt=>{Dt(Dt.s=3214)}]);